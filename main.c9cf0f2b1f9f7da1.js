"use strict";(self.webpackChunkexam=self.webpackChunkexam||[]).push([[179],{2011:(It,Re,j)=>{j.d(Re,{Dh:()=>Ie,GT:()=>ye,cc:()=>$e,hO:()=>tt,on:()=>oe,pX:()=>he,xv:()=>Te});var g=j(4650),H=j(9260),v=j(2122);It=j.hmd(It);const de=["ngOnDestroy"],he=(qe,Ze,et,ke={})=>new Proxy(qe,{get:(Ke,Be)=>et.runOutsideAngular(()=>{var ut;if(qe[Be])return!(null===(ut=ke?.spy)||void 0===ut)&&ut.get&&ke.spy.get(Be,qe[Be]),qe[Be];if(de.indexOf(Be)>-1)return()=>{};const pe=Ze.toPromise().then(Se=>{const je=Se&&Se[Be];return"function"==typeof je?je.bind(Se):je&&je.then?je.then(pt=>et.run(()=>pt)):et.run(()=>je)});return new Proxy(()=>{},{get:(Se,je)=>pe[je],apply:(Se,je,pt)=>pe.then(ot=>{var gt;const mt=ot&&ot(...pt);return!(null===(gt=ke?.spy)||void 0===gt)&&gt.apply&&ke.spy.apply(Be,pt,mt),mt})})})}),ye=(qe,Ze)=>{Ze.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(ke=>{Object.defineProperty(qe.prototype,ke,Object.getOwnPropertyDescriptor(et.prototype||et,ke))})})};class Ce{constructor(Ze){return Ze}}const Ie=new g.OlP("angularfire2.app.options"),Te=new g.OlP("angularfire2.app.name");function oe(qe,Ze,et){const Ke="object"==typeof et&&et||{};Ke.name=Ke.name||"string"==typeof et&&et||"[DEFAULT]";const ut=H.Z.apps.filter(pe=>pe&&pe.name===Ke.name)[0]||Ze.runOutsideAngular(()=>H.Z.initializeApp(qe,Ke));try{JSON.stringify(qe)!==JSON.stringify(ut.options)&&se("error",`${ut.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(ut)}const se=(qe,...Ze)=>{(0,g.X6Q)()&&typeof console<"u"&&console[qe](...Ze)},fe={provide:Ce,useFactory:oe,deps:[Ie,g.R0b,[new g.FiY,Te]]};let tt=(()=>{class qe{constructor(et){H.Z.registerVersion("angularfire",v.q4.full,"core"),H.Z.registerVersion("angularfire",v.q4.full,"app-compat"),H.Z.registerVersion("angular",g.q4F.full,et.toString())}static initializeApp(et,ke){return{ngModule:qe,providers:[{provide:Ie,useValue:et},{provide:Te,useValue:ke}]}}}return qe.\u0275fac=function(et){return new(et||qe)(g.LFG(g.Lbi))},qe.\u0275mod=g.oAB({type:qe}),qe.\u0275inj=g.cJS({providers:[fe]}),qe})();function $e(qe,Ze,et,ke,Ke){const[,Be,ut]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===qe)||[];if(Be)return function nt(qe,Ze){try{return qe.toString()===Ze.toString()}catch{return qe===Ze}}(Ke,ut)||(Le("error",`${Ze} was already initialized on the ${et} Firebase App with different settings.${Dt?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Ke,was:ut})),Be;{const pe=ke();return globalThis.\u0275AngularfireInstanceCache.push([qe,pe,Ke]),pe}}const Dt=!!It.hot,Le=(qe,...Ze)=>{(0,g.X6Q)()&&typeof console<"u"&&console[qe](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(It,Re,j)=>{j.d(Re,{q4:()=>Ya,iC:()=>Fn,HU:()=>$,vb:()=>E,JM:()=>_});var g=j(4650),H=j(259),v=j(5861),de=j(9681),he=j(2090),ye=j(4859),Ce=j(1877),Ie=j(8766);const Te="@firebase/installations",oe="0.6.4",fe=`w:${oe}`,tt="FIS_v2",Ze=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(M){return M instanceof he.ZR&&M.code.includes("request-failed")}function ke({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function Ke(M){return{token:M.token,requestStatus:2,expiresIn:ot(M.expiresIn),creationTime:Date.now()}}function Be(M,P){return ut.apply(this,arguments)}function ut(){return(ut=(0,v.Z)(function*(M,P){const ne=(yield P.json()).error;return Ze.create("request-failed",{requestName:M,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function pe({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Se(M,{refreshToken:P}){const G=pe(M);return G.append("Authorization",function gt(M){return`${tt} ${M}`}(P)),G}function je(M){return pt.apply(this,arguments)}function pt(){return(pt=(0,v.Z)(function*(M){const P=yield M();return P.status>=500&&P.status<600?M():P})).apply(this,arguments)}function ot(M){return Number(M.replace("s","000"))}function mt(M,P){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,v.Z)(function*({appConfig:M,heartbeatServiceProvider:P},{fid:G}){const ne=ke(M),_e=pe(M),Me=P.getImmediate({optional:!0});if(Me){const zt=yield Me.getHeartbeatsHeader();zt&&_e.append("x-firebase-client",zt)}const Lt={method:"POST",headers:_e,body:JSON.stringify({fid:G,authVersion:tt,appId:M.appId,sdkVersion:fe})},Kt=yield je(()=>fetch(ne,Lt));if(Kt.ok){const zt=yield Kt.json();return{fid:zt.fid||G,registrationStatus:2,refreshToken:zt.refreshToken,authToken:Ke(zt.authToken)}}throw yield Be("Create Installation",Kt)})).apply(this,arguments)}function Pe(M){return new Promise(P=>{setTimeout(P,M)})}const ze=/^[cdef][\w-]{21}$/;function it(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const G=function ft(M){return function Ve(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return ze.test(G)?G:""}catch{return""}}function yt(M){return`${M.appName}!${M.appId}`}const vn=new Map;function Ee(M,P){const G=yt(M);At(G,P),function An(M,P){const G=function hn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=M=>{At(M.data.key,M.data.fid)}),wn}();G&&G.postMessage({key:M,fid:P}),function Xn(){0===vn.size&&wn&&(wn.close(),wn=null)}()}(G,P)}function At(M,P){const G=vn.get(M);if(G)for(const ne of G)ne(P)}let wn=null;const Nn="firebase-installations-store";let mr=null;function ur(){return mr||(mr=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(M,P)=>{0===P&&M.createObjectStore(Nn)}})),mr}function Ln(M,P){return yr.apply(this,arguments)}function yr(){return(yr=(0,v.Z)(function*(M,P){const G=yt(M),_e=(yield ur()).transaction(Nn,"readwrite"),Me=_e.objectStore(Nn),Xe=yield Me.get(G);return yield Me.put(P,G),yield _e.done,(!Xe||Xe.fid!==P.fid)&&Ee(M,P.fid),P})).apply(this,arguments)}function ct(M){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,v.Z)(function*(M){const P=yt(M),ne=(yield ur()).transaction(Nn,"readwrite");yield ne.objectStore(Nn).delete(P),yield ne.done})).apply(this,arguments)}function Er(M,P){return cr.apply(this,arguments)}function cr(){return(cr=(0,v.Z)(function*(M,P){const G=yt(M),_e=(yield ur()).transaction(Nn,"readwrite"),Me=_e.objectStore(Nn),Xe=yield Me.get(G),Lt=P(Xe);return void 0===Lt?yield Me.delete(G):yield Me.put(Lt,G),yield _e.done,Lt&&(!Xe||Xe.fid!==Lt.fid)&&Ee(M,Lt.fid),Lt})).apply(this,arguments)}function lr(M){return en.apply(this,arguments)}function en(){return(en=(0,v.Z)(function*(M){let P;const G=yield Er(M.appConfig,ne=>{const _e=Vt(ne),Me=Ot(M,_e);return P=Me.registrationPromise,Me.installationEntry});return""===G.fid?{installationEntry:yield P}:{installationEntry:G,registrationPromise:P}})).apply(this,arguments)}function Vt(M){return dr(M||{fid:it(),registrationStatus:0})}function Ot(M,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Ze.create("app-offline"))};const G={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ne=function Ht(M,P){return On.apply(this,arguments)}(M,G);return{installationEntry:G,registrationPromise:ne}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:pn(M)}:{installationEntry:P}}function On(){return(On=(0,v.Z)(function*(M,P){try{const G=yield mt(M,P);return Ln(M.appConfig,G)}catch(G){throw et(G)&&409===G.customData.serverCode?yield ct(M.appConfig):yield Ln(M.appConfig,{fid:P.fid,registrationStatus:0}),G}})).apply(this,arguments)}function pn(M){return or.apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(M){let P=yield Tr(M.appConfig);for(;1===P.registrationStatus;)yield Pe(100),P=yield Tr(M.appConfig);if(0===P.registrationStatus){const{installationEntry:G,registrationPromise:ne}=yield lr(M);return ne||G}return P})).apply(this,arguments)}function Tr(M){return Er(M,P=>{if(!P)throw Ze.create("installation-not-found");return dr(P)})}function dr(M){return function ri(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function rn(M,P){return ii.apply(this,arguments)}function ii(){return(ii=(0,v.Z)(function*({appConfig:M,heartbeatServiceProvider:P},G){const ne=Jt(M,G),_e=Se(M,G),Me=P.getImmediate({optional:!0});if(Me){const zt=yield Me.getHeartbeatsHeader();zt&&_e.append("x-firebase-client",zt)}const Lt={method:"POST",headers:_e,body:JSON.stringify({installation:{sdkVersion:fe,appId:M.appId}})},Kt=yield je(()=>fetch(ne,Lt));if(Kt.ok)return Ke(yield Kt.json());throw yield Be("Generate Auth Token",Kt)})).apply(this,arguments)}function Jt(M,{fid:P}){return`${ke(M)}/${P}/authTokens:generate`}function Gt(M){return jn.apply(this,arguments)}function jn(){return(jn=(0,v.Z)(function*(M,P=!1){let G;const ne=yield Er(M.appConfig,Me=>{if(!sn(Me))throw Ze.create("not-registered");const Xe=Me.authToken;if(!P&&Vn(Xe))return Me;if(1===Xe.requestStatus)return G=lt(M,P),Me;{if(!navigator.onLine)throw Ze.create("app-offline");const Lt=re(Me);return G=Ut(M,Lt),Lt}});return G?yield G:ne.authToken})).apply(this,arguments)}function lt(M,P){return He.apply(this,arguments)}function He(){return(He=(0,v.Z)(function*(M,P){let G=yield bt(M.appConfig);for(;1===G.authToken.requestStatus;)yield Pe(100),G=yield bt(M.appConfig);const ne=G.authToken;return 0===ne.requestStatus?Gt(M,P):ne})).apply(this,arguments)}function bt(M){return Er(M,P=>{if(!sn(P))throw Ze.create("not-registered");return function Q(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Ut(M,P){return $t.apply(this,arguments)}function $t(){return($t=(0,v.Z)(function*(M,P){try{const G=yield rn(M,P),ne=Object.assign(Object.assign({},P),{authToken:G});return yield Ln(M.appConfig,ne),G}catch(G){if(!et(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ne=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Ln(M.appConfig,ne)}else yield ct(M.appConfig);throw G}})).apply(this,arguments)}function sn(M){return void 0!==M&&2===M.registrationStatus}function Vn(M){return 2===M.requestStatus&&!function ce(M){const P=Date.now();return P<M.creationTime||M.creationTime+M.expiresIn<P+36e5}(M)}function re(M){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:P})}function q(){return(q=(0,v.Z)(function*(M){const P=M,{installationEntry:G,registrationPromise:ne}=yield lr(P);return ne?ne.catch(console.error):Gt(P).catch(console.error),G.fid})).apply(this,arguments)}function Fe(){return(Fe=(0,v.Z)(function*(M,P=!1){const G=M;return yield Et(G),(yield Gt(G,P)).token})).apply(this,arguments)}function Et(M){return le.apply(this,arguments)}function le(){return(le=(0,v.Z)(function*(M){const{registrationPromise:P}=yield lr(M);P&&(yield P)})).apply(this,arguments)}function mi(M){return Ze.create("missing-app-config-values",{valueName:M})}const Zr="installations",Kr=M=>{const P=M.getProvider("app").getImmediate(),G=function Jn(M){if(!M||!M.options)throw mi("App Configuration");if(!M.name)throw mi("App Name");const P=["projectId","apiKey","appId"];for(const G of P)if(!M.options[G])throw mi(G);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(P);return{app:P,appConfig:G,heartbeatServiceProvider:(0,de._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Eo=M=>{const P=M.getProvider("app").getImmediate(),G=(0,de._getProvider)(P,Zr).getImmediate();return{getId:()=>function X(M){return q.apply(this,arguments)}(G),getToken:_e=>function we(M){return Fe.apply(this,arguments)}(G,_e)}};(function cs(){(0,de._registerComponent)(new ye.wA(Zr,Kr,"PUBLIC")),(0,de._registerComponent)(new ye.wA("installations-internal",Eo,"PRIVATE"))})(),(0,de.registerVersion)(Te,oe),(0,de.registerVersion)(Te,oe,"esm2017");const ws="@firebase/remote-config",Zn=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bi{constructor(P,G,ne,_e){this.client=P,this.storage=G,this.storageCache=ne,this.logger=_e}isCachedDataFresh(P,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-G,_e=ne<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${_e}.`),_e}fetch(P){var G=this;return(0,v.Z)(function*(){const[ne,_e]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(_e&&G.isCachedDataFresh(P.cacheMaxAgeMillis,ne))return _e;P.eTag=_e&&_e.eTag;const Me=yield G.client.fetch(P),Xe=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&Xe.push(G.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(Xe),Me})()}}function Mr(M=navigator){return M.languages&&M.languages[0]||M.language}class ji{constructor(P,G,ne,_e,Me,Xe){this.firebaseInstallations=P,this.sdkVersion=G,this.namespace=ne,this.projectId=_e,this.apiKey=Me,this.appId=Xe}fetch(P){var G=this;return(0,v.Z)(function*(){const[ne,_e]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Kt={sdk_version:G.sdkVersion,app_instance_id:ne,app_instance_id_token:_e,app_id:G.appId,language_code:Mr()},zt={method:"POST",headers:Lt,body:JSON.stringify(Kt)},gn=fetch(Xe,zt),on=new Promise((Zs,Po)=>{P.signal.addEventListener(()=>{const Xa=new Error("The operation was aborted.");Xa.name="AbortError",Po(Xa)})});let po;try{yield Promise.race([gn,on]),po=yield gn}catch(Zs){let Po="fetch-client-network";throw"AbortError"===Zs?.name&&(Po="fetch-timeout"),Zn.create(Po,{originalErrorMessage:Zs?.message})}let hi=po.status;const Ma=po.headers.get("ETag")||void 0;let uc,qs;if(200===po.status){let Zs;try{Zs=yield po.json()}catch(Po){throw Zn.create("fetch-client-parse",{originalErrorMessage:Po?.message})}uc=Zs.entries,qs=Zs.state}if("INSTANCE_STATE_UNSPECIFIED"===qs?hi=500:"NO_CHANGE"===qs?hi=304:("NO_TEMPLATE"===qs||"EMPTY_CONFIG"===qs)&&(uc={}),304!==hi&&200!==hi)throw Zn.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Ma,config:uc}})()}}class Sr{constructor(P,G){this.client=P,this.storage=G}fetch(P){var G=this;return(0,v.Z)(function*(){const ne=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(P,ne)})()}attemptFetch(P,{throttleEndTimeMillis:G,backoffCount:ne}){var _e=this;return(0,v.Z)(function*(){yield function Ea(M,P){return new Promise((G,ne)=>{const _e=Math.max(P-Date.now(),0),Me=setTimeout(G,_e);M.addEventListener(()=>{clearTimeout(Me),ne(Zn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,G);try{const Me=yield _e.client.fetch(P);return yield _e.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function nr(M){if(!(M instanceof he.ZR&&M.customData))return!1;const P=Number(M.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Me))throw Me;const Xe={throttleEndTimeMillis:Date.now()+(0,he.$s)(ne),backoffCount:ne+1};return yield _e.storage.setThrottleMetadata(Xe),_e.attemptFetch(P,Xe)}})()}}class to{constructor(P,G,ne,_e,Me){this.app=P,this._client=G,this._storageCache=ne,this._storage=_e,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ls(M,P){const G=M.target.error||void 0;return Zn.create(P,{originalErrorMessage:G&&G?.message})}const Ur="app_namespace_store";class Qr{constructor(P,G,ne,_e=function vi(){return new Promise((M,P)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{P(ls(ne,"storage-open"))},G.onsuccess=ne=>{M(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Ur,{keyPath:"compositeKey"})}}catch(G){P(Zn.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=P,this.appName=G,this.namespace=ne,this.openDbPromise=_e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var G=this;return(0,v.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((_e,Me)=>{const Lt=ne.transaction([Ur],"readonly").objectStore(Ur),Kt=G.createCompositeKey(P);try{const zt=Lt.get(Kt);zt.onerror=gn=>{Me(ls(gn,"storage-get"))},zt.onsuccess=gn=>{const on=gn.target.result;_e(on?on.value:void 0)}}catch(zt){Me(Zn.create("storage-get",{originalErrorMessage:zt?.message}))}})})()}set(P,G){var ne=this;return(0,v.Z)(function*(){const _e=yield ne.openDbPromise;return new Promise((Me,Xe)=>{const Kt=_e.transaction([Ur],"readwrite").objectStore(Ur),zt=ne.createCompositeKey(P);try{const gn=Kt.put({compositeKey:zt,value:G});gn.onerror=on=>{Xe(ls(on,"storage-set"))},gn.onsuccess=()=>{Me()}}catch(gn){Xe(Zn.create("storage-set",{originalErrorMessage:gn?.message}))}})})()}delete(P){var G=this;return(0,v.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((_e,Me)=>{const Lt=ne.transaction([Ur],"readwrite").objectStore(Ur),Kt=G.createCompositeKey(P);try{const zt=Lt.delete(Kt);zt.onerror=gn=>{Me(ls(gn,"storage-delete"))},zt.onsuccess=()=>{_e()}}catch(zt){Me(Zn.create("storage-delete",{originalErrorMessage:zt?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ds{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,v.Z)(function*(){const G=P.storage.getLastFetchStatus(),ne=P.storage.getLastSuccessfulFetchTimestampMillis(),_e=P.storage.getActiveConfig(),Me=yield G;Me&&(P.lastFetchStatus=Me);const Xe=yield ne;Xe&&(P.lastSuccessfulFetchTimestampMillis=Xe);const Lt=yield _e;Lt&&(P.activeConfig=Lt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Tu(){return wo.apply(this,arguments)}function wo(){return(wo=(0,v.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function jo(){(0,de._registerComponent)(new ye.wA("remote-config",function M(P,{instanceIdentifier:G}){const ne=P.getProvider("app").getImmediate(),_e=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!(0,he.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:Me,apiKey:Xe,appId:Lt}=ne.options;if(!Me)throw Zn.create("registration-project-id");if(!Xe)throw Zn.create("registration-api-key");if(!Lt)throw Zn.create("registration-app-id");const Kt=new Qr(Lt,ne.name,G=G||"firebase"),zt=new Ds(Kt),gn=new Ce.Yd(ws);gn.logLevel=Ce.in.ERROR;const on=new ji(_e,de.SDK_VERSION,G,Me,Xe,Lt),po=new Sr(on,Kt),hi=new Bi(po,Kt,zt,gn),Ma=new to(ne,hi,zt,Kt,gn);return function Pn(M){const P=(0,he.m9)(M);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Ma),Ma},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(ws,"0.4.4"),(0,de.registerVersion)(ws,"0.4.4","esm2017")}();const Ti="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ro="google.c.a.c_id",Ia="google.c.a.c_l",ia="google.c.a.ts",Si="google.c.a.e";var Ai=(()=>{return(M=Ai||(Ai={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Ai;var M})();function $i(M){const P=new Uint8Array(M);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $o(M){const G=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(G),_e=new Uint8Array(ne.length);for(let Me=0;Me<ne.length;++Me)_e[Me]=ne.charCodeAt(Me);return _e}const ds="fcm_token_details_db",io="fcm_token_object_Store";function bs(M){return so.apply(this,arguments)}function so(){return so=(0,v.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(ds))return null;let P=null;return(yield(0,Ie.X3)(ds,5,{upgrade:(ne=(0,v.Z)(function*(_e,Me,Xe,Lt){var Kt;if(Me<2||!_e.objectStoreNames.contains(io))return;const zt=Lt.objectStore(io),gn=yield zt.index("fcmSenderId").get(M);if(yield zt.clear(),gn)if(2===Me){const on=gn;if(!on.auth||!on.p256dh||!on.endpoint)return;P={token:on.fcmToken,createTime:null!==(Kt=on.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:on.auth,p256dh:on.p256dh,endpoint:on.endpoint,swScope:on.swScope,vapidKey:"string"==typeof on.vapidKey?on.vapidKey:$i(on.vapidKey)}}}else if(3===Me){const on=gn;P={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:$i(on.auth),p256dh:$i(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:$i(on.vapidKey)}}}else if(4===Me){const on=gn;P={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:$i(on.auth),p256dh:$i(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:$i(on.vapidKey)}}}}),function(Me,Xe,Lt,Kt){return ne.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(ds),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),Cs(P)?P:null;var ne}),so.apply(this,arguments)}function Cs(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:P}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const js="firebase-messaging-store";let fs=null;function Ts(){return fs||(fs=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(M,P)=>{0===P&&M.createObjectStore(js)}})),fs}function Do(M){return ps.apply(this,arguments)}function ps(){return(ps=(0,v.Z)(function*(M){const P=Zt(M),ne=yield(yield Ts()).transaction(js).objectStore(js).get(P);if(ne)return ne;{const _e=yield bs(M.appConfig.senderId);if(_e)return yield xi(M,_e),_e}})).apply(this,arguments)}function xi(M,P){return Br.apply(this,arguments)}function Br(){return(Br=(0,v.Z)(function*(M,P){const G=Zt(M),_e=(yield Ts()).transaction(js,"readwrite");return yield _e.objectStore(js).put(P,G),yield _e.done,P})).apply(this,arguments)}function Rt(M){return gs.apply(this,arguments)}function gs(){return(gs=(0,v.Z)(function*(M){const P=Zt(M),ne=(yield Ts()).transaction(js,"readwrite");yield ne.objectStore(js).delete(P),yield ne.done})).apply(this,arguments)}function Zt({appConfig:M}){return M.appId}const Qn=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ji(M,P){return fr.apply(this,arguments)}function fr(){return(fr=(0,v.Z)(function*(M,P){const G=yield Ei(M),ne=ai(P),_e={method:"POST",headers:G,body:JSON.stringify(ne)};let Me;try{Me=yield(yield fetch(Ir(M.appConfig),_e)).json()}catch(Xe){throw Qn.create("token-subscribe-failed",{errorInfo:Xe?.toString()})}if(Me.error)throw Qn.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw Qn.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function bo(M,P){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,v.Z)(function*(M,P){const G=yield Ei(M),ne=ai(P.subscriptionOptions),_e={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Me;try{Me=yield(yield fetch(`${Ir(M.appConfig)}/${P.token}`,_e)).json()}catch(Xe){throw Qn.create("token-update-failed",{errorInfo:Xe?.toString()})}if(Me.error)throw Qn.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw Qn.create("token-update-no-token");return Me.token})).apply(this,arguments)}function jr(M,P){return As.apply(this,arguments)}function As(){return(As=(0,v.Z)(function*(M,P){const ne={method:"DELETE",headers:yield Ei(M)};try{const Me=yield(yield fetch(`${Ir(M.appConfig)}/${P}`,ne)).json();if(Me.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(_e){throw Qn.create("token-unsubscribe-failed",{errorInfo:_e?.toString()})}})).apply(this,arguments)}function Ir({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Ei(M){return _n.apply(this,arguments)}function _n(){return(_n=(0,v.Z)(function*({appConfig:M,installations:P}){const G=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ai({p256dh:M,auth:P,endpoint:G,vapidKey:ne}){const _e={web:{endpoint:G,auth:P,p256dh:M}};return ne!==_i&&(_e.web.applicationPubKey=ne),_e}const Pr=6048e5;function Da(M){return $r.apply(this,arguments)}function $r(){return($r=(0,v.Z)(function*(M){const P=yield xs(M.swRegistration,M.vapidKey),G={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:P.endpoint,auth:$i(P.getKey("auth")),p256dh:$i(P.getKey("p256dh"))},ne=yield Do(M.firebaseDependencies);if(ne){if(oa(ne.subscriptionOptions,G))return Date.now()>=ne.createTime+Pr?tn(M,{token:ne.token,createTime:Date.now(),subscriptionOptions:G}):ne.token;try{yield jr(M.firebaseDependencies,ne.token)}catch(_e){console.warn(_e)}return sa(M.firebaseDependencies,G)}return sa(M.firebaseDependencies,G)})).apply(this,arguments)}function Co(M){return ar.apply(this,arguments)}function ar(){return(ar=(0,v.Z)(function*(M){const P=yield Do(M.firebaseDependencies);P&&(yield jr(M.firebaseDependencies,P.token),yield Rt(M.firebaseDependencies));const G=yield M.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function tn(M,P){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,v.Z)(function*(M,P){try{const G=yield bo(M.firebaseDependencies,P),ne=Object.assign(Object.assign({},P),{token:G,createTime:Date.now()});return yield xi(M.firebaseDependencies,ne),G}catch(G){throw yield Co(M),G}})).apply(this,arguments)}function sa(M,P){return $s.apply(this,arguments)}function $s(){return($s=(0,v.Z)(function*(M,P){const ne={token:yield Ji(M,P),createTime:Date.now(),subscriptionOptions:P};return yield xi(M,ne),ne.token})).apply(this,arguments)}function xs(M,P){return kr.apply(this,arguments)}function kr(){return(kr=(0,v.Z)(function*(M,P){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$o(P)})})).apply(this,arguments)}function oa(M,P){return P.vapidKey===M.vapidKey&&P.endpoint===M.endpoint&&P.auth===M.auth&&P.p256dh===M.p256dh}function aa(M){const P={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function To(M,P){if(!P.notification)return;M.notification={};const G=P.notification.title;G&&(M.notification.title=G);const ne=P.notification.body;ne&&(M.notification.body=ne);const _e=P.notification.image;_e&&(M.notification.image=_e);const Me=P.notification.icon;Me&&(M.notification.icon=Me)}(P,M),function S(M,P){P.data&&(M.data=P.data)}(P,M),function R(M,P){var G,ne,_e,Me,Xe;if(!(P.fcmOptions||null!==(G=P.notification)&&void 0!==G&&G.click_action))return;M.fcmOptions={};const Lt=null!==(_e=null===(ne=P.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==_e?_e:null===(Me=P.notification)||void 0===Me?void 0:Me.click_action;Lt&&(M.fcmOptions.link=Lt);const Kt=null===(Xe=P.fcmOptions)||void 0===Xe?void 0:Xe.analytics_label;Kt&&(M.fcmOptions.analyticsLabel=Kt)}(P,M),P}function A(M){return"object"==typeof M&&!!M&&ro in M}function Z(M,P){const G=[];for(let ne=0;ne<M.length;ne++)G.push(M.charAt(ne)),ne<P.length&&G.push(P.charAt(ne));return G.join("")}function Ct(M){return Qn.create("missing-app-config-values",{valueName:M})}Z("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Z("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dn{constructor(P,G,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _e=function be(M){if(!M||!M.options)throw Ct("App Configuration Object");if(!M.name)throw Ct("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:G}=M;for(const ne of P)if(!G[ne])throw Ct(ne);return{appName:M.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:_e,installations:G,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function rr(M){return ui.apply(this,arguments)}function ui(){return(ui=(0,v.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Ti,{scope:Bs}),M.swRegistration.update().catch(()=>{})}catch(P){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function Gi(M,P){return es.apply(this,arguments)}function es(){return(es=(0,v.Z)(function*(M,P){if(!P&&!M.swRegistration&&(yield rr(M)),P||!M.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");M.swRegistration=P}})).apply(this,arguments)}function Ms(M,P){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,v.Z)(function*(M,P){P?M.vapidKey=P:M.vapidKey||(M.vapidKey=_i)})).apply(this,arguments)}function wi(){return(wi=(0,v.Z)(function*(M,P){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield Ms(M,P?.vapidKey),yield Gi(M,P?.serviceWorkerRegistration),Da(M)})).apply(this,arguments)}function Ns(M,P,G){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,v.Z)(function*(M,P,G){const ne=ts(P);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:G[ro],message_name:G[Ia],message_time:G[ia],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ts(M){switch(M){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Go(){return(Go=(0,v.Z)(function*(M,P){const G=P.data;if(!G.isFirebaseMessaging)return;M.onMessageHandler&&G.messageType===Ai.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(aa(G)):M.onMessageHandler.next(aa(G)));const ne=G.data;A(ne)&&"1"===ne[Si]&&(yield Ns(M,G.messageType,ne))})).apply(this,arguments)}const zo="@firebase/messaging",Gs=M=>{const P=new Dn(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function su(M,P){return Go.apply(this,arguments)}(P,G)),P},oo=M=>{const P=M.getProvider("messaging").getImmediate();return{getToken:ne=>function Xr(M,P){return wi.apply(this,arguments)}(P,ne)}};function ao(){return So.apply(this,arguments)}function So(){return(So=(0,v.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Va(){(0,de._registerComponent)(new ye.wA("messaging",Gs,"PUBLIC")),(0,de._registerComponent)(new ye.wA("messaging-internal",oo,"PRIVATE")),(0,de.registerVersion)(zo,"0.12.4"),(0,de.registerVersion)(zo,"0.12.4","esm2017")}();const Ao="analytics",ci="firebase_id",ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$a="https://www.googletagmanager.com/gtag/js",Mn=new Ce.Yd("@firebase/analytics");function Jr(M){return Promise.all(M.map(P=>P.catch(G=>G)))}function Ha(M,P){const G=document.createElement("script");G.src=`${$a}?l=${M}&id=${P}`,G.async=!0,document.head.appendChild(G)}function la(M,P,G,ne,_e,Me){return da.apply(this,arguments)}function da(){return(da=(0,v.Z)(function*(M,P,G,ne,_e,Me){const Xe=ne[_e];try{if(Xe)yield P[Xe];else{const Kt=(yield Jr(G)).find(zt=>zt.measurementId===_e);Kt&&(yield P[Kt.appId])}}catch(Lt){Mn.error(Lt)}M("config",_e,Me)})).apply(this,arguments)}function T(M,P,G,ne,_e){return V.apply(this,arguments)}function V(){return(V=(0,v.Z)(function*(M,P,G,ne,_e){try{let Me=[];if(_e&&_e.send_to){let Xe=_e.send_to;Array.isArray(Xe)||(Xe=[Xe]);const Lt=yield Jr(G);for(const Kt of Xe){const zt=Lt.find(on=>on.measurementId===Kt),gn=zt&&P[zt.appId];if(!gn){Me=[];break}Me.push(gn)}}0===Me.length&&(Me=Object.values(P)),yield Promise.all(Me),M("event",ne,_e||{})}catch(Me){Mn.error(Me)}})).apply(this,arguments)}function ie(M){const P=window.document.getElementsByTagName("script");for(const G of Object.values(P))if(G.src&&G.src.includes($a)&&G.src.includes(M))return G;return null}const Ue=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kn=new class Bn{constructor(P={},G=1e3){this.throttleMetadata=P,this.intervalMillis=G}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,G){this.throttleMetadata[P]=G}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function ln(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Fr(M){return nn.apply(this,arguments)}function nn(){return(nn=(0,v.Z)(function*(M){var P;const{appId:G,apiKey:ne}=M,_e={method:"GET",headers:ln(ne)},Me=ua.replace("{app-id}",G),Xe=yield fetch(Me,_e);if(200!==Xe.status&&304!==Xe.status){let Lt="";try{const Kt=yield Xe.json();null!==(P=Kt.error)&&void 0!==P&&P.message&&(Lt=Kt.error.message)}catch{}throw Ue.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:Lt})}return Xe.json()})).apply(this,arguments)}function pr(M){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,v.Z)(function*(M,P=kn,G){const{appId:ne,apiKey:_e,measurementId:Me}=M.options;if(!ne)throw Ue.create("no-app-id");if(!_e){if(Me)return{measurementId:Me,appId:ne};throw Ue.create("no-api-key")}const Xe=P.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Lt=new Mo;return setTimeout((0,v.Z)(function*(){Lt.abort()}),void 0!==G?G:6e4),qi({appId:ne,apiKey:_e,measurementId:Me},Xe,Lt,P)})).apply(this,arguments)}function qi(M,P,G){return li.apply(this,arguments)}function li(){return(li=(0,v.Z)(function*(M,{throttleEndTimeMillis:P,backoffCount:G},ne,_e=kn){var Me;const{appId:Xe,measurementId:Lt}=M;try{yield Zi(ne,P)}catch(Kt){if(Lt)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${Kt?.message}]`),{appId:Xe,measurementId:Lt};throw Kt}try{const Kt=yield Fr(M);return _e.deleteThrottleMetadata(Xe),Kt}catch(Kt){const zt=Kt;if(!xo(zt)){if(_e.deleteThrottleMetadata(Xe),Lt)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:Xe,measurementId:Lt};throw Kt}const gn=503===Number(null===(Me=zt?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,he.$s)(G,_e.intervalMillis,30):(0,he.$s)(G,_e.intervalMillis),on={throttleEndTimeMillis:Date.now()+gn,backoffCount:G+1};return _e.setThrottleMetadata(Xe,on),Mn.debug(`Calling attemptFetch again in ${gn} millis`),qi(M,on,ne,_e)}})).apply(this,arguments)}function Zi(M,P){return new Promise((G,ne)=>{const _e=Math.max(P-Date.now(),0),Me=setTimeout(G,_e);M.addEventListener(()=>{clearTimeout(Me),ne(Ue.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function xo(M){if(!(M instanceof he.ZR&&M.customData))return!1;const P=Number(M.customData.httpStatus);return 429===P||500===P||503===P||504===P}class Mo{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Os,co;function qo(){return(qo=(0,v.Z)(function*(M,P,G,ne,_e){if(_e&&_e.global)M("event",G,ne);else{const Me=yield P;M("event",G,Object.assign(Object.assign({},ne),{send_to:Me}))}})).apply(this,arguments)}function Ta(M){co=M}function Ga(M){Os=M}function pa(){return za.apply(this,arguments)}function za(){return(za=(0,v.Z)(function*(){if(!(0,he.hl)())return Mn.warn(Ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(M){return Mn.warn(Ue.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(M,P,G,ne,_e,Me,Xe){var Lt;const Kt=pr(M);Kt.then(hi=>{G[hi.measurementId]=hi.appId,M.options.measurementId&&hi.measurementId!==M.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Mn.error(hi)),P.push(Kt);const zt=pa().then(hi=>{if(hi)return ne.getId()}),[gn,on]=yield Promise.all([Kt,zt]);ie(Me)||Ha(Me,gn.measurementId),co&&(_e("consent","default",co),Ta(void 0)),_e("js",new Date);const po=null!==(Lt=Xe?.config)&&void 0!==Lt?Lt:{};return po.origin="firebase",po.update=!0,null!=on&&(po[ci]=on),_e("config",gn.measurementId,po),Os&&(_e("set",Os),Ga(void 0)),gn.measurementId})).apply(this,arguments)}class uu{constructor(P){this.app=P}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},cu=[];const Oo={};let Sa,Ri,ir="dataLayer",zs=!1;function Wa(M,P,G){!function oc(){const M=[];if((0,he.ru)()&&M.push("This is a browser extension environment."),(0,he.zI)()||M.push("Cookies are not available."),M.length>0){const P=M.map((ne,_e)=>`(${_e+1}) ${ne}`).join(" "),G=Ue.create("invalid-analytics-context",{errorInfo:P});Mn.warn(G.message)}}();const ne=M.options.appId;if(!ne)throw Ue.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Ue.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[ne])throw Ue.create("already-exists",{id:ne});if(!zs){!function ca(M){let P=[];Array.isArray(window[M])?P=window[M]:window[M]=P}(ir);const{wrappedGtag:Me,gtagCore:Xe}=function z(M,P,G,ne,_e){let Me=function(...Xe){window[ne].push(arguments)};return window[_e]&&"function"==typeof window[_e]&&(Me=window[_e]),window[_e]=function N(M,P,G,ne){function Me(){return(Me=(0,v.Z)(function*(Xe,Lt,Kt){try{"event"===Xe?yield T(M,P,G,Lt,Kt):"config"===Xe?yield la(M,P,G,ne,Lt,Kt):"consent"===Xe?M("consent","update",Kt):M("set",Lt)}catch(zt){Mn.error(zt)}})).apply(this,arguments)}return function _e(Xe,Lt,Kt){return Me.apply(this,arguments)}}(Me,M,P,G),{gtagCore:Me,wrappedGtag:window[_e]}}(rs,cu,Oo,ir,"gtag");Ri=Me,Sa=Xe,zs=!0}return rs[ne]=function Au(M,P,G,ne,_e,Me,Xe){return No.apply(this,arguments)}(M,cu,Oo,P,Sa,ir,G),new uu(M)}function Ko(){return is.apply(this,arguments)}function is(){return(is=(0,v.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const zn="@firebase/analytics";!function lo(){(0,de._registerComponent)(new ye.wA(Ao,(P,{options:G})=>Wa(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,de._registerComponent)(new ye.wA("analytics-internal",function M(P){try{const G=P.getProvider(Ao).getImmediate();return{logEvent:(ne,_e,Me)=>function Hc(M,P,G,ne){M=(0,he.m9)(M),function Ps(M,P,G,ne,_e){return qo.apply(this,arguments)}(Ri,rs[M.app.options.appId],P,G,ne).catch(_e=>Mn.error(_e))}(G,ne,_e,Me)}}catch(G){throw Ue.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,de.registerVersion)(zn,"0.9.4"),(0,de.registerVersion)(zn,"0.9.4","esm2017")}();var Yo=j(4408),xa=j(7565);const Dr=new class du extends xa.v{}(class Za extends Yo.o{constructor(P,G){super(P,G),this.scheduler=P,this.work=G}schedule(P,G=0){return G>0?super.schedule(P,G):(this.delay=G,this.state=P,this.scheduler.flush(this),this)}execute(P,G){return G>0||this.closed?super.execute(P,G):this._execute(P,G)}requestAsyncId(P,G,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(P,G,ne):(P.flush(this),0)}});var Ru=j(4986),ss=j(8505),Hr=j(9468),Ka=j(5363);const Ya=new g.GfV("7.5.0"),Nu="__angularfire_symbol__analyticsIsSupportedValue",Ni="__angularfire_symbol__analyticsIsSupported",ho="__angularfire_symbol__remoteConfigIsSupportedValue",Xo="__angularfire_symbol__remoteConfigIsSupported",ys="__angularfire_symbol__messagingIsSupportedValue",fo="__angularfire_symbol__messagingIsSupported";function _(M,P,G){if(P){if(1===P.length)return P[0];const Me=P.filter(Xe=>Xe.app===G);if(1===Me.length)return Me[0]}return G.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ni]||(globalThis[Ni]=Ko().then(M=>globalThis[Nu]=M).catch(()=>globalThis[Nu]=!1)),globalThis[fo]||(globalThis[fo]=ao().then(M=>globalThis[ys]=M).catch(()=>globalThis[ys]=!1)),globalThis[Xo]||(globalThis[Xo]=Tu().then(M=>globalThis[ho]=M).catch(()=>globalThis[ho]=!1));const E=(M,P)=>{const G=P?[P]:(0,H.C6)(),ne=[];return G.forEach(_e=>{_e.container.getProvider(M).instances.forEach(Xe=>{ne.includes(Xe)||ne.push(Xe)})}),ne};function m(){}class C{constructor(P,G=Dr){this.zone=P,this.delegate=G}now(){return this.delegate.now()}schedule(P,G,ne){const _e=this.zone;return this.delegate.schedule(function(Xe){_e.runGuarded(()=>{P.apply(this,[Xe])})},G,ne)}}class k{constructor(P){this.zone=P,this.task=null}call(P,G){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",m,{},m,m)),G.pipe((0,ss.b)({next:ne,complete:ne,error:ne})).subscribe(P).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $=(()=>{class M{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new C(Zone.current)),this.insideAngular=G.run(()=>new C(Zone.current,Ru.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(G){return new(G||M)(g.LFG(g.R0b))},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function K(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Fn(M){return K(),function Lr(M){return function(G){return(G=G.lift(new k(M.ngZone))).pipe((0,Hr.R)(M.outsideAngular),(0,Ka.Q)(M.insideAngular))}}(K())(M)}},5114:(It,Re,j)=>{j.d(Re,{$:()=>Ir,A:()=>se,B:()=>$e,G:()=>Eo,H:()=>$n,J:()=>Sr,L:()=>Vn,M:()=>wo,N:()=>no,P:()=>Ru,Q:()=>ro,R:()=>Aa,T:()=>Ia,U:()=>_i,V:()=>Ai,W:()=>$i,X:()=>bs,Y:()=>Or,Z:()=>Ji,_:()=>bo,a:()=>bn,a0:()=>Da,a1:()=>Co,a2:()=>tn,a3:()=>sa,a4:()=>xs,a5:()=>oa,a6:()=>To,a7:()=>S,a8:()=>A,a9:()=>Z,aA:()=>ce,aB:()=>Kt,aC:()=>xt,aD:()=>Ge,aE:()=>hr,aI:()=>ln,aL:()=>Si,aa:()=>rr,ab:()=>Gi,ac:()=>Ms,af:()=>Ns,ag:()=>ts,ah:()=>su,ak:()=>js,al:()=>Wo,an:()=>$a,ao:()=>da,ap:()=>je,aq:()=>J,ar:()=>Et,as:()=>et,at:()=>Rl,au:()=>Zs,av:()=>me,aw:()=>ke,ax:()=>pe,ay:()=>hi,az:()=>ot,b:()=>Ue,c:()=>ys,d:()=>Qa,e:()=>hu,f:()=>Lr,g:()=>ne,h:()=>M,i:()=>za,j:()=>Xe,k:()=>lf,l:()=>ac,m:()=>Nl,o:()=>Ie,r:()=>Yo,s:()=>Sl,u:()=>Dr});var g=j(5861),H=j(2090),v=j(9681),de=j(1877),he=j(655),ye=j(4859);const Ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new de.Yd("@firebase/auth");function Ze(w,...d){qe.logLevel<=de.in.ERROR&&qe.error(`Auth (${v.SDK_VERSION}): ${w}`,...d)}function et(w,...d){throw ut(w,...d)}function ke(w,...d){return ut(w,...d)}function Ke(w,d,f){const b=Object.assign(Object.assign({},nt()),{[d]:f});return new H.LL("auth","Firebase",b).create(d,{appName:w.name})}function Be(w,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&et(w,"argument-error"),Ke(w,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(w,...d){if("string"!=typeof w){const f=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(f,...b)}return Dt.create(w,...d)}function pe(w,d,...f){if(!w)throw ut(d,...f)}function Se(w){const d="INTERNAL ASSERTION FAILED: "+w;throw Ze(d),new Error(d)}function je(w,d){w||Se(d)}const pt=new Map;function ot(w){je(w instanceof Function,"Expected a class definition");let d=pt.get(w);return d?(je(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,pt.set(w,d),d)}function Ae(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Pe(){return"http:"===Ve()||"https:"===Ve()}function Ve(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class it{constructor(d,f){this.shortDelay=d,this.longDelay=f,je(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function ze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pe()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(w,d){je(w.emulator,"Emulator should always be set here");const{url:f}=w.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class yt{static initialize(d,f,b){this.fetchImpl=d,f&&(this.headersImpl=f),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ee=new it(3e4,6e4);function Mt(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function wt(w,d,f,b){return At.apply(this,arguments)}function At(){return(At=(0,g.Z)(function*(w,d,f,b,L={}){return An(w,L,(0,g.Z)(function*(){let B={},te={};b&&("GET"===d?te=b:B={body:JSON.stringify(b)});const Qe=(0,H.xO)(Object.assign({key:w.config.apiKey},te)).slice(1),kt=yield w._getAdditionalHeaders();return kt["Content-Type"]="application/json",w.languageCode&&(kt["X-Firebase-Locale"]=w.languageCode),yt.fetch()(In(w,w.config.apiHost,f,Qe),Object.assign({method:d,headers:kt,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function An(w,d,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(w,d,f){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},vn),d);try{const L=new jt(w),B=yield Promise.race([f(),L.promise]);L.clearNetworkTimeout();const te=yield B.json();if("needConfirmation"in te)throw Nn(w,"account-exists-with-different-credential",te);if(B.ok&&!("errorMessage"in te))return te;{const Qe=B.ok?te.errorMessage:te.error.message,[kt,Yt]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw Nn(w,"credential-already-in-use",te);if("EMAIL_EXISTS"===kt)throw Nn(w,"email-already-in-use",te);if("USER_DISABLED"===kt)throw Nn(w,"user-disabled",te);const Rn=b[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw Ke(w,Rn,Yt);et(w,Rn)}}catch(L){if(L instanceof H.ZR)throw L;et(w,"internal-error",{message:String(L)})}})).apply(this,arguments)}function hn(w,d,f,b){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,g.Z)(function*(w,d,f,b,L={}){const B=yield wt(w,d,f,b,L);return"mfaPendingCredential"in B&&et(w,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function In(w,d,f,b){const L=`${d}${f}?${b}`;return w.config.emulator?ft(w.config,L):`${w.config.apiScheme}://${L}`}class jt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(w,d,f){const b={appName:w.name};f.email&&(b.email=f.email),f.phoneNumber&&(b.phoneNumber=f.phoneNumber);const L=ke(w,d,b);return L.customData._tokenResponse=f,L}function ur(){return(ur=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ln(w,d){return yr.apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ct(w,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Er(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function en(){return(en=(0,g.Z)(function*(w,d=!1){const f=(0,H.m9)(w),b=yield f.getIdToken(d),L=Ot(b);pe(L&&L.exp&&L.auth_time&&L.iat,f.auth,"internal-error");const B="object"==typeof L.firebase?L.firebase:void 0,te=B?.sign_in_provider;return{claims:L,token:b,authTime:Er(Vt(L.auth_time)),issuedAtTime:Er(Vt(L.iat)),expirationTime:Er(Vt(L.exp)),signInProvider:te||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(w){return 1e3*Number(w)}function Ot(w){const[d,f,b]=w.split(".");if(void 0===d||void 0===f||void 0===b)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,H.tV)(f);return L?JSON.parse(L):(Ze("Failed to decode base64 JWT payload"),null)}catch(L){return Ze("Caught error parsing JWT payload as JSON",L?.toString()),null}}function On(w,d){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(w,d,f=!1){if(f)return d;try{return yield d}catch(b){throw b instanceof H.ZR&&or(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}function or({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Tr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const L=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),b)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&d.schedule(!0))}d.schedule()})()}}class dr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Er(this.lastLoginAt),this.creationTime=Er(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(w){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*(w){var d;const f=w.auth,b=yield w.getIdToken(),L=yield On(w,ct(f,{idToken:b}));pe(L?.users.length,f,"internal-error");const B=L.users[0];w._notifyReloadListener(B);const te=null!==(d=B.providerUserInfo)&&void 0!==d&&d.length?jn(B.providerUserInfo):[],Qe=Gt(w.providerData,te),Rn=!!w.isAnonymous&&!(w.email&&B.passwordHash||Qe?.length),Gr={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Qe,metadata:new dr(B.createdAt,B.lastLoginAt),isAnonymous:Rn};Object.assign(w,Gr)})).apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(w){const d=(0,H.m9)(w);yield ri(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Gt(w,d){return[...w.filter(b=>!d.some(L=>L.providerId===b.providerId)),...d]}function jn(w){return w.map(d=>{var{providerId:f}=d,b=(0,he._T)(d,["providerId"]);return{providerId:f,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function He(){return(He=(0,g.Z)(function*(w,d){const f=yield An(w,{},(0,g.Z)(function*(){const b=(0,H.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:L,apiKey:B}=w.config,te=In(w,L,"/v1/token",`key=${B}`),Qe=yield w._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",yt.fetch()(te,{method:"POST",headers:Qe,body:b})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){pe(d.idToken,"internal-error"),pe(typeof d.idToken<"u","internal-error"),pe(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Ht(w){const d=Ot(w);return pe(d,"internal-error"),pe(typeof d.exp<"u","internal-error"),pe(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var b=this;return(0,g.Z)(function*(){return pe(!b.accessToken||b.refreshToken,d,"user-token-expired"),f||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var b=this;return(0,g.Z)(function*(){const{accessToken:L,refreshToken:B,expiresIn:te}=yield function lt(w,d){return He.apply(this,arguments)}(d,f);b.updateTokensAndExpiration(L,B,Number(te))})()}updateTokensAndExpiration(d,f,b){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,f){const{refreshToken:b,accessToken:L,expirationTime:B}=f,te=new bt;return b&&(pe("string"==typeof b,"internal-error",{appName:d}),te.refreshToken=b),L&&(pe("string"==typeof L,"internal-error",{appName:d}),te.accessToken=L),B&&(pe("number"==typeof B,"internal-error",{appName:d}),te.expirationTime=B),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new bt,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Ut(w,d){pe("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class $t{constructor(d){var{uid:f,auth:b,stsTokenManager:L}=d,B=(0,he._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=b,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new dr(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const b=yield On(f,f.stsTokenManager.getToken(f.auth,d));return pe(b,f.auth,"internal-error"),f.accessToken!==b&&(f.accessToken=b,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),b})()}getIdTokenResult(d){return function lr(w){return en.apply(this,arguments)}(this,d)}reload(){return function ii(w){return Jt.apply(this,arguments)}(this)}_assign(d){this!==d&&(pe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const f=new $t(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(d){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var b=this;return(0,g.Z)(function*(){let L=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),L=!0),f&&(yield ri(b)),yield b.auth._persistUserIfCurrent(b),L&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield On(d,function mr(w,d){return ur.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var b,L,B,te,Qe,kt,Yt,Rn;const Gr=null!==(b=f.displayName)&&void 0!==b?b:void 0,Jo=null!==(L=f.email)&&void 0!==L?L:void 0,Ra=null!==(B=f.phoneNumber)&&void 0!==B?B:void 0,fc=null!==(te=f.photoURL)&&void 0!==te?te:void 0,Vu=null!==(Qe=f.tenantId)&&void 0!==Qe?Qe:void 0,Ol=null!==(kt=f._redirectEventId)&&void 0!==kt?kt:void 0,Zd=null!==(Yt=f.createdAt)&&void 0!==Yt?Yt:void 0,Kd=null!==(Rn=f.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:un,emailVerified:Uu,isAnonymous:Yd,providerData:Ar,stsTokenManager:Xt}=f;pe(un&&Xt,d,"internal-error");const Zc=bt.fromJSON(this.name,Xt);pe("string"==typeof un,d,"internal-error"),Ut(Gr,d.name),Ut(Jo,d.name),pe("boolean"==typeof Uu,d,"internal-error"),pe("boolean"==typeof Yd,d,"internal-error"),Ut(Ra,d.name),Ut(fc,d.name),Ut(Vu,d.name),Ut(Ol,d.name),Ut(Zd,d.name),Ut(Kd,d.name);const Hn=new $t({uid:un,auth:d,email:Jo,emailVerified:Uu,displayName:Gr,isAnonymous:Yd,photoURL:fc,phoneNumber:Ra,tenantId:Vu,stsTokenManager:Zc,createdAt:Zd,lastLoginAt:Kd});return Ar&&Array.isArray(Ar)&&(Hn.providerData=Ar.map(hf=>Object.assign({},hf))),Ol&&(Hn._redirectEventId=Ol),Hn}static _fromIdTokenResponse(d,f,b=!1){return(0,g.Z)(function*(){const L=new bt;L.updateFromServerResponse(f);const B=new $t({uid:f.localId,auth:d,stsTokenManager:L,isAnonymous:b});return yield ri(B),B})()}}const Vn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,b){var L=this;return(0,g.Z)(function*(){L.storage[f]=b})()}_get(f){var b=this;return(0,g.Z)(function*(){const L=b.storage[f];return void 0===L?null:L})()}_remove(f){var b=this;return(0,g.Z)(function*(){delete b.storage[f]})()}_addListener(f,b){}_removeListener(f,b){}}return w.type="NONE",w})();function ce(w,d,f){return`firebase:${w}:${d}:${f}`}class re{constructor(d,f,b){this.persistence=d,this.auth=f,this.userKey=b;const{config:L,name:B}=this.auth;this.fullUserKey=ce(this.userKey,L.apiKey,B),this.fullPersistenceKey=ce("persistence",L.apiKey,B),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?$t._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const b=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,b?f.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,b="authUser"){return(0,g.Z)(function*(){if(!f.length)return new re(ot(Vn),d,b);const L=(yield Promise.all(f.map(function(){var Yt=(0,g.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let B=L[0]||ot(Vn);const te=ce(b,d.config.apiKey,d.name);let Qe=null;for(const Yt of f)try{const Rn=yield Yt._get(te);if(Rn){const Gr=$t._fromJSON(d,Rn);Yt!==B&&(Qe=Gr),B=Yt;break}}catch{}const kt=L.filter(Yt=>Yt._shouldAllowMigration);return B._shouldAllowMigration&&kt.length?(B=kt[0],Qe&&(yield B._set(te,Qe.toJSON())),yield Promise.all(f.map(function(){var Yt=(0,g.Z)(function*(Rn){if(Rn!==B)try{yield Rn._remove(te)}catch{}});return function(Rn){return Yt.apply(this,arguments)}}())),new re(B,d,b)):new re(B,d,b)})()}}function Q(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Fe(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(X(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(ae(d))return"Webos";if(q(d))return"Safari";if((d.includes("chrome/")||we(d))&&!d.includes("edge/"))return"Chrome";if(Et(d))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function X(w=(0,H.z$)()){return/firefox\//i.test(w)}function q(w=(0,H.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function we(w=(0,H.z$)()){return/crios\//i.test(w)}function Fe(w=(0,H.z$)()){return/iemobile/i.test(w)}function Et(w=(0,H.z$)()){return/android/i.test(w)}function le(w=(0,H.z$)()){return/blackberry/i.test(w)}function ae(w=(0,H.z$)()){return/webos/i.test(w)}function J(w=(0,H.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function me(w=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Qt(w=(0,H.z$)()){return J(w)||Et(w)||ae(w)||le(w)||/windows phone/i.test(w)||Fe(w)}function Jn(w,d=[]){let f;switch(w){case"Browser":f=Q((0,H.z$)());break;case"Worker":f=`${Q((0,H.z$)())}-${w}`;break;default:f=w}const b=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${v.SDK_VERSION}/${b}`}class mi{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const b=B=>new Promise((te,Qe)=>{try{te(d(B))}catch(kt){Qe(kt)}});b.onAbort=f,this.queue.push(b);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,g.Z)(function*(){if(f.auth.currentUser===d)return;const b=[];try{for(const L of f.queue)yield L(d),L.onAbort&&b.push(L.onAbort)}catch(L){b.reverse();for(const B of b)try{B()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Zr{constructor(d,f,b){this.app=d,this.heartbeatServiceProvider=f,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(d,f){var b=this;return f&&(this._popupRedirectResolver=ot(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var L,B;if(!b._deleted&&(b.persistenceManager=yield re.create(b,d),!b._deleted)){if(null!==(L=b._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(f),b.lastNotifiedUid=(null===(B=b.currentUser)||void 0===B?void 0:B.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var b;const L=yield f.assertedPersistence.getCurrentUser();let B=L,te=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Qe=null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId,kt=B?._redirectEventId,Yt=yield f.tryRedirectSignIn(d);(!Qe||Qe===kt)&&Yt?.user&&(B=Yt.user,te=!0)}if(!B)return f.directlySetCurrentUser(null);if(!B._redirectEventId){if(te)try{yield f.beforeStateQueue.runMiddleware(B)}catch(Qe){B=L,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Qe))}return B?f.reloadAndSetCurrentUserOrClear(B):f.directlySetCurrentUser(null)}return pe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===B._redirectEventId?f.directlySetCurrentUser(B):f.reloadAndSetCurrentUserOrClear(B)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let b=null;try{b=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){try{yield ri(d)}catch(b){if("auth/network-request-failed"!==b?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function rt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const b=d?(0,H.m9)(d):null;return b&&pe(b.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(b&&b._clone(f))})()}_updateCurrentUser(d,f=!1){var b=this;return(0,g.Z)(function*(){if(!b._deleted)return d&&pe(b.tenantId===d.tenantId,b,"tenant-id-mismatch"),f||(yield b.beforeStateQueue.runMiddleware(d)),b.queue((0,g.Z)(function*(){yield b.directlySetCurrentUser(d),b.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(ot(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new H.LL("auth","Firebase",d())}onAuthStateChanged(d,f,b){return this.registerStateListener(this.authStateSubscription,d,f,b)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,b){return this.registerStateListener(this.idTokenSubscription,d,f,b)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var b=this;return(0,g.Z)(function*(){const L=yield b.getOrInitRedirectPersistenceManager(f);return null===d?L.removeCurrentUser():L.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const b=d&&ot(d)||f._popupRedirectResolver;pe(b,f,"argument-error"),f.redirectPersistenceManager=yield re.create(f,[ot(b._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var b,L;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(b=f._currentUser)||void 0===b?void 0:b._redirectEventId)===d?f._currentUser:(null===(L=f.redirectUser)||void 0===L?void 0:L._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,b,L){if(this._deleted)return()=>{};const B="function"==typeof f?f:f.next.bind(f),te=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(te,this,"internal-error"),te.then(()=>B(this.currentUser)),"function"==typeof f?d.addObserver(f,b,L):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var f;const b={"X-Client-Version":d.clientVersion};d.app.options.appId&&(b["X-Firebase-gmpid"]=d.app.options.appId);const L=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return L&&(b["X-Firebase-Client"]=L),b})()}}function hr(w){return(0,H.m9)(w)}class Kr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,H.ne)(f=>this.observer=f)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Eo(w,d,f){const b=hr(w);pe(b._canInitEmulator,b,"emulator-config-failed"),pe(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const L=!!f?.disableWarnings,B=cs(d),{host:te,port:Qe}=function ws(w){const d=cs(w),f=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!f)return{host:"",port:null};const b=f[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(b);if(L){const B=L[1];return{host:B,port:eo(b.substr(B.length+1))}}{const[B,te]=b.split(":");return{host:B,port:eo(te)}}}(d);b.config.emulator={url:`${B}//${te}${null===Qe?"":`:${Qe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:te,port:Qe,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function xn(){function w(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function cs(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function eo(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class $n{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Se("not implemented")}_getIdTokenResponse(d){return Se("not implemented")}_linkToIdToken(d,f){return Se("not implemented")}_getReauthenticationResolver(d){return Se("not implemented")}}function vr(w,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:resetPassword",Mt(w,d))})).apply(this,arguments)}function Yr(w,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Tt(w,d){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:update",Mt(w,d))})).apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithPassword",Mt(w,d))})).apply(this,arguments)}function si(w,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:sendOobCode",Mt(w,d))})).apply(this,arguments)}function bi(w,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(w,d){return si(w,d)})).apply(this,arguments)}function Uo(w,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(w,d){return si(w,d)})).apply(this,arguments)}function cn(w,d){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,g.Z)(function*(w,d){return si(w,d)})).apply(this,arguments)}function Ui(w,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(w,d){return si(w,d)})).apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithEmailLink",Mt(w,d))})).apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithEmailLink",Mt(w,d))})).apply(this,arguments)}class Mr extends $n{constructor(d,f,b,L=null){super("password",b),this._email=d,this._password=f,this._tenantId=L}static _fromEmailAndPassword(d,f){return new Mr(d,f,"password")}static _fromEmailAndCode(d,f,b=null){return new Mr(d,f,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function er(w,d){return Vr.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function wr(w,d){return tr.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:et(d,"internal-error")}})()}_linkToIdToken(d,f){var b=this;return(0,g.Z)(function*(){switch(b.signInMethod){case"password":return Yr(d,{idToken:f,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Is(w,d){return Bi.apply(this,arguments)}(d,{idToken:f,email:b._email,oobCode:b._password});default:et(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ji(w,d){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithIdp",Mt(w,d))})).apply(this,arguments)}class Sr extends $n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Sr(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):et("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:L}=f,B=(0,he._T)(f,["providerId","signInMethod"]);if(!b||!L)return null;const te=new Sr(b,L);return te.idToken=B.idToken||void 0,te.accessToken=B.accessToken||void 0,te.secret=B.secret,te.nonce=B.nonce,te.pendingToken=B.pendingToken||null,te}_getIdTokenResponse(d){return ji(d,this.buildRequest())}_linkToIdToken(d,f){const b=this.buildRequest();return b.idToken=f,ji(d,b)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ji(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,H.xO)(f)}return d}}function Bo(w,d){return Us.apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:sendVerificationCode",Mt(w,d))})).apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Mt(w,d))})).apply(this,arguments)}function Rr(){return(Rr=(0,g.Z)(function*(w,d){const f=yield hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Mt(w,d));if(f.temporaryProof)throw Nn(w,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const iu={USER_NOT_FOUND:"user-not-found"};function Qr(){return(Qr=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Mt(w,Object.assign(Object.assign({},d),{operation:"REAUTH"})),iu)})).apply(this,arguments)}class Ds extends $n{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ds({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ds({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function to(w,d){return ls.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function Ur(w,d){return Rr.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function vi(w,d){return Qr.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:b,verificationCode:L}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:b,code:L}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:b,phoneNumber:L,temporaryProof:B}=d;return b||f||L||B?new Ds({verificationId:f,verificationCode:b,phoneNumber:L,temporaryProof:B}):null}}class Nr{constructor(d){var f,b,L,B,te,Qe;const kt=(0,H.zd)((0,H.pd)(d)),Yt=null!==(f=kt.apiKey)&&void 0!==f?f:null,Rn=null!==(b=kt.oobCode)&&void 0!==b?b:null,Gr=function jo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=kt.mode)&&void 0!==L?L:null);pe(Yt&&Rn&&Gr,"argument-error"),this.apiKey=Yt,this.operation=Gr,this.code=Rn,this.continueUrl=null!==(B=kt.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(te=kt.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Qe=kt.tenantId)&&void 0!==Qe?Qe:null}static parseLink(d){const f=function wa(w){const d=(0,H.zd)((0,H.pd)(w)).link,f=d?(0,H.zd)((0,H.pd)(d)).deep_link_id:null,b=(0,H.zd)((0,H.pd)(w)).deep_link_id;return(b?(0,H.zd)((0,H.pd)(b)).link:null)||b||f||d||w}(d);try{return new Nr(f)}catch{return null}}}let wo=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(f,b){return Mr._fromEmailAndPassword(f,b)}static credentialWithLink(f,b){const L=Nr.parseLink(b);return pe(L,"argument-error"),Mr._fromEmailAndCode(f,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ti{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Bs extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class _i extends Bs{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return pe("providerId"in f&&"signInMethod"in f,"argument-error"),Sr._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return pe(d.idToken||d.accessToken,"argument-error"),Sr._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return _i.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return _i.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:b,oauthTokenSecret:L,pendingToken:B,nonce:te,providerId:Qe}=d;if(!b&&!L&&!f&&!B||!Qe)return null;try{return new _i(Qe)._credential({idToken:f,accessToken:b,nonce:te,pendingToken:B})}catch{return null}}}let no=(()=>{class w extends Bs{constructor(){super("facebook.com")}static credential(f){return Sr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return w.credential(f.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ro=(()=>{class w extends Bs{constructor(){super("google.com"),this.addScope("profile")}static credential(f,b){return Sr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:b})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:b,oauthAccessToken:L}=f;if(!b&&!L)return null;try{return w.credential(b,L)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ia=(()=>{class w extends Bs{constructor(){super("github.com")}static credential(f){return Sr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return w.credential(f.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Si extends $n{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return ji(d,this.buildRequest())}_linkToIdToken(d,f){const b=this.buildRequest();return b.idToken=f,ji(d,b)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ji(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:b,signInMethod:L,pendingToken:B}=f;return b&&L&&B&&b===L?new Si(b,B):null}static _create(d,f){return new Si(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ai extends Ti{constructor(d){pe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Ai.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Ai.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Si.fromJSON(d);return pe(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:b}=d;if(!f||!b)return null;try{return Si._create(b,f)}catch{return null}}}let $i=(()=>{class w extends Bs{constructor(){super("twitter.com")}static credential(f,b){return Sr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:b})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:b,oauthTokenSecret:L}=f;if(!b||!L)return null;try{return w.credential(b,L)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function $o(w,d){return ds.apply(this,arguments)}function ds(){return(ds=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signUp",Mt(w,d))})).apply(this,arguments)}class oi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,b,L=!1){return(0,g.Z)(function*(){const B=yield $t._fromIdTokenResponse(d,b,L),te=io(b);return new oi({user:B,providerId:te,_tokenResponse:b,operationType:f})})()}static _forOperation(d,f,b){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const L=io(b);return new oi({user:d,providerId:L,_tokenResponse:b,operationType:f})})()}}function io(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function bs(w){return so.apply(this,arguments)}function so(){return(so=(0,g.Z)(function*(w){var d;const f=hr(w);if(yield f._initializationPromise,null!==(d=f.currentUser)&&void 0!==d&&d.isAnonymous)return new oi({user:f.currentUser,providerId:null,operationType:"signIn"});const b=yield $o(f,{returnSecureToken:!0}),L=yield oi._fromIdTokenResponse(f,"signIn",b,!0);return yield f._updateCurrentUser(L.user),L})).apply(this,arguments)}class Cs extends H.ZR{constructor(d,f,b,L){var B;super(f.code,f.message),this.operationType=b,this.user=L,Object.setPrototypeOf(this,Cs.prototype),this.customData={appName:d.name,tenantId:null!==(B=d.tenantId)&&void 0!==B?B:void 0,_serverResponse:f.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(d,f,b,L){return new Cs(d,f,b,L)}}function Ho(w,d,f,b){return("reauthenticate"===d?f._getReauthenticationResolver(w):f._getIdTokenResponse(w)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?Cs._fromErrorAndOperation(w,B,d,b):B})}function hs(w){return new Set(w.map(({providerId:d})=>d).filter(d=>!!d))}function js(w,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,g.Z)(function*(w,d){const f=(0,H.m9)(w);yield ps(!0,f,d);const{providerUserInfo:b}=yield Ln(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),L=hs(b||[]);return f.providerData=f.providerData.filter(B=>L.has(B.providerId)),L.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Ts(w,d){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(w,d,f=!1){const b=yield On(w,d._linkToIdToken(w.auth,yield w.getIdToken()),f);return oi._forOperation(w,"link",b)})).apply(this,arguments)}function ps(w,d,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(w,d,f){yield ri(d);const L=!1===w?"provider-already-linked":"no-such-provider";pe(hs(d.providerData).has(f)===w,d.auth,L)})).apply(this,arguments)}function Br(w,d){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,g.Z)(function*(w,d,f=!1){const{auth:b}=w,L="reauthenticate";try{const B=yield On(w,Ho(b,L,d,w),f);pe(B.idToken,b,"internal-error");const te=Ot(B.idToken);pe(te,b,"internal-error");const{sub:Qe}=te;return pe(w.uid===Qe,b,"user-mismatch"),oi._forOperation(w,L,B)}catch(B){throw"auth/user-not-found"===B?.code&&et(b,"user-mismatch"),B}})).apply(this,arguments)}function gs(w,d){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,g.Z)(function*(w,d,f=!1){const b="signIn",L=yield Ho(w,b,d),B=yield oi._fromIdTokenResponse(w,b,L);return f||(yield w._updateCurrentUser(B.user)),B})).apply(this,arguments)}function Or(w,d){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(w,d){return gs(hr(w),d)})).apply(this,arguments)}function Ji(w,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(w,d){const f=(0,H.m9)(w);return yield ps(!1,f,d.providerId),Ts(f,d)})).apply(this,arguments)}function bo(w,d){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(w,d){return Br((0,H.m9)(w),d)})).apply(this,arguments)}function jr(w,d){return As.apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(w,d){return hn(w,"POST","/v1/accounts:signInWithCustomToken",Mt(w,d))})).apply(this,arguments)}function Ir(w,d){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(w,d){const f=hr(w),b=yield jr(f,{token:d,returnSecureToken:!0}),L=yield oi._fromIdTokenResponse(f,"signIn",b);return yield f._updateCurrentUser(L.user),L})).apply(this,arguments)}class _n{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?ai._fromServerResponse(d,f):et(d,"internal-error")}}class ai extends _n{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new ai(f)}}function Pr(w,d,f){var b;pe((null===(b=f.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),pe(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(pe(f.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(pe(f.android.packageName.length>0,w,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Da(w,d,f){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w),L={requestType:"PASSWORD_RESET",email:d};f&&Pr(b,L,f),yield Uo(b,L)})).apply(this,arguments)}function Co(w,d,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,g.Z)(function*(w,d,f){yield vr((0,H.m9)(w),{oobCode:d,newPassword:f})})).apply(this,arguments)}function tn(w,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(w,d){yield Tt((0,H.m9)(w),{oobCode:d})})).apply(this,arguments)}function sa(w,d){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(w,d){const f=(0,H.m9)(w),b=yield vr(f,{oobCode:d}),L=b.requestType;switch(pe(L,f,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(b.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(b.mfaInfo,f,"internal-error");default:pe(b.email,f,"internal-error")}let B=null;return b.mfaInfo&&(B=_n._fromServerResponse(hr(f),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:B},operation:L}})).apply(this,arguments)}function xs(w,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(w,d){const{data:f}=yield sa((0,H.m9)(w),d);return f.email})).apply(this,arguments)}function oa(w,d,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(w,d,f){const b=hr(w),L=yield $o(b,{returnSecureToken:!0,email:d,password:f}),B=yield oi._fromIdTokenResponse(b,"signIn",L);return yield b._updateCurrentUser(B.user),B})).apply(this,arguments)}function To(w,d,f){return Or((0,H.m9)(w),wo.credential(d,f))}function S(w,d,f){return R.apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w),L={requestType:"EMAIL_SIGNIN",email:d};pe(f.handleCodeInApp,b,"argument-error"),f&&Pr(b,L,f),yield cn(b,L)})).apply(this,arguments)}function A(w,d){return"EMAIL_SIGNIN"===Nr.parseLink(d)?.operation}function Z(w,d,f){return be.apply(this,arguments)}function be(){return(be=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w),L=wo.credentialWithLink(d,f||Ae());return pe(L._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Or(b,L)})).apply(this,arguments)}function Ct(w,d){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:createAuthUri",Mt(w,d))})).apply(this,arguments)}function rr(w,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(w,d){const b={identifier:d,continueUri:Pe()?Ae():"http://localhost"},{signinMethods:L}=yield Ct((0,H.m9)(w),b);return L||[]})).apply(this,arguments)}function Gi(w,d){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(w,d){const f=(0,H.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};d&&Pr(f.auth,L,d);const{email:B}=yield bi(f.auth,L);B!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ms(w,d,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:d};f&&Pr(b.auth,B,f);const{email:te}=yield Ui(b.auth,B);te!==w.email&&(yield w.reload())})).apply(this,arguments)}function Xr(w,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(w,d){return wt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ns(w,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(w,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const b=(0,H.m9)(w),B={idToken:yield b.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},te=yield On(b,Xr(b.auth,B));b.displayName=te.displayName||null,b.photoURL=te.photoUrl||null;const Qe=b.providerData.find(({providerId:kt})=>"password"===kt);Qe&&(Qe.displayName=b.displayName,Qe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(te)})).apply(this,arguments)}function ts(w,d){return Go((0,H.m9)(w),d,null)}function su(w,d){return Go((0,H.m9)(w),null,d)}function Go(w,d,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(w,d,f){const{auth:b}=w,B={idToken:yield w.getIdToken(),returnSecureToken:!0};d&&(B.email=d),f&&(B.password=f);const te=yield On(w,Yr(b,B));yield w._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Gs{constructor(d,f,b={}){this.isNewUser=d,this.providerId=f,this.profile=b}}class oo extends Gs{constructor(d,f,b,L){super(d,f,b),this.username=L}}class Va extends Gs{constructor(d,f){super(d,"facebook.com",f)}}class ao extends oo{constructor(d,f){super(d,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class So extends Gs{constructor(d,f){super(d,"google.com",f)}}class Ua extends oo{constructor(d,f,b){super(d,"twitter.com",f,b)}}function Wo(w){const{user:d,_tokenResponse:f}=w;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function ba(w){var d,f;if(!w)return null;const{providerId:b}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},B=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const te=null===(f=null===(d=Ot(w.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(te)return new Gs(B,"anonymous"!==te&&"custom"!==te?te:null)}if(!b)return null;switch(b){case"facebook.com":return new Va(B,L);case"github.com":return new ao(B,L);case"google.com":return new So(B,L);case"twitter.com":return new Ua(B,L,w.screenName||null);case"custom":case"anonymous":return new Gs(B,null);default:return new Gs(B,b,L)}}(f)}class Un{constructor(d,f,b){this.type=d,this.credential=f,this.auth=b}static _fromIdtoken(d,f){return new Un("enroll",d,f)}static _fromMfaPendingCredential(d){return new Un("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,b;if(d?.multiFactorSession){if(null!==(f=d.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Un._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(b=d.multiFactorSession)&&void 0!==b&&b.idToken)return Un._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ua{constructor(d,f,b){this.session=d,this.hints=f,this.signInResolver=b}static _fromError(d,f){const b=hr(d),L=f.customData._serverResponse,B=(L.mfaInfo||[]).map(Qe=>_n._fromServerResponse(b,Qe));pe(L.mfaPendingCredential,b,"internal-error");const te=Un._fromMfaPendingCredential(L.mfaPendingCredential);return new ua(te,B,function(){var Qe=(0,g.Z)(function*(kt){const Yt=yield kt._process(b,te);delete L.mfaInfo,delete L.mfaPendingCredential;const Rn=Object.assign(Object.assign({},L),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(f.operationType){case"signIn":const Gr=yield oi._fromIdTokenResponse(b,f.operationType,Rn);return yield b._updateCurrentUser(Gr.user),Gr;case"reauthenticate":return pe(f.user,b,"internal-error"),oi._forOperation(f.user,f.operationType,Rn);default:et(b,"internal-error")}});return function(kt){return Qe.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,g.Z)(function*(){return f.signInResolver(d)})()}}function $a(w,d){var f;const b=(0,H.m9)(w),L=d;return pe(d.customData.operationType,b,"argument-error"),pe(null===(f=L.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,b,"argument-error"),ua._fromError(b,L)}function Mn(w,d){return wt(w,"POST","/v2/accounts/mfaEnrollment:start",Mt(w,d))}class ca{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(b=>_n._fromServerResponse(d.auth,b)))})}static _fromUser(d){return new ca(d)}getSession(){var d=this;return(0,g.Z)(function*(){return Un._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,f){var b=this;return(0,g.Z)(function*(){const L=d,B=yield b.getSession(),te=yield On(b.user,L._process(b.user.auth,B,f));return yield b.user._updateTokensIfNecessary(te),b.user.reload()})()}unenroll(d){var f=this;return(0,g.Z)(function*(){const b="string"==typeof d?d:d.uid,L=yield f.user.getIdToken();try{const B=yield On(f.user,function Ha(w,d){return wt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(w,d))}(f.user.auth,{idToken:L,mfaEnrollmentId:b}));f.enrolledFactors=f.enrolledFactors.filter(({uid:te})=>te!==b),yield f.user._updateTokensIfNecessary(B),yield f.user.reload()}catch(B){throw B}})()}}const la=new WeakMap;function da(w){const d=(0,H.m9)(w);return la.has(d)||la.set(d,ca._fromUser(d)),la.get(d)}const T="__sak";class V{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(T,"1"),this.storage.removeItem(T),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ue=(()=>{class w extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,b)=>this.onStorageEvent(f,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function N(){const w=(0,H.z$)();return q(w)||J(w)}()&&function qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const b of Object.keys(this.listeners)){const L=this.storage.getItem(b),B=this.localCache[b];L!==B&&f(b,B,L)}}onStorageEvent(f,b=!1){if(!f.key)return void this.forAllChangedKeys((Qe,kt,Yt)=>{this.notifyListeners(Qe,Yt)});const L=f.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(L);if(f.newValue!==Qe)null!==f.newValue?this.storage.setItem(L,f.newValue):this.storage.removeItem(L);else if(this.localCache[L]===f.newValue&&!b)return}const B=()=>{const Qe=this.storage.getItem(L);!b&&this.localCache[L]===Qe||this.notifyListeners(L,Qe)},te=this.storage.getItem(L);!function at(){return(0,H.w1)()&&10===document.documentMode}()||te===f.newValue||f.newValue===f.oldValue?B():setTimeout(B,10)}notifyListeners(f,b){this.localCache[f]=b;const L=this.listeners[f];if(L)for(const B of Array.from(L))B(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,b,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:b,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(b)}_removeListener(f,b){this.listeners[f]&&(this.listeners[f].delete(b),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,b){var L=()=>super._set,B=this;return(0,g.Z)(function*(){yield L().call(B,f,b),B.localCache[f]=JSON.stringify(b)})()}_get(f){var b=()=>super._get,L=this;return(0,g.Z)(function*(){const B=yield b().call(L,f);return L.localCache[f]=JSON.stringify(B),B})()}_remove(f){var b=()=>super._remove,L=this;return(0,g.Z)(function*(){yield b().call(L,f),delete L.localCache[f]})()}}return w.type="LOCAL",w})(),bn=(()=>{class w extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,b){}_removeListener(f,b){}}return w.type="SESSION",w})();let kn=(()=>{class w{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const b=this.receivers.find(B=>B.isListeningto(f));if(b)return b;const L=new w(f);return this.receivers.push(L),L}isListeningto(f){return this.eventTarget===f}handleEvent(f){var b=this;return(0,g.Z)(function*(){const L=f,{eventId:B,eventType:te,data:Qe}=L.data,kt=b.handlersMap[te];if(!kt?.size)return;L.ports[0].postMessage({status:"ack",eventId:B,eventType:te});const Yt=Array.from(kt).map(function(){var Gr=(0,g.Z)(function*(Jo){return Jo(L.origin,Qe)});return function(Jo){return Gr.apply(this,arguments)}}()),Rn=yield function Bn(w){return Promise.all(w.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(b){return{fulfilled:!1,reason:b}}});return function(f){return d.apply(this,arguments)}}()))}(Yt);L.ports[0].postMessage({status:"done",eventId:B,eventType:te,response:Rn})})()}_subscribe(f,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(b)}_unsubscribe(f,b){this.handlersMap[f]&&b&&this.handlersMap[f].delete(b),(!b||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ln(w="",d=10){let f="";for(let b=0;b<d;b++)f+=Math.floor(10*Math.random());return w+f}class Fr{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,b=50){var L=this;return(0,g.Z)(function*(){const B=typeof MessageChannel<"u"?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let te,Qe;return new Promise((kt,Yt)=>{const Rn=ln("",20);B.port1.start();const Gr=setTimeout(()=>{Yt(new Error("unsupported_event"))},b);Qe={messageChannel:B,onMessage(Jo){const Ra=Jo;if(Ra.data.eventId===Rn)switch(Ra.data.status){case"ack":clearTimeout(Gr),te=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),kt(Ra.data.response);break;default:clearTimeout(Gr),clearTimeout(te),Yt(new Error("invalid_response"))}}},L.handlers.add(Qe),B.port1.addEventListener("message",Qe.onMessage),L.target.postMessage({eventType:d,eventId:Rn,data:f},[B.port2])}).finally(()=>{Qe&&L.removeMessageHandler(Qe)})})()}}function nn(){return window}function Wi(){return typeof nn().WorkerGlobalScope<"u"&&"function"==typeof nn().importScripts}function li(){return(li=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mo="firebaseLocalStorageDb",Ps="firebaseLocalStorage",qo="fbase_key";class ns{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ha(w,d){return w.transaction([Ps],d?"readwrite":"readonly").objectStore(Ps)}function uo(){const w=indexedDB.open(Mo,1);return new Promise((d,f)=>{w.addEventListener("error",()=>{f(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(Ps,{keyPath:qo})}catch(L){f(L)}}),w.addEventListener("success",(0,g.Z)(function*(){const b=w.result;b.objectStoreNames.contains(Ps)?d(b):(b.close(),yield function Zo(){const w=indexedDB.deleteDatabase(Mo);return new ns(w).toPromise()}(),d(yield uo()))}))})}function fa(w,d,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(w,d,f){const b=ha(w,!0).put({[qo]:d,value:f});return new ns(b).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(w,d){const f=ha(w,!1).get(d),b=yield new ns(f).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function co(w,d){const f=ha(w,!0).delete(d);return new ns(f).toPromise()}const za=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield uo()),f.db})()}_withRetries(f){var b=this;return(0,g.Z)(function*(){let L=0;for(;;)try{const B=yield b._openDb();return yield f(B)}catch(B){if(L++>3)throw B;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return Wi()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=kn._getInstance(function xo(){return Wi()?self:null}()),f.receiver._subscribe("keyChanged",function(){var b=(0,g.Z)(function*(L,B){return{keyProcessed:(yield f._poll()).includes(B.key)}});return function(L,B){return b.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var b=(0,g.Z)(function*(L,B){return["keyChanged"]});return function(L,B){return b.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var b,L;if(f.activeServiceWorker=yield function qi(){return li.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Fr(f.activeServiceWorker);const B=yield f.sender._send("ping",{},800);B&&null!==(b=B[0])&&void 0!==b&&b.fulfilled&&null!==(L=B[0])&&void 0!==L&&L.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var b=this;return(0,g.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Zi(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:f},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield uo();return yield fa(f,T,"1"),yield co(f,T),!0}catch{}return!1})()}_withPendingWrite(f){var b=this;return(0,g.Z)(function*(){b.pendingWrites++;try{yield f()}finally{b.pendingWrites--}})()}_set(f,b){var L=this;return(0,g.Z)(function*(){return L._withPendingWrite((0,g.Z)(function*(){return yield L._withRetries(B=>fa(B,f,b)),L.localCache[f]=b,L.notifyServiceWorker(f)}))})()}_get(f){var b=this;return(0,g.Z)(function*(){const L=yield b._withRetries(B=>function Ki(w,d){return Ro.apply(this,arguments)}(B,f));return b.localCache[f]=L,L})()}_remove(f){var b=this;return(0,g.Z)(function*(){return b._withPendingWrite((0,g.Z)(function*(){return yield b._withRetries(L=>co(L,f)),delete b.localCache[f],b.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const b=yield f._withRetries(te=>{const Qe=ha(te,!1).getAll();return new ns(Qe).toPromise()});if(!b)return[];if(0!==f.pendingWrites)return[];const L=[],B=new Set;for(const{fbase_key:te,value:Qe}of b)B.add(te),JSON.stringify(f.localCache[te])!==JSON.stringify(Qe)&&(f.notifyListeners(te,Qe),L.push(te));for(const te of Object.keys(f.localCache))f.localCache[te]&&!B.has(te)&&(f.notifyListeners(te,null),L.push(te));return L})()}notifyListeners(f,b){this.localCache[f]=b;const L=this.listeners[f];if(L)for(const B of Array.from(L))B(b)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(b)}_removeListener(f,b){this.listeners[f]&&(this.listeners[f].delete(b),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Au(w,d){return wt(w,"POST","/v2/accounts/mfaSignIn:start",Mt(w,d))}function rs(){return(rs=(0,g.Z)(function*(w){return(yield wt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(w){return new Promise((d,f)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=d,b.onerror=L=>{const B=ke("internal-error");B.customData=L,f(B)},b.type="text/javascript",b.charset="UTF-8",function cu(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(b)})}function ir(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Ri=1e12;class zs{constructor(d){this.auth=d,this.counter=Ri,this._widgets=new Map}render(d,f){const b=this.counter;return this._widgets.set(b,new Mu(d,this.auth.name,f||{})),this.counter++,b}reset(d){var f;const b=d||Ri;null===(f=this._widgets.get(b))||void 0===f||f.delete(),this._widgets.delete(b)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Ri))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,g.Z)(function*(){var b;return null===(b=f._widgets.get(d||Ri))||void 0===b||b.execute(),""})()}}class Mu{constructor(d,f,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof d?document.getElementById(d):d;pe(L,"argument-error",{appName:f}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oc(w){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wa=ir("rcb"),$c=new it(3e4,6e4);class Ko{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=nn().grecaptcha)||void 0===d||!d.render)}load(d,f=""){return pe(function is(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(nn().grecaptcha):new Promise((b,L)=>{const B=nn().setTimeout(()=>{L(ke(d,"network-request-failed"))},$c.get());nn()[Wa]=()=>{nn().clearTimeout(B),delete nn()[Wa];const Qe=nn().grecaptcha;if(!Qe)return void L(ke(d,"internal-error"));const kt=Qe.render;Qe.render=(Yt,Rn)=>{const Gr=kt(Yt,Rn);return this.counter++,Gr},this.hostLanguage=f,b(Qe)},Oo(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Wa,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(B),L(ke(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!(null===(f=nn().grecaptcha)||void 0===f||!f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ga{load(d){return(0,g.Z)(function*(){return new zs(d)})()}clearedOneInstance(){}}const Ws="recaptcha",ms={theme:"light",type:"image"};class Aa{constructor(d,f=Object.assign({},ms),b){this.parameters=f,this.type=Ws,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hr(b),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof d?document.getElementById(d):d;pe(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ga:new Ko,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),b=d.getAssertedRecaptcha();return b.getResponse(f)||new Promise(B=>{const te=Qe=>{Qe&&(d.tokenChangeListeners.delete(te),B(Qe))};d.tokenChangeListeners.add(te),d.isInvisible&&b.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(b=>b(f)),"function"==typeof d)d(f);else if("string"==typeof d){const b=nn()[d];"function"==typeof b&&b(f)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const b=document.createElement("div");f.appendChild(b),f=b}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){pe(Pe()&&!Wi(),d.auth,"internal-error"),yield function qa(){let w=null;return new Promise(d=>{"complete"!==document.readyState?(w=()=>d(),window.addEventListener("load",w)):d()}).catch(d=>{throw w&&window.removeEventListener("load",w),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function uu(w){return rs.apply(this,arguments)}(d.auth);pe(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hc{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ds._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Sl(w,d,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(w,d,f){const b=hr(w),L=yield xa(b,d,(0,H.m9)(f));return new Hc(L,B=>Or(b,B))})).apply(this,arguments)}function ac(w,d,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w);yield ps(!1,b,"phone");const L=yield xa(b.auth,d,(0,H.m9)(f));return new Hc(L,B=>Ji(b,B))})).apply(this,arguments)}function Yo(w,d,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w),L=yield xa(b.auth,d,(0,H.m9)(f));return new Hc(L,B=>bo(b,B))})).apply(this,arguments)}function xa(w,d,f){return du.apply(this,arguments)}function du(){return(du=(0,g.Z)(function*(w,d,f){var b;const L=yield f.verify();try{let B;if(pe("string"==typeof L,w,"argument-error"),pe(f.type===Ws,w,"argument-error"),B="string"==typeof d?{phoneNumber:d}:d,"session"in B){const te=B.session;if("phoneNumber"in B)return pe("enroll"===te.type,w,"internal-error"),(yield Mn(w,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{pe("signin"===te.type,w,"internal-error");const Qe=(null===(b=B.multiFactorHint)||void 0===b?void 0:b.uid)||B.multiFactorUid;return pe(Qe,w,"missing-multi-factor-info"),(yield Au(w,{mfaPendingCredential:te.credential,mfaEnrollmentId:Qe,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Bo(w,{phoneNumber:B.phoneNumber,recaptchaToken:L});return te}}finally{f._reset()}})).apply(this,arguments)}function Dr(w,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(w,d){yield Ts((0,H.m9)(w),d)})).apply(this,arguments)}let Ru=(()=>{class w{constructor(f){this.providerId=w.PROVIDER_ID,this.auth=hr(f)}verifyPhoneNumber(f,b){return xa(this.auth,f,(0,H.m9)(b))}static credential(f,b){return Ds._fromVerification(f,b)}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:b,temporaryProof:L}=f;return b&&L?Ds._fromTokenResponse(b,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ss(w,d){return d?ot(d):(pe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Hr extends $n{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ji(d,this._buildIdpRequest())}_linkToIdToken(d,f){return ji(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return ji(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function Ka(w){return gs(w.auth,new Hr(w),w.bypassAuthState)}function Ya(w){const{auth:d,user:f}=w;return pe(f,d,"internal-error"),Br(f,new Hr(w),w.bypassAuthState)}function Nu(w){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(w){const{auth:d,user:f}=w;return pe(f,d,"internal-error"),Ts(f,new Hr(w),w.bypassAuthState)})).apply(this,arguments)}class ho{constructor(d,f,b,L,B=!1){this.auth=d,this.resolver=b,this.user=L,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(b,L){d.pendingPromise={resolve:b,reject:L};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(B){d.reject(B)}});return function(b,L){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:b,sessionId:L,postBody:B,tenantId:te,error:Qe,type:kt}=d;if(Qe)return void f.reject(Qe);const Yt={auth:f.auth,requestUri:b,sessionId:L,tenantId:te||void 0,postBody:B||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(kt)(Yt))}catch(Rn){f.reject(Rn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ka;case"linkViaPopup":case"linkViaRedirect":return Nu;case"reauthViaPopup":case"reauthViaRedirect":return Ya;default:et(this.auth,"internal-error")}}resolve(d){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xo=new it(2e3,1e4);function ys(w,d,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(w,d,f){const b=hr(w);Be(w,d,Ti);const L=ss(b,f);return new _(b,"signInViaPopup",d,L).executeNotNull()})).apply(this,arguments)}function hu(w,d,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w);Be(b.auth,d,Ti);const L=ss(b.auth,f);return new _(b.auth,"reauthViaPopup",d,L,b).executeNotNull()})).apply(this,arguments)}function Qa(w,d,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w);Be(b.auth,d,Ti);const L=ss(b.auth,f);return new _(b.auth,"linkViaPopup",d,L,b).executeNotNull()})).apply(this,arguments)}let _=(()=>{class w extends ho{constructor(f,b,L,B,te){super(f,b,B,te),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const b=yield f.execute();return pe(b,f.auth,"internal-error"),b})()}onExecution(){var f=this;return(0,g.Z)(function*(){je(1===f.filter.length,"Popup operations only handle one event");const b=ln();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],b),f.authWindow.associatedEvent=b,f.resolver._originValidation(f.auth).catch(L=>{f.reject(L)}),f.resolver._isIframeWebStorageSupported(f.auth,L=>{L||f.reject(ke(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const f=()=>{var b,L;this.pollId=null!==(L=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Xo.get())};f()}}return w.currentPopupAction=null,w})();const m=new Map;class C extends ho{constructor(d,f,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let b=m.get(f.auth._key());if(!b){try{const B=(yield function k(w,d){return $.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;b=()=>Promise.resolve(B)}catch(L){b=()=>Promise.reject(L)}m.set(f.auth._key(),b)}return f.bypassAuthState||m.set(f.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,b=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(b,d);if("unknown"!==d.type){if(d.eventId){const L=yield b.auth._redirectUserForId(d.eventId);if(L)return b.user=L,f().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function $(){return($=(0,g.Z)(function*(w,d){const f=Fn(d),b=Nt(w);if(!(yield b._isAvailable()))return!1;const L="true"===(yield b._get(f));return yield b._remove(f),L})).apply(this,arguments)}function K(w,d){return ve.apply(this,arguments)}function ve(){return(ve=(0,g.Z)(function*(w,d){return Nt(w)._set(Fn(d),"true")})).apply(this,arguments)}function Ge(){m.clear()}function xt(w,d){m.set(w._key(),d)}function Nt(w){return ot(w._redirectPersistence)}function Fn(w){return ce("pendingRedirect",w.config.apiKey,w.name)}function Lr(w,d,f){return function vs(w,d,f){return di.apply(this,arguments)}(w,d,f)}function di(){return(di=(0,g.Z)(function*(w,d,f){const b=hr(w);Be(w,d,Ti),yield b._initializationPromise;const L=ss(b,f);return yield K(L,b),L._openRedirect(b,d,"signInViaRedirect")})).apply(this,arguments)}function M(w,d,f){return function P(w,d,f){return G.apply(this,arguments)}(w,d,f)}function G(){return(G=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w);Be(b.auth,d,Ti),yield b.auth._initializationPromise;const L=ss(b.auth,f);yield K(L,b.auth);const B=yield gn(b);return L._openRedirect(b.auth,d,"reauthViaRedirect",B)})).apply(this,arguments)}function ne(w,d,f){return function _e(w,d,f){return Me.apply(this,arguments)}(w,d,f)}function Me(){return(Me=(0,g.Z)(function*(w,d,f){const b=(0,H.m9)(w);Be(b.auth,d,Ti),yield b.auth._initializationPromise;const L=ss(b.auth,f);yield ps(!1,b,d.providerId),yield K(L,b.auth);const B=yield gn(b);return L._openRedirect(b.auth,d,"linkViaRedirect",B)})).apply(this,arguments)}function Xe(w,d){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(w,d){return yield hr(w)._initializationPromise,Kt(w,d,!1)})).apply(this,arguments)}function Kt(w,d){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(w,d,f=!1){const b=hr(w),L=ss(b,d),te=yield new C(b,L,f).execute();return te&&!f&&(delete te.user._redirectEventId,yield b._persistUserIfCurrent(te.user),yield b._setRedirectUser(null,d)),te})).apply(this,arguments)}function gn(w){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(w){const d=ln(`${w.uid}:::`);return w._redirectEventId=d,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),d})).apply(this,arguments)}class hi{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(f=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function qs(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var b;if(d.error&&!uc(d)){const L=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";f.onError(ke(this.auth,L))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const b=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(d))}saveEventToCache(d){this.cachedEventUids.add(Ma(d)),this.lastProcessedEventTime=Date.now()}}function Ma(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function uc({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===d?.code}function Zs(w){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(w,d={}){return wt(w,"GET","/v1/projects",d)})).apply(this,arguments)}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cc=/^https?/;function lc(){return(lc=(0,g.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield Zs(w);for(const f of d)try{if(Vd(f))return}catch{}et(w,"unauthorized-domain")})).apply(this,arguments)}function Vd(w){const d=Ae(),{protocol:f,hostname:b}=new URL(d);if(w.startsWith("chrome-extension://")){const te=new URL(w);return""===te.hostname&&""===b?"chrome-extension:"===f&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&te.hostname===b}if(!cc.test(f))return!1;if(Xa.test(w))return b===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(b)}const Ud=new it(3e4,6e4);function xl(){const w=nn().___jsl;if(w?.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let f=0;f<w.CP.length;f++)w.CP[f]=null}let Gc=null;function Pu(w){return Gc=Gc||function ug(w){return new Promise((d,f)=>{var b,L,B;function te(){xl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{xl(),f(ke(w,"network-request-failed"))},timeout:Ud.get()})}if(null!==(L=null===(b=nn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==L&&L.Iframe)d(gapi.iframes.getContext());else{if(null===(B=nn().gapi)||void 0===B||!B.load){const Qe=ir("iframefcb");return nn()[Qe]=()=>{gapi.load?te():f(ke(w,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${Qe}`).catch(kt=>f(kt))}te()}}).catch(d=>{throw Gc=null,d})}(w),Gc}const cg=new it(5e3,15e3),af={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bd(w){const d=w.config;pe(d.authDomain,w,"auth-domain-config-required");const f=d.emulator?ft(d,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,b={apiKey:d.apiKey,appName:w.name,v:v.SDK_VERSION},L=dg.get(w.config.apiHost);L&&(b.eid=L);const B=w._getFrameworks();return B.length&&(b.fw=B.join(",")),`${f}?${(0,H.xO)(b).slice(1)}`}function jd(){return jd=(0,g.Z)(function*(w){const d=yield Pu(w),f=nn().gapi;return pe(f,w,"internal-error"),d.open({where:document.body,url:Bd(w),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:af,dontclear:!0},b=>new Promise(function(){var L=(0,g.Z)(function*(B,te){yield b.restyle({setHideOnLeave:!1});const Qe=ke(w,"network-request-failed"),kt=nn().setTimeout(()=>{te(Qe)},cg.get());function Yt(){nn().clearTimeout(kt),B(b)}b.ping(Yt).then(Yt,()=>{te(Qe)})});return function(B,te){return L.apply(this,arguments)}}()))}),jd.apply(this,arguments)}const ku={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rl(w,d,f,b,L,B){pe(w.config.authDomain,w,"auth-domain-config-required"),pe(w.config.apiKey,w,"invalid-api-key");const te={apiKey:w.config.apiKey,appName:w.name,authType:f,redirectUrl:b,v:v.SDK_VERSION,eventId:L};if(d instanceof Ti){d.setDefaultLanguage(w.languageCode),te.providerId=d.providerId||"",(0,H.xb)(d.getCustomParameters())||(te.customParameters=JSON.stringify(d.getCustomParameters()));for(const[kt,Yt]of Object.entries(B||{}))te[kt]=Yt}if(d instanceof Bs){const kt=d.getScopes().filter(Yt=>""!==Yt);kt.length>0&&(te.scopes=kt.join(","))}w.tenantId&&(te.tid=w.tenantId);const Qe=te;for(const kt of Object.keys(Qe))void 0===Qe[kt]&&delete Qe[kt];return`${function zd({config:w}){return w.emulator?ft(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,H.xO)(Qe).slice(1)}`}const Wc="webStorageSupport",lf=class fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bn,this._completeRedirectFn=Kt,this._overrideRedirectResult=xt}_openPopup(d,f,b,L){var B=this;return(0,g.Z)(function*(){var te;je(null===(te=B.eventManagers[d._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Qe=Rl(d,f,b,Ae(),L);return function fi(w,d,f,b=500,L=600){const B=Math.max((window.screen.availHeight-L)/2,0).toString(),te=Math.max((window.screen.availWidth-b)/2,0).toString();let Qe="";const kt=Object.assign(Object.assign({},ku),{width:b.toString(),height:L.toString(),top:B,left:te}),Yt=(0,H.z$)().toLowerCase();f&&(Qe=we(Yt)?"_blank":f),X(Yt)&&(d=d||"http://localhost",kt.scrollbars="yes");const Rn=Object.entries(kt).reduce((Jo,[Ra,fc])=>`${Jo}${Ra}=${fc},`,"");if(function Ye(w=(0,H.z$)()){var d;return J(w)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Yt)&&"_self"!==Qe)return function uf(w,d){const f=document.createElement("a");f.href=w,f.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(b)}(d||"",Qe),new dc(null);const Gr=window.open(d||"",Qe,Rn);pe(Gr,w,"popup-blocked");try{Gr.focus()}catch{}return new dc(Gr)}(d,Qe,ln())})()}_openRedirect(d,f,b,L){var B=this;return(0,g.Z)(function*(){return yield B._originValidation(d),function pr(w){nn().location.href=w}(Rl(d,f,b,Ae(),L)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:L,promise:B}=this.eventManagers[f];return L?Promise.resolve(L):(je(B,"If manager is not set, promise should be"),B)}const b=this.initAndGetManager(d);return this.eventManagers[f]={promise:b},b.catch(()=>{delete this.eventManagers[f]}),b}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const b=yield function hg(w){return jd.apply(this,arguments)}(d),L=new hi(d);return b.register("authEvent",B=>(pe(B?.authEvent,d,"invalid-auth-event"),{status:L.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:L},f.iframes[d._key()]=b,L})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Wc,{type:Wc},L=>{var B;const te=null===(B=L?.[0])||void 0===B?void 0:B[Wc];void 0!==te&&f(!!te),et(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function sf(w){return lc.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return Qt()||q()||J()}};class Wd{constructor(d){this.factorId=d}_process(d,f,b){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,b);case"signin":return this._finalizeSignIn(d,f.credential);default:return Se("unexpected MultiFactorSessionType")}}}class qd extends Wd{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new qd(d)}_finalizeEnroll(d,f,b){return function Jr(w,d){return wt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(w,d))}(d,{idToken:f,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function No(w,d){return wt(w,"POST","/v2/accounts/mfaSignIn:finalize",Mt(w,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nl=(()=>{class w{constructor(){}static assertion(f){return qd._fromCredential(f)}}return w.FACTOR_ID="phone",w})();var Ks="@firebase/auth";class Yi{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(b=>{d(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);f&&(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function ei(w){(0,v._registerComponent)(new ye.wA("auth",(d,{options:f})=>{const b=d.getProvider("app").getImmediate(),L=d.getProvider("heartbeat"),{apiKey:B,authDomain:te}=b.options;return((Qe,kt)=>{pe(B&&!B.includes(":"),"invalid-api-key",{appName:Qe.name}),pe(!te?.includes(":"),"argument-error",{appName:Qe.name});const Yt={apiKey:B,authDomain:te,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(w)},Rn=new Zr(Qe,kt,Yt);return function mt(w,d){const f=d?.persistence||[],b=(Array.isArray(f)?f:[f]).map(ot);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(b,d?.popupRedirectResolver)}(Rn,f),Rn})(b,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,b)=>{d.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new ye.wA("auth-internal",d=>{const f=hr(d.getProvider("auth").getImmediate());return new Yi(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(Ks,"0.21.5",function fu(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,v.registerVersion)(Ks,"0.21.5","esm2017")}("Browser")},2090:(It,Re,j)=>{j.d(Re,{$s:()=>Ut,BH:()=>Be,G6:()=>ze,L:()=>Te,LL:()=>Ee,Pz:()=>Ke,Sg:()=>ut,UG:()=>je,US:()=>ye,ZB:()=>fe,ZR:()=>vn,aH:()=>ke,b$:()=>gt,eu:()=>it,hl:()=>rt,jU:()=>pt,m9:()=>Vn,ne:()=>Vt,pd:()=>lr,r3:()=>Nn,ru:()=>ot,tV:()=>oe,uI:()=>Se,vZ:()=>yr,w1:()=>Ae,xO:()=>Er,xb:()=>ur,z$:()=>pe,zI:()=>ft,zd:()=>cr});const de=function(ce){const re=[];let Q=0;for(let X=0;X<ce.length;X++){let q=ce.charCodeAt(X);q<128?re[Q++]=q:q<2048?(re[Q++]=q>>6|192,re[Q++]=63&q|128):55296==(64512&q)&&X+1<ce.length&&56320==(64512&ce.charCodeAt(X+1))?(q=65536+((1023&q)<<10)+(1023&ce.charCodeAt(++X)),re[Q++]=q>>18|240,re[Q++]=q>>12&63|128,re[Q++]=q>>6&63|128,re[Q++]=63&q|128):(re[Q++]=q>>12|224,re[Q++]=q>>6&63|128,re[Q++]=63&q|128)}return re},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,re){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let q=0;q<ce.length;q+=3){const we=ce[q],Fe=q+1<ce.length,Et=Fe?ce[q+1]:0,le=q+2<ce.length,ae=le?ce[q+2]:0;let Ye=(15&Et)<<2|ae>>6,at=63&ae;le||(at=64,Fe||(Ye=64)),X.push(Q[we>>2],Q[(3&we)<<4|Et>>4],Q[Ye],Q[at])}return X.join("")},encodeString(ce,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(ce):this.encodeByteArray(de(ce),re)},decodeString(ce,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(ce):function(ce){const re=[];let Q=0,X=0;for(;Q<ce.length;){const q=ce[Q++];if(q<128)re[X++]=String.fromCharCode(q);else if(q>191&&q<224){const we=ce[Q++];re[X++]=String.fromCharCode((31&q)<<6|63&we)}else if(q>239&&q<365){const le=((7&q)<<18|(63&ce[Q++])<<12|(63&ce[Q++])<<6|63&ce[Q++])-65536;re[X++]=String.fromCharCode(55296+(le>>10)),re[X++]=String.fromCharCode(56320+(1023&le))}else{const we=ce[Q++],Fe=ce[Q++];re[X++]=String.fromCharCode((15&q)<<12|(63&we)<<6|63&Fe)}}return re.join("")}(this.decodeStringToByteArray(ce,re))},decodeStringToByteArray(ce,re){this.init_();const Q=re?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let q=0;q<ce.length;){const we=Q[ce.charAt(q++)],Et=q<ce.length?Q[ce.charAt(q)]:0;++q;const ae=q<ce.length?Q[ce.charAt(q)]:64;++q;const me=q<ce.length?Q[ce.charAt(q)]:64;if(++q,null==we||null==Et||null==ae||null==me)throw new Ce;X.push(we<<2|Et>>4),64!==ae&&(X.push(Et<<4&240|ae>>2),64!==me&&X.push(ae<<6&192|me))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(ce){return function(ce){const re=de(ce);return ye.encodeByteArray(re,!0)}(ce).replace(/\./g,"")},oe=function(ce){try{return ye.decodeString(ce,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function fe(ce,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return re}for(const Q in re)!re.hasOwnProperty(Q)||!tt(Q)||(ce[Q]=fe(ce[Q],re[Q]));return ce}function tt(ce){return"__proto__"!==ce}const qe=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=ce&&oe(ce[1]);return re&&JSON.parse(re)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},ke=()=>{var ce;return null===(ce=qe())||void 0===ce?void 0:ce.config},Ke=ce=>{var re;return null===(re=qe())||void 0===re?void 0:re[`_${ce}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,Q)=>{this.resolve=re,this.reject=Q})}wrapCallback(re){return(Q,X)=>{Q?this.reject(Q):this.resolve(X),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(Q):re(Q,X))}}}function ut(ce,re){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=re||"demo-project",q=ce.iat||0,we=ce.sub||ce.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:q,exp:q+3600,auth_time:q,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Fe)),""].join(".")}function pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function je(){var ce;const re=null===(ce=qe())||void 0===ce?void 0:ce.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function ot(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){const ce=pe();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function ze(){return!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rt(){try{return"object"==typeof indexedDB}catch{return!1}}function it(){return new Promise((ce,re)=>{try{let Q=!0;const X="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(X);q.onsuccess=()=>{q.result.close(),Q||self.indexedDB.deleteDatabase(X),ce(!0)},q.onupgradeneeded=()=>{Q=!1},q.onerror=()=>{var we;re((null===(we=q.error)||void 0===we?void 0:we.message)||"")}}catch(Q){re(Q)}})}function ft(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vn extends Error{constructor(re,Q,X){super(Q),this.code=re,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(re,Q,X){this.service=re,this.serviceName=Q,this.errors=X}create(re,...Q){const X=Q[0]||{},q=`${this.service}/${re}`,we=this.errors[re],Fe=we?function Mt(ce,re){return ce.replace(wt,(Q,X)=>{const q=re[X];return null!=q?String(q):`<${X}?>`})}(we,X):"Error";return new vn(q,`${this.serviceName}: ${Fe} (${q}).`,X)}}const wt=/\{\$([^}]+)}/g;function Nn(ce,re){return Object.prototype.hasOwnProperty.call(ce,re)}function ur(ce){for(const re in ce)if(Object.prototype.hasOwnProperty.call(ce,re))return!1;return!0}function yr(ce,re){if(ce===re)return!0;const Q=Object.keys(ce),X=Object.keys(re);for(const q of Q){if(!X.includes(q))return!1;const we=ce[q],Fe=re[q];if(ct(we)&&ct(Fe)){if(!yr(we,Fe))return!1}else if(we!==Fe)return!1}for(const q of X)if(!Q.includes(q))return!1;return!0}function ct(ce){return null!==ce&&"object"==typeof ce}function Er(ce){const re=[];for(const[Q,X]of Object.entries(ce))Array.isArray(X)?X.forEach(q=>{re.push(encodeURIComponent(Q)+"="+encodeURIComponent(q))}):re.push(encodeURIComponent(Q)+"="+encodeURIComponent(X));return re.length?"&"+re.join("&"):""}function cr(ce){const re={};return ce.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[q,we]=X.split("=");re[decodeURIComponent(q)]=decodeURIComponent(we)}}),re}function lr(ce){const re=ce.indexOf("?");if(!re)return"";const Q=ce.indexOf("#",re);return ce.substring(re,Q>0?Q:void 0)}function Vt(ce,re){const Q=new Ot(ce,re);return Q.subscribe.bind(Q)}class Ot{constructor(re,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{re(this)}).catch(X=>{this.error(X)})}next(re){this.forEachObserver(Q=>{Q.next(re)})}error(re){this.forEachObserver(Q=>{Q.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,Q,X){let q;if(void 0===re&&void 0===Q&&void 0===X)throw new Error("Missing Observer.");q=function On(ce,re){if("object"!=typeof ce||null===ce)return!1;for(const Q of re)if(Q in ce&&"function"==typeof ce[Q])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:Q,complete:X},void 0===q.next&&(q.next=pn),void 0===q.error&&(q.error=pn),void 0===q.complete&&(q.complete=pn);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),we}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,re)}sendOne(re,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{Q(this.observers[re])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function Ut(ce,re=1e3,Q=2){const X=re*Math.pow(Q,ce),q=Math.round(.5*X*(Math.random()-.5)*2);return Math.min(144e5,X+q)}function Vn(ce){return ce&&ce._delegate?ce._delegate:ce}},1178:(It,Re,j)=>{var g=j(1481),H=j(2011),v=j(4650),de=j(7579),he=j(9646),ye=j(9751),Ce=j(8996),Ie=j(6451),Te=j(5363),oe=j(3900),se=j(4004),fe=j(6063);class tt extends de.x{constructor(e=1/0,t=1/0,s=fe.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:p}=this;t||(s.push(e),!a&&s.push(l.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:a}=this,l=a.slice();for(let p=0;p<l.length&&!e.closed;p+=s?1:2)e.next(l[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:a}=this,l=(a?1:2)*e;if(e<1/0&&l<s.length&&s.splice(0,s.length-l),!a){const p=t.now();let I=0;for(let O=1;O<s.length&&s[O]<=p;O+=2)I=O;I&&s.splice(0,I+1)}}}var $e=j(3099);function nt(n,e,t){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):s=n??1/0,(0,$e.B)({connector:()=>new tt(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Dt=j(590),Le=j(576);function qe(n,e){return(0,Le.m)(e)?(0,oe.w)(()=>n,e):(0,oe.w)(()=>n)}var Ze=j(9468),et=j(9300),ke=j(2122),Ke=j(6895);j(259);var Ee=j(5861),Mt=j(9681),wt=j(4859),At=j(2090),An=j(1877);const wn=new Map,hn={activated:!1,tokenObservers:[]},Xn={initialized:!1,enabled:!1};function In(n){return wn.get(n)||Object.assign({},hn)}function Nn(){return Xn}class Er{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new At.BH,yield function cr(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new At.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const en=new At.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ot(n){if(!In(n).activated)throw en.create("use-before-activation",{appName:n.name})}function pn(n,e){return or.apply(this,arguments)}function or(){return(or=(0,Ee.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const ue=yield a.getHeartbeatsHeader();ue&&(s["X-Firebase-Client"]=ue)}const l={method:"POST",body:JSON.stringify(e),headers:s};let p,I;try{p=yield fetch(n,l)}catch(ue){throw en.create("fetch-network-error",{originalErrorMessage:ue?.message})}if(200!==p.status)throw en.create("fetch-status-error",{httpStatus:p.status});try{I=yield p.json()}catch(ue){throw en.create("fetch-parse-error",{originalErrorMessage:ue?.message})}const O=I.ttl.match(/^([\d.]+)(s)$/);if(!O||!O[2]||isNaN(Number(O[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const U=1e3*Number(O[1]),Y=Date.now();return{token:I.token,expireTimeMillis:Y+U,issuedAtTimeMillis:Y}})).apply(this,arguments)}function ri(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Jt="firebase-app-check-store";let jn=null;function lt(){return jn||(jn=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(en.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(t){e(en.create("storage-open",{originalErrorMessage:t?.message}))}}),jn)}function Vn(){return(Vn=(0,Ee.Z)(function*(n,e){const s=(yield lt()).transaction(Jt,"readwrite"),l=s.objectStore(Jt).put({compositeKey:n,value:e});return new Promise((p,I)=>{l.onsuccess=O=>{p()},s.onerror=O=>{var U;I(en.create("storage-set",{originalErrorMessage:null===(U=O.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const X=new An.Yd("@firebase/app-check");function Fe(n,e){return(0,At.hl)()?function bt(n,e){return function sn(n,e){return Vn.apply(this,arguments)}(function Q(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{X.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ae(){return Nn().enabled}function J(){return me.apply(this,arguments)}function me(){return(me=(0,Ee.Z)(function*(){const n=Nn();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const at={error:"UNKNOWN_ERROR"};function Qt(n){return At.US.encodeString(JSON.stringify(n),!1)}function qn(n){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,Ee.Z)(function*(n,e=!1){const t=n.app;Ot(t);const s=In(t);let l,a=s.token;if(a&&!cs(a)&&(s.token=void 0,a=void 0),!a){const O=yield s.cachedTokenPromise;O&&(cs(O)?a=O:yield Fe(t,void 0))}if(!e&&a&&cs(a))return{token:a.token};let I,p=!1;if(ae()){s.exchangeTokenPromise||(s.exchangeTokenPromise=pn(ri(t,yield J()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const O=yield s.exchangeTokenPromise;return yield Fe(t,O),s.token=O,{token:O.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),a=yield In(t).exchangeTokenPromise}catch(O){"appCheck/throttled"===O.code?X.warn(O.message):X.error(O),l=O}return a?l?I=cs(a)?{token:a.token,internalError:l}:ws(l):(I={token:a.token},s.token=a,yield Fe(t,a)):I=ws(l),p&&Eo(t,I),I})).apply(this,arguments)}function Zr(n,e){const t=In(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function hr(n){const{app:e}=n,t=In(e);let s=t.tokenRefresher;s||(s=function Kr(n){const{app:e}=n;return new Er((0,Ee.Z)(function*(){let s;if(s=In(e).token?yield qn(n,!0):yield qn(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=In(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Eo(n,e){const t=In(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch{}}function cs(n){return n.expireTimeMillis-Date.now()>0}function ws(n){return{token:Qt(at),error:n}}class eo{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=In(this.app);for(const t of e)Zr(this.app,t.next);return Promise.resolve()}}const nr="app-check-internal";!function Sr(){(0,Mt._registerComponent)(new wt.wA("app-check",n=>function xn(n,e){return new eo(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nr).initialize()})),(0,Mt._registerComponent)(new wt.wA(nr,n=>function $n(n){return{getToken:e=>qn(n,e),addTokenListener:e=>function mi(n,e,t,s){const{app:a}=n,l=In(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:s,type:e}],l.token&&cs(l.token)){const I=l.token;Promise.resolve().then(()=>{t({token:I.token}),hr(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>hr(n))}(n,"INTERNAL",e),removeTokenListener:e=>Zr(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)("@firebase/app-check","0.6.4")}();class to{constructor(){return(0,ke.vb)("app-check")}}typeof window<"u"&&window;var no=j(9260);const Ia=new v.OlP("angularfire2.auth.use-emulator"),ia=new v.OlP("angularfire2.auth.settings"),Si=new v.OlP("angularfire2.auth.tenant-id"),Io=new v.OlP("angularfire2.auth.langugage-code"),Ai=new v.OlP("angularfire2.auth.use-device-language"),$i=new v.OlP("angularfire.auth.persistence"),$o=(n,e,t,s,a,l,p,I)=>(0,H.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const O=e.runOutsideAngular(()=>n.auth());if(t&&O.useEmulator(...t),s&&(O.tenantId=s),O.languageCode=a,l&&O.useDeviceLanguage(),p)for(const[U,Y]of Object.entries(p))O.settings[U]=Y;return I&&O.setPersistence(I),O},[t,s,a,l,p,I]);let ds=(()=>{class n{constructor(t,s,a,l,p,I,O,U,Y,ue,De,We){const st=new de.x,_t=(0,he.of)(void 0).pipe((0,Te.Q)(p.outsideAngular),(0,oe.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,se.U)(()=>(0,H.on)(t,l,s)),(0,se.U)(Bt=>$o(Bt,l,I,U,Y,ue,O,De)),nt({bufferSize:1,refCount:!1}));if((0,Ke.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{_t.pipe((0,Dt.P)()).subscribe();const Yn=_t.pipe((0,oe.w)(fn=>fn.getRedirectResult().then(yn=>yn,()=>null)),ke.iC,nt({bufferSize:1,refCount:!1})),ni=_t.pipe((0,oe.w)(fn=>new ye.y(yn=>({unsubscribe:l.runOutsideAngular(()=>fn.onAuthStateChanged(Tn=>yn.next(Tn),Tn=>yn.error(Tn),()=>yn.complete()))})))),mn=_t.pipe((0,oe.w)(fn=>new ye.y(yn=>({unsubscribe:l.runOutsideAngular(()=>fn.onIdTokenChanged(Tn=>yn.next(Tn),Tn=>yn.error(Tn),()=>yn.complete()))}))));this.authState=Yn.pipe(qe(ni),(0,Ze.R)(p.outsideAngular),(0,Te.Q)(p.insideAngular)),this.user=Yn.pipe(qe(mn),(0,Ze.R)(p.outsideAngular),(0,Te.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(fn=>fn?(0,Ce.D)(fn.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(fn=>fn?(0,Ce.D)(fn.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,Ie.T)(Yn,st,this.authState.pipe((0,et.h)(fn=>!fn))).pipe((0,se.U)(fn=>fn?.user?fn:null),(0,Ze.R)(p.outsideAngular),(0,Te.Q)(p.insideAngular))}return(0,H.pX)(this,_t,l,{spy:{apply:(Bt,Yn,ni)=>{(Bt.startsWith("signIn")||Bt.startsWith("createUser"))&&ni.then(mn=>st.next(mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(H.Dh),v.LFG(H.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ke.HU),v.LFG(Ia,8),v.LFG(ia,8),v.LFG(Si,8),v.LFG(Io,8),v.LFG(Ai,8),v.LFG($i,8),v.LFG(to,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oi=(()=>{class n{constructor(){no.Z.registerVersion("angularfire",ke.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[ds]}),n})();var io=j(4986),bs=j(8675),so=j(4482),Cs=j(5403);function Ho(){return(0,so.e)((n,e)=>{let t,s=!1;n.subscribe((0,Cs.x)(e,a=>{const l=t;t=a,s&&e.next([l,a]),s=!0}))})}var hs=j(5026),js=j(4671);function Ts(n,e){return n===e}j(9568);var Rt,ps=j(3942),xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={},gs=gs||{},Zt=xi||self;function Or(){}function Qn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ji(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bo="closure_uid_"+(1e9*Math.random()>>>0),Ss=0;function jr(n,e,t){return n.call.apply(n.bind,arguments)}function As(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Ir(n,e,t){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jr:As).apply(null,arguments)}function Ei(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function _n(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(s,a,l){for(var p=Array(arguments.length-2),I=2;I<arguments.length;I++)p[I-2]=arguments[I];return e.prototype[a].apply(s,p)}}function ai(){this.s=this.s,this.o=this.o}ai.prototype.s=!1,ai.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function fr(n){Object.prototype.hasOwnProperty.call(n,bo)&&n[bo]||(n[bo]=++Ss)}(this)},ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Da=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $r(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Co(n,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Qn(s)){const a=n.length||0,l=s.length||0;n.length=a+l;for(let p=0;p<l;p++)n[a+p]=s[p]}else n.push(s)}}function ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var tn=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",Or,e),Zt.removeEventListener("test",Or,e)}catch{}return n}();function Hi(n){return/^[\s\xa0]*$/.test(n)}var sa=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $s(n,e){return n<e?-1:n>e?1:0}function xs(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function kr(n){return-1!=xs().indexOf(n)}function oa(n){return oa[" "](n),n}oa[" "]=Or;var Dn,n,To=kr("Opera"),S=kr("Trident")||kr("MSIE"),R=kr("Edge"),A=R||S,Z=kr("Gecko")&&!(-1!=xs().toLowerCase().indexOf("webkit")&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),be=-1!=xs().toLowerCase().indexOf("webkit")&&!kr("Edge");function Ct(){var n=Zt.document;return n?n.documentMode:void 0}e:{var rr="",ui=(n=xs(),Z?/rv:([^\);]+)(\)|;)/.exec(n):R?/Edge\/([\d\.]+)/.exec(n):S?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):be?/WebKit\/(\S+)/.exec(n):To?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ui&&(rr=ui?ui[1]:""),S){var Gi=Ct();if(null!=Gi&&Gi>parseFloat(rr)){Dn=String(Gi);break e}}Dn=rr}var es={};var wi=Zt.document&&S&&(Ct()||parseInt(Dn,10))||void 0;function Ns(n,e){if(ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Z){e:{try{oa(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Hs[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ns.X.h.call(this)}}_n(Ns,ar);var Hs={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ts="closure_listenable_"+(1e6*Math.random()|0),su=0;function Go(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=a,this.key=++su,this.ba=this.ea=!1}function zo(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ba(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function Gs(n){const e={};for(const t in n)e[t]=n[t];return e}const oo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Va(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<oo.length;l++)t=oo[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function ao(n){this.src=n,this.g={},this.h=0}function So(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=Da(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(zo(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ua(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==s)return a}return-1}ao.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=Ua(n,e,s,a);return-1<p?(e=n[p],t||(e.ea=!1)):((e=new Go(e,this.src,l,!!s,a)).ea=t,n.push(e)),e};var Wo="closure_lm_"+(1e6*Math.random()|0),ou={};function Su(n,e,t,s,a){if(s&&s.once)return au(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Su(n,e[l],t,s,a);return null}return t=$a(t),n&&n[ts]?n.N(e,t,Ji(s)?!!s.capture:!!s,a):Ca(n,e,t,!1,s,a)}function Ca(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var p=Ji(a)?!!a.capture:!!a,I=Un(n);if(I||(n[Wo]=I=new ao(n)),(t=I.add(e,t,s,p,l)).proxy)return t;if(s=function Ba(){const e=zi;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)tn||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(ci(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function au(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)au(n,e[l],t,s,a);return null}return t=$a(t),n&&n[ts]?n.O(e,t,Ji(s)?!!s.capture:!!s,a):Ca(n,e,t,!0,s,a)}function ja(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)ja(n,e[l],t,s,a);else s=Ji(s)?!!s.capture:!!s,t=$a(t),n&&n[ts]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ua(l=n.g[e],t,s,a))&&(zo(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Un(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ua(e,t,s,a)),(t=-1<n?e[n]:null)&&Ao(t))}function Ao(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ts])So(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(ci(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Un(e))?(So(t,n),0==t.h&&(t.src=null,e[Wo]=null)):zo(n)}}}function ci(n){return n in ou?ou[n]:ou[n]="on"+n}function zi(n,e){if(n.ba)n=!0;else{e=new Ns(e,this);var t=n.listener,s=n.ha||n.src;n.ea&&Ao(n),n=t.call(s,e)}return n}function Un(n){return(n=n[Wo])instanceof ao?n:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(n){return"function"==typeof n?n:(n[ua]||(n[ua]=function(e){return n.handleEvent(e)}),n[ua])}function Mn(){ai.call(this),this.i=new ao(this),this.P=this,this.I=null}function Jr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new ar(e,n);else if(e instanceof ar)e.target=e.target||n;else{var a=e;Va(e=new ar(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=Ha(p,s,!0,e)&&a}if(a=Ha(p=e.g=n,s,!0,e)&&a,a=Ha(p,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Ha(p=e.g=t[l],s,!1,e)&&a}function Ha(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ba&&p.capture==t){var I=p.listener,O=p.ha||p.src;p.ea&&So(n.i,p),a=!1!==I.call(O,s)&&a}}return a&&!s.defaultPrevented}_n(Mn,ai),Mn.prototype[ts]=!0,Mn.prototype.removeEventListener=function(n,e,t,s){ja(this,n,e,t,s)},Mn.prototype.M=function(){if(Mn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)zo(t[s]);delete n.g[e],n.h--}}this.I=null},Mn.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Mn.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var ca=Zt.JSON.stringify;function la(){var n=Ft;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ie,T=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new V,n=>n.reset());class V{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function N(n){Zt.setTimeout(()=>{throw n},0)}function z(n,e){ie||function Ne(){var n=Zt.Promise.resolve(void 0);ie=function(){n.then(bn)}}(),Ue||(ie(),Ue=!0),Ft.add(n,e)}var Ue=!1,Ft=new class da{constructor(){this.h=this.g=null}add(e,t){const s=T.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function bn(){for(var n;n=la();){try{n.h.call(n.g)}catch(t){N(t)}var e=T;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ue=!1}function Bn(n,e){Mn.call(this),this.h=n||1,this.g=e||Zt,this.j=Ir(this.lb,this),this.l=Date.now()}function kn(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ln(n,e,t){if("function"==typeof n)t&&(n=Ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function Fr(n){n.g=ln(()=>{n.g=null,n.i&&(n.i=!1,Fr(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_n(Bn,Mn),(Rt=Bn.prototype).ca=!1,Rt.R=null,Rt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Jr(this,"tick"),this.ca&&(kn(this),this.start()))}},Rt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rt.M=function(){Bn.X.M.call(this),kn(this),delete this.g};class nn extends ai{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(n){ai.call(this),this.h=n,this.g={}}_n(pr,ai);var Wi=[];function qi(n,e,t,s){Array.isArray(t)||(t&&(Wi[0]=t.toString()),t=Wi);for(var a=0;a<t.length;a++){var l=Su(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function li(n){ba(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ao(e)},n),n.g={}}function Zi(){this.g=!0}function Os(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qo(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return ca(t)}catch{return e}}(n,t)+(s?" "+s:"")})}pr.prototype.M=function(){pr.X.M.call(this),li(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Aa=function(){this.g=!1},Zi.prototype.info=function(){};var ns={},ha=null;function Zo(){return ha=ha||new Mn}function uo(n){ar.call(this,ns.Pa,n)}function fa(n){const e=Zo();Jr(e,new uo(e))}function Mi(n,e){ar.call(this,ns.STAT_EVENT,n),this.stat=e}function Ki(n){const e=Zo();Jr(e,new Mi(e,n))}function Ro(n,e){ar.call(this,ns.Qa,n),this.size=e}function co(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}ns.Pa="serverreachability",_n(uo,ar),ns.STAT_EVENT="statevent",_n(Mi,ar),ns.Qa="timingevent",_n(Ro,ar);var Ta={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ga={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pa(){}function Au(){}pa.prototype.h=null;var cu,No={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uu(){ar.call(this,"d")}function rs(){ar.call(this,"c")}function Oo(){}function ir(n,e,t,s){this.l=n,this.j=e,this.m=t,this.U=s||1,this.S=new pr(this),this.O=Sa,this.T=new Bn(n=A?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xu}function xu(){this.i=null,this.g="",this.h=!1}_n(uu,ar),_n(rs,ar),_n(Oo,pa),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},cu=new Oo;var Sa=45e3,Ri={},zs={};function Mu(n,e,t){n.K=1,n.v=Qo(Yo(e)),n.s=t,n.P=!0,oc(n,null)}function oc(n,e){n.F=Date.now(),Ko(n),n.A=Yo(n.v);var t=n.A,s=n.U;Array.isArray(s)||(s=[String(s)]),Ou(t.i,"t",s),n.C=0,t=n.l.H,n.h=new xu,n.g=Hd(n.l,t?e:null,!n.s),0<n.N&&(n.L=new nn(Ir(n.La,n,n.g),n.N)),qi(n.S,n.g,"readystatechange",n.ib),e=n.H?Gs(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),fa(),function xo(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var p="",I=l.split("&"),O=0;O<I.length;O++){var U=I[O].split("=");if(1<U.length){var Y=U[0];U=U[1];var ue=Y.split("_");p=2<=ue.length&&"type"==ue[1]?p+(Y+"=")+U+"&":p+(Y+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Wa(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function $c(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=lu(n,t),a==zs){4==e&&(n.o=4,Ki(14),s=!1),Os(n.j,n.m,null,"[Incomplete Response]");break}if(a==Ri){n.o=4,Ki(15),Os(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}Os(n.j,n.m,a,null),Aa(n,a)}Wa(n)&&a!=zs&&a!=Ri&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ki(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),af(e),e.K=!0,Ki(11))):(Os(n.j,n.m,t,"[Invalid Chunked Response]"),ms(n),Ws(n))}function lu(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?zs:(t=Number(e.substring(t,s)),isNaN(t)?Ri:(s+=1)+t>e.length?zs:(e=e.substr(s,t),n.C=s+t,e))}function Ko(n){n.V=Date.now()+n.O,is(n,n.O)}function is(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=co(Ir(n.gb,n),e)}function ga(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Ws(n){0==n.l.G||n.I||hg(n.l,n)}function ms(n){ga(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kn(n.T),li(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Aa(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$(t.h,n)))if(!n.J&&$(t.h,n)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Bd(t),Vd(t)}zc(t),Ki(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=co(Ir(t.cb,t),6e3));if(1>=k(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ku(t,11)}else if((n.J||t.g==n)&&Bd(t),!Hi(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.T=U[0],U=U[1],2==t.G)if("c"==U[0]){t.I=U[1],t.ka=U[2];const Y=U[3];null!=Y&&(t.ma=Y,t.j.info("VER="+t.ma));const ue=U[4];null!=ue&&(t.Ca=ue,t.j.info("SVER="+t.Ca));const De=U[5];null!=De&&"number"==typeof De&&0<De&&(t.J=s=1.5*De,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const We=n.g;if(We){const st=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(st){var l=s.h;l.g||-1==st.indexOf("spdy")&&-1==st.indexOf("quic")&&-1==st.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(K(l,l.h),l.h=null))}if(s.D){const _t=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;_t&&(s.za=_t,Dr(s.F,s.D,_t))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=n;if((s=t).sa=Ml(s,s.H?s.ka:null,s.V),p.J){ve(s.h,p);var I=p,O=s.J;O&&I.setTimeout(O),I.B&&(ga(I),Ko(I)),s.g=p}else lg(s);0<t.i.length&&xl(t)}else"stop"!=U[0]&&"close"!=U[0]||ku(t,7);else 3==t.G&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?ku(t,7):lc(t):"noop"!=U[0]&&t.l&&t.l.wa(U),t.A=0)}fa()}catch{}}function Sl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qn(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Hc(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qn(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const s in n)e[t++]=s;return e}}}(n),s=function qa(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qn(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}(Rt=ir.prototype).setTimeout=function(n){this.O=n},Rt.ib=function(n){n=n.target;const e=this.L;e&&3==qs(n)?e.l():this.La(n)},Rt.La=function(n){try{if(n==this.g)e:{const Y=qs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Y)&&(3!=Y||A||this.g&&(this.h.h||this.g.fa()||Zs(this.g)))){this.I||4!=Y||7==e||fa(),ga(this);var t=this.g.aa();this.Y=t;t:if(Wa(this)){var s=Zs(this.g);n="";var a=s.length,l=4==qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Ws(this);var p="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function Mo(n,e,t,s,a,l,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.U,Y,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var I,O=this.g;if((I=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hi(I)){var U=I;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Ki(12),ms(this),Ws(this);break e}Os(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Aa(this,t)}this.P?($c(this,Y,p),A&&this.i&&3==Y&&(qi(this.S,this.T,"tick",this.hb),this.T.start())):(Os(this.j,this.m,p,null),Aa(this,p)),4==Y&&ms(this),this.i&&!this.I&&(4==Y?hg(this.l,this):(this.i=!1,Ko(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),ms(this),Ws(this)}}}catch{}},Rt.hb=function(){if(this.g){var n=qs(this.g),e=this.g.fa();this.C<e.length&&(ga(this),$c(this,n,e),this.i&&4!=n&&Ko(this))}},Rt.cancel=function(){this.I=!0,ms(this)},Rt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ps(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fa(),Ki(17)),ms(this),this.o=2,Ws(this)):is(this,this.V-n)};var zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof lo){this.h=void 0!==e?e:n.h,Za(this,n.j),this.s=n.s,this.g=n.g,xa(this,n.m),this.l=n.l,e=n.i;var t=new Xo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),du(this,t),this.o=n.o}else n&&(t=String(n).match(zn))?(this.h=!!e,Za(this,t[1]||"",!0),this.s=Ru(t[2]||""),this.g=Ru(t[3]||"",!0),xa(this,t[4]),this.l=Ru(t[5]||"",!0),du(this,t[6]||"",!0),this.o=Ru(t[7]||"")):(this.h=!!e,this.i=new Xo(null,this.h))}function Yo(n){return new lo(n)}function Za(n,e,t){n.j=t?Ru(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xa(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function du(n,e,t){e instanceof Xo?(n.i=e,function Al(n,e){e&&!n.j&&(ys(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(fo(this,s),Ou(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ss(e,Ni)),n.i=new Xo(e,n.h))}function Dr(n,e,t){n.i.set(e,t)}function Qo(n){return Dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ru(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ss(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Hr),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Hr(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ss(e,Ka,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ss(e,Ka,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ss(t,"/"==t.charAt(0)?Nu:Ya,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ss(t,ho)),n.join("")};var Ka=/[#\/\?@]/g,Ya=/[#\?:]/g,Nu=/[#\?]/g,Ni=/[#\?@]/g,ho=/#/g;function Xo(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ys(n){n.g||(n.g=new Map,n.h=0,n.i&&function ac(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fo(n,e){ys(n),e=Qa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function hu(n,e){return ys(n),e=Qa(n,e),n.g.has(e)}function Ou(n,e,t){fo(n,e),0<t.length&&(n.i=null,n.g.set(Qa(n,e),$r(t)),n.h+=t.length)}function Qa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E(n){this.l=n||m,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ga&&Zt.g.Ga()&&Zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Rt=Xo.prototype).add=function(n,e){ys(this),this.i=null,n=Qa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Rt.forEach=function(n,e){ys(this),this.g.forEach(function(t,s){t.forEach(function(a){n.call(e,a,s,this)},this)},this)},Rt.oa=function(){ys(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=n[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},Rt.W=function(n){ys(this);let e=[];if("string"==typeof n)hu(this,n)&&(e=e.concat(this.g.get(Qa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Rt.set=function(n,e){return ys(this),this.i=null,hu(this,n=Qa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Rt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),p=this.W(s);for(s=0;s<p.length;s++){var a=l;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),n.push(a)}}return this.i=n.join("&")};var m=10;function C(n){return!!n.h||!!n.g&&n.g.size>=n.j}function k(n){return n.h?1:n.g?n.g.size:0}function $(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K(n,e){n.g?n.g.add(e):n.h=e}function ve(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ge(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $r(n.i)}function xt(){}function Nt(){this.g=new xt}function Fn(n,e,t){const s=t||"";try{Sl(n,function(a,l){let p=a;Ji(a)&&(p=ca(a)),e.push(s+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function vs(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function di(n){this.l=n.ac||null,this.j=n.jb||!1}function M(n,e){Mn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=P,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}E.prototype.cancel=function(){if(this.i=Ge(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xt.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},xt.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},_n(di,pa),di.prototype.g=function(){return new M(this.l,this.j)},di.prototype.i=function(n){return function(){return n}}({}),_n(M,Mn);var P=0;function G(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ne(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_e(n)}function _e(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Rt=M.prototype).open=function(n,e){if(this.readyState!=P)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_e(this)},Rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ne(this)),this.readyState=P},Rt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_e(this)),this.g&&(this.readyState=3,_e(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Rt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ne(this):_e(this),3==this.readyState&&G(this)}},Rt.Va=function(n){this.g&&(this.response=this.responseText=n,ne(this))},Rt.Ua=function(n){this.g&&(this.response=n,ne(this))},Rt.ga=function(){this.g&&ne(this)},Rt.setRequestHeader=function(n,e){this.v.append(n,e)},Rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(M.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Me=Zt.JSON.parse;function Xe(n){Mn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lt,this.K=this.L=!1}_n(Xe,Mn);var Lt="",Kt=/^https?$/i,zt=["POST","PUT"];function on(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,po(n),Ma(n)}function po(n){n.D||(n.D=!0,Jr(n,"complete"),Jr(n,"error"))}function hi(n){if(n.h&&typeof gs<"u"&&(!n.C[1]||4!=qs(n)||2!=n.aa()))if(n.v&&4==qs(n))ln(n.Ha,0,n);else if(Jr(n,"readystatechange"),4==qs(n)){n.h=!1;try{const I=n.aa();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===I){var a=String(n.H).match(zn)[1]||null;if(!a&&Zt.self&&Zt.self.location){var l=Zt.self.location.protocol;a=l.substr(0,l.length-1)}s=!Kt.test(a?a.toLowerCase():"")}t=s}if(t)Jr(n,"complete"),Jr(n,"success");else{n.m=6;try{var p=2<qs(n)?n.g.statusText:""}catch{p=""}n.j=p+" ["+n.aa()+"]",po(n)}}finally{Ma(n)}}}function Ma(n,e){if(n.g){uc(n);const t=n.g,s=n.C[0]?Or:null;n.g=null,n.C=null,e||Jr(n,"ready");try{t.onreadystatechange=s}catch{}}}function uc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function qs(n){return n.g?n.g.readyState:0}function Zs(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Lt:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(n){let e="";return ba(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Xa(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Po(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dr(n,e,t))}function cc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sf(n){this.Ca=0,this.i=[],this.j=new Zi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=cc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=cc("baseRetryDelayMs",5e3,n),this.bb=cc("retryDelaySeedMs",1e4,n),this.$a=cc("forwardChannelMaxRetries",2,n),this.ta=cc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new E(n&&n.concurrentRequestLimit),this.Fa=new Nt,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lc(n){if(Ud(n),3==n.G){var e=n.U++,t=Yo(n.F);Dr(t,"SID",n.I),Dr(t,"RID",e),Dr(t,"TYPE","terminate"),Pu(n,t),(e=new ir(n,n.j,e,void 0)).K=2,e.v=Qo(Yo(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(t=Zt.navigator.sendBeacon(e.v.toString(),"")),!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hd(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ko(e)}$d(n)}function Vd(n){n.g&&(af(n),n.g.cancel(),n.g=null)}function Ud(n){Vd(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),Bd(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function xl(n){C(n.h)||n.m||(n.m=!0,z(n.Ja,n),n.C=0)}function Gc(n,e){var t;t=e?e.m:n.U++;const s=Yo(n.F);Dr(s,"SID",n.I),Dr(s,"RID",t),Dr(s,"AID",n.T),Pu(n,s),n.o&&n.s&&Xa(s,n.o,n.s),t=new ir(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=cg(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),K(n.h,t),Mu(t,s,e)}function Pu(n,e){n.ia&&ba(n.ia,function(t,s){Dr(e,s,t)}),n.l&&Sl({},function(t,s){Dr(e,s,t)})}function cg(n,e,t){t=Math.min(n.i.length,t);var s=n.l?Ir(n.l.Ra,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let I=!0;for(let O=0;O<t;O++){let U=a[O].h;const Y=a[O].g;if(U-=l,0>U)l=Math.max(0,a[O].h-100),I=!1;else try{Fn(Y,p,"req"+U+"_")}catch{s&&s(Y)}}if(I){s=p.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,s}function lg(n){n.g||n.u||(n.Z=1,z(n.Ia,n),n.A=0)}function zc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=co(Ir(n.Ia,n),jd(n,n.A)),n.A++,0))}function af(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function dg(n){n.g=new ir(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Yo(n.sa);Dr(e,"RID","rpc"),Dr(e,"SID",n.I),Dr(e,"CI",n.L?"0":"1"),Dr(e,"AID",n.T),Dr(e,"TYPE","xmlhttp"),Pu(n,e),n.o&&n.s&&Xa(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Qo(Yo(e)),t.s=null,t.P=!0,oc(t,n)}function Bd(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function hg(n,e){var t=null;if(n.g==e){Bd(n),af(n),n.g=null;var s=2}else{if(!$(n.h,e))return;t=e.D,ve(n.h,e),s=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Jr(s=Zo(),new Ro(s,t)),xl(n)}else lg(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==s&&function ug(n,e){return!(k(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=co(Ir(n.Ja,n,e),jd(n,n.C)),n.C++,0)))}(n,e)||2==s&&zc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:ku(n,5);break;case 4:ku(n,10);break;case 3:ku(n,6);break;default:ku(n,2)}}function jd(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ku(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var s=Ir(n.kb,n);t||(t=new lo("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Za(t,"https"),Qo(t)),function Lr(n,e){const t=new Zi;if(Zt.Image){const s=new Image;s.onload=Ei(vs,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ei(vs,t,s,"TestLoadImage: error",!1,e),s.onabort=Ei(vs,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ei(vs,t,s,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Ki(2);n.G=0,n.l&&n.l.va(e),$d(n),Ud(n)}function $d(n){if(n.G=0,n.la=[],n.l){const e=Ge(n.h);(0!=e.length||0!=n.i.length)&&(Co(n.la,e),Co(n.la,n.i),n.h.i.length=0,$r(n.i),n.i.length=0),n.l.ua()}}function Ml(n,e,t){var s=t instanceof lo?Yo(t):new lo(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),xa(s,s.m);else{var a=Zt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new lo(null,void 0);s&&Za(l,s),e&&(l.g=e),a&&xa(l,a),t&&(l.l=t),s=l}return e=n.za,(t=n.D)&&e&&Dr(s,t,e),Dr(s,"VER",n.ma),Pu(n,s),s}function Hd(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(t&&n.Da&&!n.ra?new di({jb:!0}):n.ra)).Ka(n.H),e}function Gd(){}function dc(){if(S&&!(10<=Number(wi)))throw Error("Environmental error: no available transport.")}function fi(n,e){Mn.call(this),this.g=new sf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Hi(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hi(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hc(this)}function uf(n){uu.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cf(){rs.call(this),this.status=1}function hc(n){this.g=n}(Rt=Xe.prototype).Ka=function(n){this.L=n},Rt.da=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cu.g(),this.C=function za(n){return n.h||(n.h=n.i())}(this.u?this.u:cu),this.g.onreadystatechange=Ir(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void on(this,l)}if(n=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=Zt.FormData&&n instanceof Zt.FormData,!(0<=Da(zt,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,p]of t)this.g.setRequestHeader(l,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uc(this),0<this.B&&((this.K=function gn(n){return S&&function Ms(){return function aa(n){var e=es;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=sa(String(Dn)).split("."),t=sa("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=$s(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||$s(0==a[2].length,0==l[2].length)||$s(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.qa,this)):this.A=ln(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){on(this,l)}},Rt.qa=function(){typeof gs<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jr(this,"timeout"),this.abort(8))},Rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jr(this,"complete"),Jr(this,"abort"),Ma(this))},Rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ma(this,!0)),Xe.X.M.call(this)},Rt.Ha=function(){this.s||(this.F||this.v||this.l?hi(this):this.fb())},Rt.fb=function(){hi(this)},Rt.aa=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},Rt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Rt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Me(e)}},Rt.Ea=function(){return this.m},Rt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Rt=sf.prototype).ma=8,Rt.G=1,Rt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new ir(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Gs(l),Va(l,this.S)):l=this.S),null!==this.o||this.N||(a.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cg(this,a,e),Dr(t=Yo(this.F),"RID",n),Dr(t,"CVER",22),this.D&&Dr(t,"X-HTTP-Session-Id",this.D),Pu(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Po(l)))+"&"+e:this.o&&Xa(t,this.o,l)),K(this.h,a),this.Ya&&Dr(t,"TYPE","init"),this.O?(Dr(t,"$req",e),Dr(t,"SID","null"),a.Z=!0,Mu(a,t,null)):Mu(a,t,e),this.G=2}}else 3==this.G&&(n?Gc(this,n):0==this.i.length||C(this.h)||Gc(this))},Rt.Ia=function(){if(this.u=null,dg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=co(Ir(this.eb,this),n)}},Rt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ki(10),Vd(this),dg(this))},Rt.cb=function(){null!=this.v&&(this.v=null,Vd(this),zc(this),Ki(19))},Rt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ki(2)):(this.j.info("Failed to ping google.com"),Ki(1))},(Rt=Gd.prototype).xa=function(){},Rt.wa=function(){},Rt.va=function(){},Rt.ua=function(){},Rt.Ra=function(){},dc.prototype.g=function(n,e){return new fi(n,e)},_n(fi,Mn),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ki(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ml(n,null,n.V),xl(n)},fi.prototype.close=function(){lc(this.g)},fi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ca(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&xl(e)},fi.prototype.M=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,fi.X.M.call(this)},_n(uf,uu),_n(cf,rs),_n(hc,Gd),hc.prototype.xa=function(){Jr(this.g,"a")},hc.prototype.wa=function(n){Jr(this.g,new uf(n))},hc.prototype.va=function(n){Jr(this.g,new cf)},hc.prototype.ua=function(){Jr(this.g,"b")},dc.prototype.createWebChannel=dc.prototype.g,fi.prototype.send=fi.prototype.u,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,Ga.COMPLETE="complete",Au.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",Mn.prototype.listen=Mn.prototype.N,Xe.prototype.listenOnce=Xe.prototype.O,Xe.prototype.getLastError=Xe.prototype.Oa,Xe.prototype.getLastErrorCode=Xe.prototype.Ea,Xe.prototype.getStatus=Xe.prototype.aa,Xe.prototype.getResponseJson=Xe.prototype.Sa,Xe.prototype.getResponseText=Xe.prototype.fa,Xe.prototype.send=Xe.prototype.da,Xe.prototype.setWithCredentials=Xe.prototype.Ka;var Rl=Br.createWebChannelTransport=function(){return new dc},zd=Br.getStatEventTarget=function(){return Zo()},Wc=Br.ErrorCode=Ta,fg=Br.EventType=Ga,lf=Br.Event=ns,Wd=Br.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qd=Br.FetchXmlHttpFactory=di,Nl=Br.WebChannel=Au,Ks=Br.XhrIo=Xe;const qc="@firebase/firestore";class Yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let fu="9.18.0";const ei=new An.Yd("@firebase/firestore");function Fu(){return ei.logLevel}function dt(n,...e){if(ei.logLevel<=An.in.DEBUG){const t=e.map(w);ei.debug(`Firestore (${fu}): ${n}`,...t)}}function Ii(n,...e){if(ei.logLevel<=An.in.ERROR){const t=e.map(w);ei.error(`Firestore (${fu}): ${n}`,...t)}}function Lu(n,...e){if(ei.logLevel<=An.in.WARN){const t=e.map(w);ei.warn(`Firestore (${fu}): ${n}`,...t)}}function w(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function d(n="Unexpected state"){const e=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: `+n;throw Ii(e),new Error(e)}function f(n,e){n||d()}function L(n,e){return n}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends At.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qe{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yi.UNAUTHENTICATED))}shutdown(){}}class Rn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gr{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let p=new Qe;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Qe,e.enqueueRetryable(()=>l(this.currentUser))};const I=()=>{const U=p;e.enqueueRetryable((0,Ee.Z)(function*(){yield U.promise,yield l(s.currentUser)}))},O=U=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Qe)}},0),I()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(f("string"==typeof s.accessToken),new kt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return f(null===e||"string"==typeof e),new Yi(e)}}class Jo{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(f(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ra{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Jo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=l=>{null!=l.error&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.A;return this.A=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(f("string"==typeof t.token),this.A=t.token,new fc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zd(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Kd{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Zd(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function un(n,e){return n<e?-1:n>e?1:0}function Uu(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function Yd(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ar(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new Ar(0,0))}static max(){return new Xt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zc{constructor(e,t,s){void 0===t?t=0:t>e.length&&d(),void 0===s?s=e.length-t:s>e.length-t&&d(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zc?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends Zc{construct(e,t,s){return new Hn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const hf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends Zc{construct(e,t,s){return new pi(e,t,s)}static isValidIdentifier(e){return hf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const I=e[a];if("\\"===I){if(a+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===I?(p=!p,a++):"."!==I||p?(s+=I,a++):(l(),a++)}if(l(),p)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}class St{constructor(e){this.path=e}static fromPath(e){return new St(Hn.fromString(e))}static fromName(e){return new St(Hn.fromString(e).popFirst(5))}static empty(){return new St(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Hn(e.slice()))}}class Pl{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function pg(n){return n.fields.find(e=>2===e.kind)}function Kc(n){return n.fields.filter(e=>2!==e.kind)}Pl.UNKNOWN_ID=-1;class Qd{constructor(e,t){this.fieldPath=e,this.kind=t}}class kl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kl(0,Na.min())}}function gg(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Xt.fromTimestamp(1e9===s?new Ar(t+1,0):new Ar(t,s));return new Na(a,St.empty(),e)}function My(n){return new Na(n.readTime,n.key,-1)}class Na{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Na(Xt.min(),St.empty(),-1)}static max(){return new Na(Xt.max(),St.empty(),-1)}}function Fl(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=St.comparator(n.documentKey,e.documentKey),0!==t?t:un(n.largestBatchId,e.largestBatchId))}const Ry="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bu(n){return ff.apply(this,arguments)}function ff(){return ff=(0,Ee.Z)(function*(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==Ry)throw n;dt("LocalStore","Unexpectedly lost primary lease")}),ff.apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&d(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,s)=>{t(e)})}static reject(e){return new Oe((t,s)=>{s(e)})}static waitFor(e){return new Oe((t,s)=>{let a=0,l=0,p=!1;e.forEach(I=>{++a,I.next(()=>{++l,p&&l===a&&t()},O=>s(O))}),p=!0,l===a&&t()})}static or(e){let t=Oe.resolve(!1);for(const s of e)t=t.next(a=>a?Oe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new Oe((s,a)=>{const l=e.length,p=new Array(l);let I=0;for(let O=0;O<l;O++){const U=O;t(e[U]).next(Y=>{p[U]=Y,++I,I===l&&s(p)},Y=>a(Y))}})}static doWhile(e,t){return new Oe((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}class Xd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Qe,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ll(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=vg(s.target.error);this.P.reject(new Ll(e,a))}}static open(e,t,s,a){try{return new Xd(t,e.transaction(a,s))}catch(l){throw new Ll(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yg(t)}}class ea{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===ea.D((0,At.z$)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return dt("SimpleDb","Removing database:",e),ju(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,At.hl)())return!1;if(ea.N())return!0;const e=(0,At.z$)(),t=ea.D(e),s=0<t&&t<10,a=ea.k(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{s(p.target.result)},l.onblocked=()=>{a(new Ll(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const I=p.target.error;a("VersionError"===I.name?new te(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===I.name?new te(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+I):new Ll(e,I))},l.onupgradeneeded=p=>{dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.S.F(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,Ee.Z)(function*(){const p="readonly"===t;let I=0;for(;;){++I;try{l.db=yield l.O(e);const O=Xd.open(l.db,e,p?"readonly":"readwrite",s),U=a(O).next(Y=>(O.V(),Y)).catch(Y=>(O.abort(Y),Oe.reject(Y))).toPromise();return U.catch(()=>{}),yield O.v,U}catch(O){const U=O,Y="FirebaseError"!==U.name&&I<3;if(dt("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Y),l.close(),!Y)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pf{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ju(this.q.delete())}}class Ll extends te{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pu(n){return"IndexedDbTransactionError"===n.name}class yg{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(dt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ju(s)}add(e){return dt("SimpleDb","ADD",this.store.name,e,e),ju(this.store.add(e))}get(e){return ju(this.store.get(e)).next(t=>(void 0===t&&(t=null),dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return dt("SimpleDb","DELETE",this.store.name,e),ju(this.store.delete(e))}count(){return dt("SimpleDb","COUNT",this.store.name),ju(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),l=[];return this.H(a,(p,I)=>{l.push(I)}).next(()=>l)}{const a=this.store.getAll(s.range);return new Oe((l,p)=>{a.onerror=I=>{p(I.target.error)},a.onsuccess=I=>{l(I.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Oe((a,l)=>{s.onerror=p=>{l(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}Y(e,t){dt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Z=!1;const a=this.cursor(s);return this.H(a,(l,p,I)=>I.delete())}X(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new Oe((s,a)=>{t.onerror=l=>{const p=vg(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(I=>{I?p.continue():s()}):s()}})}H(e,t){const s=[];return new Oe((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const I=p.target.result;if(!I)return void a();const O=new pf(I),U=t(I.primaryKey,I.value,O);if(U instanceof Oe){const Y=U.catch(ue=>(O.done(),Oe.reject(ue)));s.push(Y)}O.isDone?a():null===O.G?I.continue():I.continue(O.G)}}).next(()=>Oe.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Z?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ju(n){return new Oe((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=vg(s.target.error);t(a)}})}let Vl=!1;function vg(n){const e=ea.D((0,At.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vl||(Vl=!0,setTimeout(()=>{throw s},0)),s}}return n}class Ny{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{dt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){pu(s)?dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Bu(s)}yield t.nt(6e4)}))}}class F0{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,l=!0;return Oe.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return dt("IndexBackiller",`Processing collection: ${p}`),this.rt(e,p,a).next(I=>{a-=I,s.add(p)});l=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(l=>{const p=l.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ot(a,l)).next(I=>(dt("IndexBackiller",`Updating offset: ${I}`),this.localStore.indexManager.updateCollectionGroup(e,t,I))).next(()=>p.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,l)=>{const p=My(l);Fl(p,s)>0&&(s=p)}),new Na(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ma=(()=>{class n{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>s.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class mf{constructor(e,t,s,a,l,p,I,O){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=I,this.useFetchStreams=O}}class gu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function pc(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Py(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yf(n){return null==n}function Jd(n){return 0===n&&1/n==-1/0}function vf(n){return"number"==typeof n&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class V0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw a instanceof DOMException?new V0("Invalid base64 string: "+a):a}}(e);return new Oi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const _g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $u(n){if(f(!!n),"string"==typeof n){let e=0;const t=_g.exec(n);if(f(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Di(n.seconds),nanos:Di(n.nanos)}}function Di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gc(n){return"string"==typeof n?Oi.fromBase64String(n):Oi.fromUint8Array(n)}function _f(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fy(n){const e=n.mapValue.fields.__previous_value__;return _f(e)?Fy(e):e}function eh(n){const e=$u(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ef={nullValue:"NULL_VALUE"};function Xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_f(n)?4:If(n)?9007199254740991:10:d()}function Ys(n,e){if(n===e)return!0;const t=Xc(n);if(t!==Xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eh(n).isEqual(eh(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=$u(s.timestampValue),p=$u(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,gc(n.bytesValue).isEqual(gc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Di(s.geoPointValue.latitude)===Di(a.geoPointValue.latitude)&&Di(s.geoPointValue.longitude)===Di(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Di(s.integerValue)===Di(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Di(s.doubleValue),p=Di(a.doubleValue);return l===p?Jd(l)===Jd(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(s,a){const l=s.mapValue.fields||{},p=a.mapValue.fields||{};if(pc(l)!==pc(p))return!1;for(const I in l)if(l.hasOwnProperty(I)&&(void 0===p[I]||!Ys(l[I],p[I])))return!1;return!0}(n,e);default:return d()}var a}function Hu(n,e){return void 0!==(n.values||[]).find(t=>Ys(t,e))}function yc(n,e){if(n===e)return 0;const t=Xc(n),s=Xc(e);if(t!==s)return un(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return un(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=Di(a.integerValue||a.doubleValue),I=Di(l.integerValue||l.doubleValue);return p<I?-1:p>I?1:p===I?0:isNaN(p)?isNaN(I)?0:-1:1}(n,e);case 3:return U0(n.timestampValue,e.timestampValue);case 4:return U0(eh(n),eh(e));case 5:return un(n.stringValue,e.stringValue);case 6:return function(a,l){const p=gc(a),I=gc(l);return p.compareTo(I)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),I=l.split("/");for(let O=0;O<p.length&&O<I.length;O++){const U=un(p[O],I[O]);if(0!==U)return U}return un(p.length,I.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=un(Di(a.latitude),Di(l.latitude));return 0!==p?p:un(Di(a.longitude),Di(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],I=l.values||[];for(let O=0;O<p.length&&O<I.length;++O){const U=yc(p[O],I[O]);if(U)return U}return un(p.length,I.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===mc.mapValue&&l===mc.mapValue)return 0;if(a===mc.mapValue)return 1;if(l===mc.mapValue)return-1;const p=a.fields||{},I=Object.keys(p),O=l.fields||{},U=Object.keys(O);I.sort(),U.sort();for(let Y=0;Y<I.length&&Y<U.length;++Y){const ue=un(I[Y],U[Y]);if(0!==ue)return ue;const De=yc(p[I[Y]],O[U[Y]]);if(0!==De)return De}return un(I.length,U.length)}(n.mapValue,e.mapValue);default:throw d()}}function U0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return un(n,e);const t=$u(n),s=$u(e),a=un(t.seconds,s.seconds);return 0!==a?a:un(t.nanos,s.nanos)}function th(n){return Ly(n)}function Ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=$u(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?St.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const p of s.values||[])l?l=!1:a+=",",a+=Ly(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",p=!0;for(const I of a)p?p=!1:l+=",",l+=`${I}:${Ly(s.fields[I])}`;return l+"}"}(n.mapValue):d();var e}function Ul(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vy(n){return!!n&&"integerValue"in n}function Bl(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function By(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qc(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=nh(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function If(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gu(n){return"nullValue"in n?Ef:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ul(gu.empty(),St.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:d()}function rh(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ul(gu.empty(),St.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mc:d()}function Eg(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wg(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class zu{constructor(e,t){this.position=e,this.inclusive=t}}function B0(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(s=l.field.isKeyField()?St.comparator(St.fromName(p.referenceValue),t.key):yc(p,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function j0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}class $0{}class Gn extends $0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new bf(e,t,s):"array-contains"===t?new os(e,s):"in"===t?new Wy(e,s):"not-in"===t?new G0(e,s):"array-contains-any"===t?new Cg(e,s):new Gn(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new H0(e,s):new bg(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yc(t,this.value)):null!==t&&Xc(this.value)===Xc(t)&&this.matchesComparison(yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return d()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gr extends $0{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new gr(e,t)}matches(e){return ih(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ih(n){return"and"===n.op}function jy(n){return"or"===n.op}function Df(n){return $y(n)&&ih(n)}function $y(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function Ig(n){if(n instanceof Gn)return n.field.canonicalString()+n.op.toString()+th(n.value);if(Df(n))return n.filters.map(e=>Ig(e)).join(",");{const e=n.filters.map(t=>Ig(t)).join(",");return`${n.op}(${e})`}}function Hy(n,e){return n instanceof Gn?(t=n,(s=e)instanceof Gn&&t.op===s.op&&t.field.isEqual(s.field)&&Ys(t.value,s.value)):n instanceof gr?function(t,s){return s instanceof gr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,p)=>a&&Hy(l,s.filters[p]),!0)}(n,e):void d();var t,s}function Gy(n,e){const t=n.filters.concat(e);return gr.create(t,n.op)}function Dg(n){return n instanceof Gn?`${(e=n).field.canonicalString()} ${e.op} ${th(e.value)}`:n instanceof gr?function(e){return e.op.toString()+" {"+e.getFilters().map(Dg).join(" ,")+"}"}(n):"Filter";var e}class bf extends Gn{constructor(e,t,s){super(e,t,s),this.key=St.fromName(s.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.matchesComparison(t)}}class H0 extends Gn{constructor(e,t){super(e,"in",t),this.keys=zy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bg extends Gn{constructor(e,t){super(e,"not-in",t),this.keys=zy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>St.fromName(s.referenceValue))}class os extends Gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bl(t)&&Hu(t.arrayValue,this.value)}}class Wy extends Gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hu(this.value.arrayValue,t)}}class G0 extends Gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hu(this.value.arrayValue,t)}}class Cg extends Gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Hu(this.value.arrayValue,s))}}class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function z0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Pi{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Qs.RED,this.left=a??Qs.EMPTY,this.right=l??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Qs(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Qs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw d();const e=this.left.check();if(e!==this.right.check())throw d();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw d()}get value(){throw d()}get color(){throw d()}get left(){throw d()}get right(){throw d()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Qs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(n){return n.hasNext()?n.getNext():void 0}class ks{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new ks([])}unionWith(e){let t=new br(pi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=pi.emptyPath(),s={},a=[];e.forEach((p,I)=>{if(!t.isImmediateParentOf(I)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=I.popLast()}p?s[I.lastSegment()]=nh(p):a.push(I.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Qc(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new as(nh(this.value))}}function Tg(n){const e=[];return Qc(n.fields,(t,s)=>{const a=new pi([t]);if(wf(s)){const l=Tg(s.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new ks(e)}class zr{constructor(e,t,s,a,l,p,I){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=p,this.documentState=I}static newInvalidDocument(e){return new zr(e,0,Xt.min(),Xt.min(),Xt.min(),as.empty(),0)}static newFoundDocument(e,t,s,a){return new zr(e,1,t,Xt.min(),s,a,0)}static newNoDocument(e,t){return new zr(e,2,t,Xt.min(),Xt.min(),as.empty(),0)}static newUnknownDocument(e,t){return new zr(e,3,t,Xt.min(),Xt.min(),as.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qy{constructor(e,t=null,s=[],a=[],l=null,p=null,I=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=p,this.endAt=I,this._t=null}}function Zy(n,e=null,t=[],s=[],a=null,l=null,p=null){return new qy(n,e,t,s,a,l,p)}function el(n){const e=L(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ig(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>th(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>th(s)).join(",")),e._t=t}return e._t}function jl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!z0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Hy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j0(n.startAt,e.startAt)&&j0(n.endAt,e.endAt)}function oh(n){return St.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $l(n,e){return n.filters.filter(t=>t instanceof Gn&&t.field.isEqual(e))}function q0(n,e,t){let s=Ef,a=!0;for(const l of $l(n,e)){let p=Ef,I=!0;switch(l.op){case"<":case"<=":p=Gu(l.value);break;case"==":case"in":case">=":p=l.value;break;case">":p=l.value,I=!1;break;case"!=":case"not-in":p=Ef}Eg({value:s,inclusive:a},{value:p,inclusive:I})<0&&(s=p,a=I)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const p=t.position[l];Eg({value:s,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}function Tf(n,e,t){let s=mc,a=!0;for(const l of $l(n,e)){let p=mc,I=!0;switch(l.op){case">=":case">":p=rh(l.value),I=!1;break;case"==":case"in":case"<=":p=l.value;break;case"<":p=l.value,I=!1;break;case"!=":case"not-in":p=mc}wg({value:s,inclusive:a},{value:p,inclusive:I})>0&&(s=p,a=I)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const p=t.position[l];wg({value:s,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(s=p,a=t.inclusive);break}return{value:s,inclusive:a}}class Wu{constructor(e,t=null,s=[],a=[],l=null,p="F",I=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=p,this.startAt=I,this.endAt=O,this.wt=null,this.gt=null}}function Sf(n,e,t,s,a,l,p,I){return new Wu(n,e,t,s,a,l,p,I)}function tl(n){return new Wu(n)}function Sg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Af(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ah(n){return null!==n.collectionGroup}function mu(n){const e=L(n);if(null===e.wt){e.wt=[];const t=Af(e),s=qu(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Jc(t)),e.wt.push(new Jc(pi.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jc(pi.keyField(),l))}}}return e.wt}function ko(n){const e=L(n);if(!e.gt)if("F"===e.limitType)e.gt=Zy(e.path,e.collectionGroup,mu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of mu(e))t.push(new Jc(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new zu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new zu(e.startAt.position,e.startAt.inclusive):null;e.gt=Zy(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.gt}function uh(n,e){e.getFirstInequalityField(),Af(n);const t=n.filters.concat([e]);return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nl(n,e,t){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ja(n,e){return jl(ko(n),ko(e))&&n.limitType===e.limitType}function Ag(n){return`${el(ko(n))}|lt:${n.limitType}`}function ch(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Dg(s)).join(", ")}]`),yf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>th(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>th(s)).join(",")),`Target(${t})`}(ko(n))}; limitType=${n.limitType})`}function lh(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):St.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of mu(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(a,l,p){const I=B0(a,l,p);return a.inclusive?I<=0:I<0}(t.startAt,mu(t),s)||t.endAt&&!function(a,l,p){const I=B0(a,l,p);return a.inclusive?I>=0:I>0}(t.endAt,mu(t),s)));var t,s}function Ky(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xg(n){return(e,t)=>{let s=!1;for(const a of mu(n)){const l=Hl(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function Hl(n,e,t){const s=n.field.isKeyField()?St.comparator(e.key,t.key):function(a,l,p){const I=l.data.field(a),O=p.data.field(a);return null!==I&&null!==O?yc(I,O):d()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return d()}}function Yy(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function Qy(n){return{integerValue:""+n}}function Xy(n,e){return vf(e)?Qy(e):Yy(n,e)}class Gl{constructor(){this._=void 0}}function Z0(n,e,t){return n instanceof rl?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof zl?tv(n,e):n instanceof eu?nv(n,e):function(s,a){const l=ev(s,a),p=Wl(l)+Wl(s.It);return Vy(l)&&Vy(s.It)?Qy(p):Yy(s.Tt,p)}(n,e)}function Jy(n,e,t){return n instanceof zl?tv(n,e):n instanceof eu?nv(n,e):t}function ev(n,e){return n instanceof tu?Vy(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class rl extends Gl{}class zl extends Gl{constructor(e){super(),this.elements=e}}function tv(n,e){const t=rv(e);for(const s of n.elements)t.some(a=>Ys(a,s))||t.push(s);return{arrayValue:{values:t}}}class eu extends Gl{constructor(e){super(),this.elements=e}}function nv(n,e){let t=rv(e);for(const s of n.elements)t=t.filter(a=>!Ys(a,s));return{arrayValue:{values:t}}}class tu extends Gl{constructor(e,t){super(),this.Tt=e,this.It=t}}function Wl(n){return Di(n.integerValue||n.doubleValue)}function rv(n){return Bl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ql{constructor(e,t){this.field=e,this.transform=t}}class Y0{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hh{}function xf(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yl(n.key,gi.none()):new Kl(n.key,n.data,gi.none());{const t=n.data,s=as.empty();let a=new br(pi.comparator);for(let l of e.fields)if(!a.has(l)){let p=t.field(l);null===p&&l.length>1&&(l=l.popLast(),p=t.field(l)),null===p?s.delete(l):s.set(l,p),a=a.add(l)}return new Zu(n.key,s,new ks(a.toArray()),gi.none())}}function Mg(n,e,t){n instanceof Kl?function(s,a,l){const p=s.value.clone(),I=sv(s.fieldTransforms,a,l.transformResults);p.setAll(I),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Zu?function(s,a,l){if(!dh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const p=sv(s.fieldTransforms,a,l.transformResults),I=a.data;I.setAll(iv(s)),I.setAll(p),a.convertToFoundDocument(l.version,I).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fh(n,e,t,s){return n instanceof Kl?function(a,l,p,I){if(!dh(a.precondition,l))return p;const O=a.value.clone(),U=Ng(a.fieldTransforms,I,l);return O.setAll(U),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(n,e,t,s):n instanceof Zu?function(a,l,p,I){if(!dh(a.precondition,l))return p;const O=Ng(a.fieldTransforms,I,l),U=l.data;return U.setAll(iv(a)),U.setAll(O),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Y=>Y.field))}(n,e,t,s):(p=t,dh(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):p);var l,p}function Rg(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=ev(s.transform,a||null);null!=l&&(null===t&&(t=as.empty()),t.set(s.field,l))}return t||null}function Zl(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Uu(t,s,(a,l)=>function K0(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof zl&&s instanceof zl||t instanceof eu&&s instanceof eu?Uu(t.elements,s.elements,Ys):t instanceof tu&&s instanceof tu?Ys(t.It,s.It):t instanceof rl&&s instanceof rl);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}class Kl extends hh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zu extends hh{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function sv(n,e,t){const s=new Map;f(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,I=e.data.field(l.field);s.set(l.field,Jy(p,I,t[a]))}return s}function Ng(n,e,t){const s=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);s.set(a.field,Z0(l,p,e))}return s}class Yl extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Og extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ql{constructor(e){this.count=e}}var xr,sr;function ov(n){switch(n){default:return d();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Q0(n){if(void 0===n)return Ii("GRPC error has no .code"),B.UNKNOWN;switch(n){case xr.OK:return B.OK;case xr.CANCELLED:return B.CANCELLED;case xr.UNKNOWN:return B.UNKNOWN;case xr.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case xr.INTERNAL:return B.INTERNAL;case xr.UNAVAILABLE:return B.UNAVAILABLE;case xr.UNAUTHENTICATED:return B.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case xr.NOT_FOUND:return B.NOT_FOUND;case xr.ALREADY_EXISTS:return B.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return B.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case xr.ABORTED:return B.ABORTED;case xr.OUT_OF_RANGE:return B.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return B.UNIMPLEMENTED;case xr.DATA_LOSS:return B.DATA_LOSS;default:return d()}}(sr=xr||(xr={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";class il{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qc(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Py(this.inner)}size(){return this.innerSize}}const av=new Pi(St.comparator);function ya(){return av}const Pg=new Pi(St.comparator);function Xl(...n){let e=Pg;for(const t of n)e=e.insert(t.key,t);return e}function uv(n){let e=Pg;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function nu(){return ph()}function cv(){return ph()}function ph(){return new il(n=>n.toString(),(n,e)=>n.isEqual(e))}const ru=new Pi(St.comparator),X0=new br(St.comparator);function Cn(...n){let e=X0;for(const t of n)e=e.add(t);return e}const J0=new br(un);function Mf(){return J0}class gh{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gh(Xt.min(),a,Mf(),ya(),Cn())}}class mh{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mh(s,t,Cn(),Cn(),Cn())}}class yh{constructor(e,t,s,a){this.Et=e,this.removedTargetIds=t,this.key=s,this.At=a}}class lv{constructor(e,t){this.targetId=e,this.Rt=t}}class dv{constructor(e,t,s=Oi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class hv{constructor(){this.Pt=0,this.vt=Fg(),this.bt=Oi.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Cn(),t=Cn(),s=Cn();return this.vt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:d()}}),new mh(this.bt,this.Vt,e,t,s)}kt(){this.St=!1,this.vt=Fg()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class En{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=ya(),this.Kt=kg(),this.Gt=new br(un)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const s=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&s.xt(e.resumeToken);break;case 1:s.Ft(),s.Dt||s.kt(),s.xt(e.resumeToken);break;case 2:s.Ft(),s.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(s.Bt(),s.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),s.xt(e.resumeToken));break;default:d()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((s,a)=>{this.Jt(a)&&t(a)})}Zt(e){const t=e.targetId,s=e.Rt.count,a=this.Xt(t);if(a){const l=a.target;if(oh(l))if(0===s){const p=new St(l.path);this.zt(t,p,zr.newNoDocument(p,Xt.min()))}else f(1===s);else this.te(t)!==s&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((l,p)=>{const I=this.Xt(p);if(I){if(l.current&&oh(I.target)){const O=new St(I.target.path);null!==this.Ut.get(O)||this.ne(p,O)||this.zt(p,O,zr.newNoDocument(O,e))}l.Ct&&(t.set(p,l.Nt()),l.kt())}});let s=Cn();this.Kt.forEach((l,p)=>{let I=!0;p.forEachWhile(O=>{const U=this.Xt(O);return!U||2===U.purpose||(I=!1,!1)}),I&&(s=s.add(l))}),this.Ut.forEach((l,p)=>p.setReadTime(e));const a=new gh(e,t,this.Gt,this.Ut,s);return this.Ut=ya(),this.Kt=kg(),this.Gt=new br(un),a}jt(e,t){if(!this.Jt(e))return;const s=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,s){if(!this.Jt(e))return;const a=this.Ht(e);this.ne(e,t)?a.$t(t,1):a.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new hv,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new br(un),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||dt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new hv),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function kg(){return new Pi(St.comparator)}function Fg(){return new Pi(St.comparator)}const fv={asc:"ASCENDING",desc:"DESCENDING"},eE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tE={and:"AND",or:"OR"};class pv{constructor(e,t){this.databaseId=e,this.yt=t}}function Jl(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lg(n,e){return n.yt?e.toBase64():e.toUint8Array()}function nE(n,e){return Jl(n,e.toTimestamp())}function Qi(n){return f(!!n),Xt.fromTimestamp(function(e){const t=$u(e);return new Ar(t.seconds,t.nanos)}(n))}function gv(n,e){return(t=n,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vg(n){const e=Hn.fromString(n);return f(Iv(e)),e}function ed(n,e){return gv(n.databaseId,e.path)}function go(n,e){const t=Vg(e);if(t.get(1)!==n.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new St(mv(t))}function Ug(n,e){return gv(n.databaseId,e)}function Rf(n){const e=Vg(n);return 4===e.length?Hn.emptyPath():mv(e)}function sl(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mv(n){return f(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rE(n,e,t){return{name:ed(n,e),fields:t.value.mapValue.fields}}function iE(n,e,t){const s=go(n,e.name),a=Qi(e.updateTime),l=e.createTime?Qi(e.createTime):Xt.min(),p=new as({mapValue:{fields:e.fields}}),I=zr.newFoundDocument(s,a,l,p);return t&&I.setHasCommittedMutations(),t?I.setHasCommittedMutations():I}function td(n,e){let t;if(e instanceof Kl)t={update:rE(n,e.key,e.value)};else if(e instanceof Yl)t={delete:ed(n,e.key)};else if(e instanceof Zu)t={update:rE(n,e.key,e.data),updateMask:wv(e.fieldMask)};else{if(!(e instanceof Og))return d();t={verify:ed(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const p=l.transform;if(p instanceof rl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tu)return{fieldPath:l.field.canonicalString(),increment:p.It};throw d()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:nE(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:d()),t;var a}function yv(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?gi.updateTime(Qi(a.updateTime)):void 0!==a.exists?gi.exists(a.exists):gi.none():gi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let I=null;"setToServerValue"in p?(f("REQUEST_TIME"===p.setToServerValue),I=new rl):"appendMissingElements"in p?I=new zl(p.appendMissingElements.values||[]):"removeAllFromArray"in p?I=new eu(p.removeAllFromArray.values||[]):"increment"in p?I=new tu(l,p.increment):d();const O=pi.fromServerFormat(p.fieldPath);return new ql(O,I)}(n,a)):[];var a;if(e.update){const a=go(n,e.update.name),l=new as({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new ks((e.updateMask.fieldPaths||[]).map(U=>pi.fromServerFormat(U)));return new Zu(a,l,p,t,s)}return new Kl(a,l,t,s)}if(e.delete){const a=go(n,e.delete);return new Yl(a,t)}if(e.verify){const a=go(n,e.verify);return new Og(a,t)}return d()}function ol(n,e){return{documents:[Ug(n,e.path)]}}function Bg(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ug(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ug(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return Ev(gr.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(O){if(0!==O.length)return O.map(U=>{return{field:vc((Y=U).field),direction:_v(Y.dir)};var Y})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(U=e.limit,n.yt||yf(U)?U:{value:U});var U,I,O;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function jg(n){let e=Rf(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){f(1===s);const Y=t.from[0];Y.allDescendants?a=Y.collectionId:e=e.child(Y.collectionId)}let l=[];t.where&&(l=function(Y){const ue=vv(Y);return ue instanceof gr&&Df(ue)?ue.getFilters():[ue]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(Y=>{return new Jc(nd((ue=Y).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ue.direction));var ue}));let I=null;t.limit&&(I=function(Y){let ue;return ue="object"==typeof Y?Y.value:Y,yf(ue)?null:ue}(t.limit));let O=null;var Y;t.startAt&&(O=new zu((Y=t.startAt).values||[],!!Y.before));let U=null;return t.endAt&&(U=function(Y){return new zu(Y.values||[],!Y.before)}(t.endAt)),Sf(e,a,p,l,I,"F",O,U)}function vv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nd(e.unaryFilter.field);return Gn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=nd(e.unaryFilter.field);return Gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nd(e.unaryFilter.field);return Gn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nd(e.unaryFilter.field);return Gn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return d()}}(n):void 0!==n.fieldFilter?Gn.create(nd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return d()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return gr.create(e.compositeFilter.filters.map(t=>vv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return d()}}(e.compositeFilter.op))}(n):d();var e}function _v(n){return fv[n]}function aE(n){return eE[n]}function uE(n){return tE[n]}function vc(n){return{fieldPath:n.canonicalString()}}function nd(n){return pi.fromServerFormat(n.fieldPath)}function Ev(n){return n instanceof Gn?function(e){if("=="===e.op){if(By(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NAN"}};if(Uy(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(By(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NOT_NAN"}};if(Uy(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(e.field),op:aE(e.op),value:e.value}}}(n):n instanceof gr?function(e){const t=e.getFilters().map(s=>Ev(s));return 1===t.length?t[0]:{compositeFilter:{op:uE(e.op),filters:t}}}(n):d()}function wv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Iv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function mo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Of(e)),e=Dv(n.get(t),e);return Of(e)}function Dv(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Of(n){return n+"\x01\x01"}function Ku(n){const e=n.length;if(f(e>=2),2===e)return f("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Hn.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&d(),n.charAt(p+1)){case"\x01":const I=n.substring(l,p);let O;0===a.length?O=I:(a+=I,O=a,a=""),s.push(O);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:d()}l=p+2}return new Hn(s)}const Pf=["userId","batchId"];function kf(n,e){return[n,mo(e)]}function cE(n,e,t){return[n,mo(e),t]}const rd={},bv=["prefixPath","collectionGroup","readTime","documentId"],lE=["prefixPath","collectionGroup","documentId"],Cv=["collectionGroup","readTime","prefixPath","documentId"],dE=["canonicalId","targetId"],hE=["targetId","path"],Ff=["path","targetId"],id=["collectionId","parent"],$g=["indexId","uid"],vh=["uid","sequenceNumber"],Hg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lf=["indexId","uid","orderedDocumentKey"],Tv=["userId","collectionPath","documentId"],Gg=["userId","collectionPath","largestBatchId"],zg=["userId","collectionGroup","largestBatchId"],Vf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sv=[...Vf,"documentOverlays"],Uf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Av=Uf,fE=[...Av,"indexConfiguration","indexState","indexEntries"];class Bf extends mg{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function Fs(n,e){const t=L(n);return ea.M(t.re,e)}class jf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Mg(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=fh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=fh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cv();return this.mutations.forEach(a=>{const l=e.get(a.key),p=l.overlayedDocument;let I=this.applyToLocalView(p,l.mutatedFields);I=t.has(a.key)?null:I;const O=xf(p,I);null!==O&&s.set(a.key,O),p.isValidDocument()||p.convertToNoDocument(Xt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,s)=>Zl(t,s))&&Uu(this.baseMutations,e.baseMutations,(t,s)=>Zl(t,s))}}class $f{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){f(e.mutations.length===s.length);let a=ru;const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,s[p].version);return new $f(e,t,s,a)}}class Wg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _c{constructor(e,t,s,a,l=Xt.min(),p=Xt.min(),I=Oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=I}withSequenceNumber(e){return new _c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ta{constructor(e){this.oe=e}}function Mv(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ed(a=n.oe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Jl(a,l.version.toTimestamp()),createTime:Jl(a,l.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Yu(e.version)};else{if(!e.isUnknownDocument())return d();s.unknownDocument={path:t.path.toArray(),version:Yu(e.version)}}var a,l;return s}function qg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ec(n){const e=new Ar(n.seconds,n.nanoseconds);return Xt.fromTimestamp(e)}function al(n,e){const t=(e.baseMutations||[]).map(l=>yv(n.oe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const s=e.mutations.map(l=>yv(n.oe,l)),a=Ar.fromMillis(e.localWriteTimeMs);return new jf(e.batchId,a,t,s)}function _h(n){const e=Ec(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ec(n.lastLimboFreeSnapshotVersion):Xt.min();let s;var a;return void 0!==n.query.documents?(f(1===(a=n.query).documents.length),s=ko(tl(Rf(a.documents[0])))):s=ko(jg(n.query)),new _c(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Oi.fromBase64String(n.resumeToken))}function Rv(n,e){const t=Yu(e.snapshotVersion),s=Yu(e.lastLimboFreeSnapshotVersion);let a;a=oh(e.target)?ol(n.oe,e.target):Bg(n.oe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:el(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Hf(n){const e=jg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nl(e,e.limit,"L"):e}function Zg(n,e){return new Wg(e.largestBatchId,yv(n.oe,e.overlayMutation))}function Nv(n,e){const t=e.path.lastSegment();return[n,mo(e.path.popLast()),t]}function Gf(n,e,t,s){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yu(s.readTime),documentKey:mo(s.documentKey.path),largestBatchId:s.largestBatchId}}class pE{getBundleMetadata(e,t){return Ov(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Ec(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Ov(e).put({bundleId:(s=t).id,createTime:Yu(Qi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Pv(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Hf(a.bundledQuery),readTime:Ec(a.readTime)};var a})}saveNamedQuery(e,t){return Pv(e).put({name:(s=t).name,readTime:Yu(Qi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ov(n){return Fs(n,"bundles")}function Pv(n){return Fs(n,"namedQueries")}class zf{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new zf(e,t.uid||"")}getOverlay(e,t){return Eh(e).get(Nv(this.userId,t)).next(s=>s?Zg(this.Tt,s):null)}getOverlays(e,t){const s=nu();return Oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((l,p)=>{const I=new Wg(t,p);a.push(this.ce(e,I))}),Oe.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(mo(p.getCollectionPath())));const l=[];return a.forEach(p=>{const I=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);l.push(Eh(e).Y("collectionPathOverlayIndex",I))}),Oe.waitFor(l)}getOverlaysForCollection(e,t,s){const a=nu(),l=mo(t),p=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Eh(e).W("collectionPathOverlayIndex",p).next(I=>{for(const O of I){const U=Zg(this.Tt,O);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const l=nu();let p;const I=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eh(e).X({index:"collectionGroupOverlayIndex",range:I},(O,U,Y)=>{const ue=Zg(this.Tt,U);l.size()<a||ue.largestBatchId===p?(l.set(ue.getKey(),ue),p=ue.largestBatchId):Y.done()}).next(()=>l)}ce(e,t){return Eh(e).put(function(s,a,l){const[p,I,O]=Nv(a,l.mutation.key);return{userId:a,collectionPath:I,documentId:O,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:td(s.oe,l.mutation)}}(this.Tt,this.userId,t))}}function Eh(n){return Fs(n,"documentOverlays")}class yo{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Di(e.integerValue));else if("doubleValue"in e){const s=Di(e.doubleValue);isNaN(s)?this.fe(t,13):(this.fe(t,15),Jd(s)?t.de(0):t.de(s))}else if("timestampValue"in e){const s=e.timestampValue;this.fe(t,20),"string"==typeof s?t._e(s):(t._e(`${s.seconds||""}`),t.de(s.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(gc(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.fe(t,45),t.de(s.latitude||0),t.de(s.longitude||0)}else"mapValue"in e?If(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):d()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const s=e.fields||{};this.fe(t,55);for(const a of Object.keys(s))this.we(a,t),this.he(s[a],t)}Ie(e,t){const s=e.values||[];this.fe(t,50);for(const a of s)this.he(a,t)}ye(e,t){this.fe(t,37),St.fromName(e).path.forEach(s=>{this.fe(t,60),this.Te(s,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Kg(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function kv(n){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const l=Kg(255&t[a]);if(s+=l,8!==l)break}return s}(n);return Math.ceil(e/8)}yo.Ee=new yo;class gE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Re(s.value),s=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Ve()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Re(s);else if(s<2048)this.Re(960|s>>>6),this.Re(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Re(480|s>>>12),this.Re(128|63&s>>>6),this.Re(128|63&s);else{const a=t.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}this.Pe()}De(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const a=t.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Ve()}Ce(e){const t=this.xe(e),s=kv(t);this.Ne(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}ke(e){const t=this.xe(e),s=kv(t);this.Ne(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Fv{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class mE{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class wh{constructor(){this.Le=new gE,this.qe=new Fv(this.Le),this.Ue=new mE(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class ul{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ul(this.indexId,this.documentKey,this.arrayValue,s)}}function yu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Lv(n.arrayValue,e.arrayValue),0!==t?t:(t=Lv(n.directionalValue,e.directionalValue),0!==t?t:St.comparator(n.documentKey,e.documentKey)))}function Lv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(0!==s)return s}return n.length-e.length}class yE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const s=t;s.isInequality()?this.ze=s:this.je.push(s)}}We(e){f(e.collectionGroup===this.collectionId);const t=pg(e);if(void 0!==t&&!this.He(t))return!1;const s=Kc(e);let a=0,l=0;for(;a<s.length&&this.He(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.ze){const p=s[a];if(!this.Je(this.ze,p)||!this.Ye(this.Qe[l++],p))return!1;++a}for(;a<s.length;++a)if(l>=this.Qe.length||!this.Ye(this.Qe[l++],s[a]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ih(n){var e,t;if(f(n instanceof Gn||n instanceof gr),n instanceof Gn){if(n instanceof Wy){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Gn.create(n.field,"==",l)))||[];return gr.create(a,"or")}return n}const s=n.filters.map(a=>Ih(a));return gr.create(s,n.op)}function Yg(n){if(0===n.getFilters().length)return[];const e=Uv(Ih(n));return f(Wf(e)),sd(e)||Vv(e)?[e]:e.getFilters()}function sd(n){return n instanceof Gn}function Vv(n){return n instanceof gr&&Df(n)}function Wf(n){return sd(n)||Vv(n)||function(e){if(e instanceof gr&&jy(e)){for(const t of e.getFilters())if(!sd(t)&&!Vv(t))return!1;return!0}return!1}(n)}function Uv(n){if(f(n instanceof Gn||n instanceof gr),n instanceof Gn)return n;if(1===n.filters.length)return Uv(n.filters[0]);const e=n.filters.map(s=>Uv(s));let t=gr.create(e,n.op);return t=Dh(t),Wf(t)?t:(f(t instanceof gr),f(ih(t)),f(t.filters.length>1),t.filters.reduce((s,a)=>qf(s,a)))}function qf(n,e){let t;return f(n instanceof Gn||n instanceof gr),f(e instanceof Gn||e instanceof gr),t=n instanceof Gn?e instanceof Gn?gr.create([n,e],"and"):Qg(n,e):e instanceof Gn?Qg(e,n):function(s,a){if(f(s.filters.length>0&&a.filters.length>0),ih(s)&&ih(a))return Gy(s,a.getFilters());const l=jy(s)?s:a,p=jy(s)?a:s,I=l.filters.map(O=>qf(O,p));return gr.create(I,"or")}(n,e),Dh(t)}function Qg(n,e){if(ih(e))return Gy(e,n.getFilters());{const t=e.filters.map(s=>qf(n,s));return gr.create(t,"or")}}function Dh(n){if(f(n instanceof Gn||n instanceof gr),n instanceof Gn)return n;const e=n.getFilters();if(1===e.length)return Dh(e[0]);if($y(n))return n;const t=e.map(a=>Dh(a)),s=[];return t.forEach(a=>{a instanceof Gn?s.push(a):a instanceof gr&&(a.op===n.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:gr.create(s,n.op)}class Bv{constructor(){this.Ze=new bh}addToCollectionParentIndex(e,t){return this.Ze.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Oe.resolve()}deleteFieldIndex(e,t){return Oe.resolve()}getDocumentsMatchingTarget(e,t){return Oe.resolve(null)}getIndexType(e,t){return Oe.resolve(0)}getFieldIndexes(e,t){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,t){return Oe.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return Oe.resolve(Na.min())}updateCollectionGroup(e,t,s){return Oe.resolve()}updateIndexEntries(e,t){return Oe.resolve()}}class bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new br(Hn.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new br(Hn.comparator)).toArray()}}const Oa=new Uint8Array(0);class Zf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new bh,this.tn=new il(s=>el(s),(s,a)=>jl(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:s,parent:mo(a)};return Ch(e).put(l)}return Oe.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Yd(t),""],!1,!0);return Ch(e).W(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;s.push(Ku(p.parent))}return s})}addFieldIndex(e,t){const s=Kf(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var p;delete a.indexId;const l=s.add(a);if(t.indexState){const p=od(e);return l.next(I=>{p.put(Gf(I,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const s=Kf(e),a=od(e),l=Qu(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Qu(e);let a=!0;const l=new Map;return Oe.forEach(this.en(t),p=>this.nn(e,p).next(I=>{a&&(a=!!I),l.set(p,I)})).next(()=>{if(a){let p=Cn();const I=[];return Oe.forEach(l,(O,U)=>{var Y;dt("IndexedDbIndexManager",`Using index ${Y=O,`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map(mn=>`${mn.fieldPath}:${mn.kind}`).join(",")}`} to execute ${el(t)}`);const ue=function(mn,fn){const yn=pg(fn);if(void 0===yn)return null;for(const Tn of $l(mn,yn.fieldPath))switch(Tn.op){case"array-contains-any":return Tn.value.arrayValue.values||[];case"array-contains":return[Tn.value]}return null}(U,O),De=function(mn,fn){const yn=new Map;for(const Tn of Kc(fn))for(const qr of $l(mn,Tn.fieldPath))switch(qr.op){case"==":case"in":yn.set(Tn.fieldPath.canonicalString(),qr.value);break;case"not-in":case"!=":return yn.set(Tn.fieldPath.canonicalString(),qr.value),Array.from(yn.values())}return null}(U,O),We=function(mn,fn){const yn=[];let Tn=!0;for(const qr of Kc(fn)){const jc=0===qr.kind?q0(mn,qr.fieldPath,mn.startAt):Tf(mn,qr.fieldPath,mn.startAt);yn.push(jc.value),Tn&&(Tn=jc.inclusive)}return new zu(yn,Tn)}(U,O),st=function(mn,fn){const yn=[];let Tn=!0;for(const qr of Kc(fn)){const jc=0===qr.kind?Tf(mn,qr.fieldPath,mn.endAt):q0(mn,qr.fieldPath,mn.endAt);yn.push(jc.value),Tn&&(Tn=jc.inclusive)}return new zu(yn,Tn)}(U,O),_t=this.sn(O,U,We),Bt=this.sn(O,U,st),Yn=this.rn(O,U,De),ni=this.on(O.indexId,ue,_t,We.inclusive,Bt,st.inclusive,Yn);return Oe.forEach(ni,mn=>s.J(mn,t.limit).next(fn=>{fn.forEach(yn=>{const Tn=St.fromSegments(yn.documentKey);p.has(Tn)||(p=p.add(Tn),I.push(Tn))})}))}).next(()=>I)}return Oe.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Yg(gr.create(e.filters,"and")).map(s=>Zy(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,s,a,l,p,I){const O=(null!=t?t.length:1)*Math.max(s.length,l.length),U=O/(null!=t?t.length:1),Y=[];for(let ue=0;ue<O;++ue){const De=t?this.un(t[ue/U]):Oa,We=this.cn(e,De,s[ue%U],a),st=this.an(e,De,l[ue%U],p),_t=I.map(Bt=>this.cn(e,De,Bt,!0));Y.push(...this.createRange(We,st,_t))}return Y}cn(e,t,s,a){const l=new ul(e,St.empty(),t,s);return a?l:l.Ge()}an(e,t,s,a){const l=new ul(e,St.empty(),t,s);return a?l.Ge():l}nn(e,t){const s=new yE(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let p=null;for(const I of l)s.We(I)&&(!p||I.fields.length>p.fields.length)&&(p=I);return p})}getIndexType(e,t){let s=2;const a=this.en(t);return Oe.forEach(a,l=>this.nn(e,l).next(p=>{p?0!==s&&p.fields.length<function(I){let O=new br(pi.comparator),U=!1;for(const Y of I.filters)for(const ue of Y.getFlattenedFilters())ue.field.isKeyField()||("array-contains"===ue.op||"array-contains-any"===ue.op?U=!0:O=O.add(ue.field));for(const Y of I.orderBy)Y.field.isKeyField()||(O=O.add(Y.field));return O.size+(U?1:0)}(l)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}hn(e,t){const s=new wh;for(const a of Kc(e)){const l=t.data.field(a.fieldPath);if(null==l)return null;const p=s.Ke(a.kind);yo.Ee.ae(l,p)}return s.Be()}un(e){const t=new wh;return yo.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const s=new wh;return yo.Ee.ae(Ul(this.databaseId,t),s.Ke(function(a){const l=Kc(a);return 0===l.length?0:l[l.length-1].kind}(e))),s.Be()}rn(e,t,s){if(null===s)return[];let a=[];a.push(new wh);let l=0;for(const p of Kc(e)){const I=s[l++];for(const O of a)if(this.fn(t,p.fieldPath)&&Bl(I))a=this.dn(a,p,I);else{const U=O.Ke(p.kind);yo.Ee.ae(I,U)}}return this._n(a)}sn(e,t,s){return this.rn(e,t,s.position)}_n(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Be();return t}dn(e,t,s){const a=[...e],l=[];for(const p of s.arrayValue.values||[])for(const I of a){const O=new wh;O.seed(I.Be()),yo.Ee.ae(p,O.Ke(t.kind)),l.push(O)}return l}fn(e,t){return!!e.filters.find(s=>s instanceof Gn&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Kf(e),a=od(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(l=>{const p=[];return Oe.forEach(l,I=>a.get([I.indexId,this.uid]).next(O=>{p.push(function(U,Y){const ue=Y?new kl(Y.sequenceNumber,new Na(Ec(Y.readTime),new St(Ku(Y.documentKey)),Y.largestBatchId)):kl.empty(),De=U.fields.map(([We,st])=>new Qd(pi.fromServerFormat(We),st));return new Pl(U.indexId,U.collectionGroup,De,ue)}(I,O))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:un(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Kf(e),l=od(e);return this.wn(e).next(p=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(I=>Oe.forEach(I,O=>l.put(Gf(O.indexId,this.user,p,s)))))}updateIndexEntries(e,t){const s=new Map;return Oe.forEach(t,(a,l)=>{const p=s.get(a.collectionGroup);return(p?Oe.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(I=>(s.set(a.collectionGroup,I),Oe.forEach(I,O=>this.mn(e,a,O).next(U=>{const Y=this.gn(l,O);return U.isEqual(Y)?Oe.resolve():this.yn(e,l,O,U,Y)}))))})}pn(e,t,s,a){return Qu(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.ln(s,t.key),documentKey:t.key.path.toArray()})}In(e,t,s,a){return Qu(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.ln(s,t.key),t.key.path.toArray()])}mn(e,t,s){const a=Qu(e);let l=new br(yu);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.ln(s,t)])},(p,I)=>{l=l.add(new ul(s.indexId,t,I.arrayValue,I.directionalValue))}).next(()=>l)}gn(e,t){let s=new br(yu);const a=this.hn(t,e);if(null==a)return s;const l=pg(t);if(null!=l){const p=e.data.field(l.fieldPath);if(Bl(p))for(const I of p.arrayValue.values||[])s=s.add(new ul(t.indexId,e.key,this.un(I),a))}else s=s.add(new ul(t.indexId,e.key,Oa,a));return s}yn(e,t,s,a,l){dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(I,O,U,Y,ue){const De=I.getIterator(),We=O.getIterator();let st=sh(De),_t=sh(We);for(;st||_t;){let Bt=!1,Yn=!1;if(st&&_t){const ni=U(st,_t);ni<0?Yn=!0:ni>0&&(Bt=!0)}else null!=st?Yn=!0:Bt=!0;Bt?(Y(_t),_t=sh(We)):Yn?(ue(st),st=sh(De)):(st=sh(De),_t=sh(We))}}(a,l,yu,I=>{p.push(this.pn(e,t,s,I))},I=>{p.push(this.In(e,t,s,I))}),Oe.waitFor(p)}wn(e){let t=1;return od(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,I)=>yu(p,I)).filter((p,I,O)=>!I||0!==yu(p,O[I-1]));const a=[];a.push(e);for(const p of s){const I=yu(p,e),O=yu(p,t);if(0===I)a[0]=e.Ge();else if(I>0&&O<0)a.push(p),a.push(p.Ge());else if(O>0)break}a.push(t);const l=[];for(let p=0;p<a.length;p+=2){if(this.Tn(a[p],a[p+1]))return[];l.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Oa,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Oa,[]]))}return l}Tn(e,t){return yu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Xg)}getMinOffset(e,t){return Oe.mapArray(this.en(t),s=>this.nn(e,s).next(a=>a||d())).next(Xg)}}function Ch(n){return Fs(n,"collectionParents")}function Qu(n){return Fs(n,"indexEntries")}function Kf(n){return Fs(n,"indexConfiguration")}function od(n){return Fs(n,"indexState")}function Xg(n){f(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;Fl(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Na(e.readTime,e.documentKey,t)}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ad(n,e,t){const s=n.store("mutations"),a=n.store("documentMutations"),l=[],p=IDBKeyRange.only(t.batchId);let I=0;const O=s.X({range:p},(Y,ue,De)=>(I++,De.delete()));l.push(O.next(()=>{f(1===I)}));const U=[];for(const Y of t.mutations){const ue=cE(e,Y.key.path,t.batchId);l.push(a.delete(ue)),U.push(Y.key)}return Oe.waitFor(l).next(()=>U)}function Yf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw d();e=n.noDocument}return JSON.stringify(e).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class Jg{constructor(e,t,s,a){this.userId=e,this.Tt=t,this.indexManager=s,this.referenceDelegate=a,this.En={}}static ue(e,t,s,a){f(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Jg(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).X({index:"userMutationsIndex",range:s},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=ud(e),p=wc(e);return p.add({}).next(I=>{f("number"==typeof I);const O=new jf(I,t,s,a),U=function(De,We,st){const _t=st.baseMutations.map(Yn=>td(De.oe,Yn)),Bt=st.mutations.map(Yn=>td(De.oe,Yn));return{userId:We,batchId:st.batchId,localWriteTimeMs:st.localWriteTime.toMillis(),baseMutations:_t,mutations:Bt}}(this.Tt,this.userId,O),Y=[];let ue=new br((De,We)=>un(De.canonicalString(),We.canonicalString()));for(const De of a){const We=cE(this.userId,De.key.path,I);ue=ue.add(De.key.path.popLast()),Y.push(p.put(U)),Y.push(l.put(We,rd))}return ue.forEach(De=>{Y.push(this.indexManager.addToCollectionParentIndex(e,De))}),e.addOnCommittedListener(()=>{this.En[I]=O.keys()}),Oe.waitFor(Y).next(()=>O)})}lookupMutationBatch(e,t){return wc(e).get(t).next(s=>s?(f(s.userId===this.userId),al(this.Tt,s)):null)}An(e,t){return this.En[t]?Oe.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.En[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return wc(e).X({index:"userMutationsIndex",range:a},(p,I,O)=>{I.userId===this.userId&&(f(I.batchId>=s),l=al(this.Tt,I)),O.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return wc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,l,p)=>{s=l.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).W("userMutationsIndex",t).next(s=>s.map(a=>al(this.Tt,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=kf(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return ud(e).X({range:a},(p,I,O)=>{const[U,Y,ue]=p,De=Ku(Y);if(U===this.userId&&t.path.isEqual(De))return wc(e).get(ue).next(We=>{if(!We)throw d();f(We.userId===this.userId),l.push(al(this.Tt,We))});O.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new br(un);const a=[];return t.forEach(l=>{const p=kf(this.userId,l.path),I=IDBKeyRange.lowerBound(p),O=ud(e).X({range:I},(U,Y,ue)=>{const[De,We,st]=U,_t=Ku(We);De===this.userId&&l.path.isEqual(_t)?s=s.add(st):ue.done()});a.push(O)}),Oe.waitFor(a).next(()=>this.Rn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=kf(this.userId,s),p=IDBKeyRange.lowerBound(l);let I=new br(un);return ud(e).X({range:p},(O,U,Y)=>{const[ue,De,We]=O,st=Ku(De);ue===this.userId&&s.isPrefixOf(st)?st.length===a&&(I=I.add(We)):Y.done()}).next(()=>this.Rn(e,I))}Rn(e,t){const s=[],a=[];return t.forEach(l=>{a.push(wc(e).get(l).next(p=>{if(null===p)throw d();f(p.userId===this.userId),s.push(al(this.Tt,p))}))}),Oe.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return ad(e.re,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),Oe.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return ud(e).X({range:s},(l,p,I)=>{if(l[0]===this.userId){const O=Ku(l[1]);a.push(O)}else I.done()}).next(()=>{f(0===a.length)})})}containsKey(e,t){return $v(e,this.userId,t)}vn(e){return Hv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $v(n,e,t){const s=kf(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let p=!1;return ud(n).X({range:l,Z:!0},(I,O,U)=>{const[Y,ue,De]=I;Y===e&&ue===a&&(p=!0),U.done()}).next(()=>p)}function wc(n){return Fs(n,"mutations")}function ud(n){return Fs(n,"documentMutations")}function Hv(n){return Fs(n,"mutationQueues")}class cl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new cl(0)}static Sn(){return new cl(-1)}}class vE{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const s=new cl(t.highestTargetId);return t.highestTargetId=s.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Xt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Dn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Cn(e,a)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(s=>(s.targetCount+=1,this.Nn(t,s),this.Cn(e,s))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cd(e).delete(t.targetId)).next(()=>this.Dn(e)).next(s=>(f(s.targetCount>0),s.targetCount-=1,this.Cn(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return cd(e).X((p,I)=>{const O=_h(I);O.sequenceNumber<=t&&null===s.get(O.targetId)&&(a++,l.push(this.removeTargetData(e,O)))}).next(()=>Oe.waitFor(l)).next(()=>a)}forEachTarget(e,t){return cd(e).X((s,a)=>{const l=_h(a);t(l)})}Dn(e){return em(e).get("targetGlobalKey").next(t=>(f(null!==t),t))}Cn(e,t){return em(e).put("targetGlobalKey",t)}xn(e,t){return cd(e).put(Rv(this.Tt,t))}Nn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=el(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return cd(e).X({range:a,index:"queryTargetsIndex"},(p,I,O)=>{const U=_h(I);jl(t,U.target)&&(l=U,O.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=vu(e);return t.forEach(p=>{const I=mo(p.path);a.push(l.put({targetId:s,path:I})),a.push(this.referenceDelegate.addReference(e,s,p))}),Oe.waitFor(a)}removeMatchingKeys(e,t,s){const a=vu(e);return Oe.forEach(t,l=>{const p=mo(l.path);return Oe.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=vu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=vu(e);let l=Cn();return a.X({range:s,Z:!0},(p,I,O)=>{const U=Ku(p[1]),Y=new St(U);l=l.add(Y)}).next(()=>l)}containsKey(e,t){const s=mo(t.path),a=IDBKeyRange.bound([s],[Yd(s)],!1,!0);let l=0;return vu(e).X({index:"documentTargetsIndex",Z:!0,range:a},([p,I],O,U)=>{0!==p&&(l++,U.done())}).next(()=>l>0)}ie(e,t){return cd(e).get(t).next(s=>s?_h(s):null)}}function cd(n){return Fs(n,"targets")}function em(n){return Fs(n,"targetGlobal")}function vu(n){return Fs(n,"targetDocuments")}function Gv([n,e],[t,s]){const a=un(n,t);return 0===a?un(e,s):a}class tm{constructor(e){this.kn=e,this.buffer=new br(Gv),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Gv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _E{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){pu(s)?dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Bu(s)}yield t.Bn(3e5)}))}}class EE{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(ma.at);const s=new tm(t);return this.Ln.forEachTarget(e,a=>s.On(a.sequenceNumber)).next(()=>this.Ln.Un(e,a=>s.On(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Ln.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(jv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let s,a,l,p,I,O,U;const Y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),a=this.params.maximumSequenceNumbersToCollect):a=ue,p=Date.now(),this.nthSequenceNumber(e,a))).next(ue=>(s=ue,I=Date.now(),this.removeTargets(e,s,t))).next(ue=>(l=ue,O=Date.now(),this.removeOrphanedDocuments(e,s))).next(ue=>(U=Date.now(),Fu()<=An.in.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-Y}ms\n\tDetermined least recently used ${a} in `+(I-p)+`ms\n\tRemoved ${l} targets in `+(O-I)+`ms\n\tRemoved ${ue} documents in `+(U-O)+`ms\nTotal Duration: ${U-Y}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:ue})))}}class wE{constructor(e,t){this.db=e,this.garbageCollector=new EE(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Gn(e){let t=0;return this.Un(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(s,a)=>t(a))}addReference(e,t,s){return Qf(e,s)}removeReference(e,t,s){return Qf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Qf(e,t)}jn(e,t){return function(s,a){let l=!1;return Hv(s).tt(p=>$v(s,p,a).next(I=>(I&&(l=!0),Oe.resolve(!I)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Qn(e,(p,I)=>{if(I<=t){const O=this.jn(e,p).next(U=>{if(!U)return l++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Xt.min()),vu(e).delete([0,mo(p.path)])))});a.push(O)}}).next(()=>Oe.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Qf(e,t)}Qn(e,t){const s=vu(e);let a,l=ma.at;return s.X({index:"documentTargetsIndex"},([p,I],{path:O,sequenceNumber:U})=>{0===p?(l!==ma.at&&t(new St(Ku(a)),l),l=U,a=O):l=ma.at}).next(()=>{l!==ma.at&&t(new St(Ku(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qf(n,e){return vu(n).put((s=n.currentSequenceNumber,{targetId:0,path:mo(e.path),sequenceNumber:s}));var s}class zv{constructor(){this.changes=new il(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Oe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IE{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return ll(e).put(s)}removeEntry(e,t,s){return ll(e).delete(function(a,l){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],qg(l),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.zn(e,s)))}getEntry(e,t){let s=zr.newInvalidDocument(t);return ll(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xf(t))},(a,l)=>{s=this.Wn(t,l)}).next(()=>s)}Hn(e,t){let s={size:0,document:zr.newInvalidDocument(t)};return ll(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xf(t))},(a,l)=>{s={document:this.Wn(t,l),size:Yf(l)}}).next(()=>s)}getEntries(e,t){let s=ya();return this.Jn(e,t,(a,l)=>{const p=this.Wn(a,l);s=s.insert(a,p)}).next(()=>s)}Yn(e,t){let s=ya(),a=new Pi(St.comparator);return this.Jn(e,t,(l,p)=>{const I=this.Wn(l,p);s=s.insert(l,I),a=a.insert(l,Yf(p))}).next(()=>({documents:s,Zn:a}))}Jn(e,t,s){if(t.isEmpty())return Oe.resolve();let a=new br(Th);t.forEach(O=>a=a.add(O));const l=IDBKeyRange.bound(Xf(a.first()),Xf(a.last())),p=a.getIterator();let I=p.getNext();return ll(e).X({index:"documentKeyIndex",range:l},(O,U,Y)=>{const ue=St.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;I&&Th(I,ue)<0;)s(I,null),I=p.getNext();I&&I.isEqual(ue)&&(s(I,U),I=p.hasNext()?p.getNext():null),I?Y.j(Xf(I)):Y.done()}).next(()=>{for(;I;)s(I,null),I=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,s,a){const l=t.path,p=[l.popLast().toArray(),l.lastSegment(),qg(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],I=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ll(e).W(IDBKeyRange.bound(p,I,!0)).next(O=>{let U=ya();for(const Y of O){const ue=this.Wn(St.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);ue.isFoundDocument()&&(lh(t,ue)||a.has(ue.key))&&(U=U.insert(ue.key,ue))}return U})}getAllFromCollectionGroup(e,t,s,a){let l=ya();const p=rm(t,s),I=rm(t,Na.max());return ll(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,I,!0)},(O,U,Y)=>{const ue=this.Wn(St.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);l=l.insert(ue.key,ue),l.size===a&&Y.done()}).next(()=>l)}newChangeBuffer(e){return new qv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nm(e).get("remoteDocumentGlobalKey").next(t=>(f(!!t),t))}zn(e,t){return nm(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const s=function xv(n,e){let t;if(e.document)t=iE(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=St.fromSegments(e.noDocument.path),a=Ec(e.noDocument.readTime);t=zr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return d();{const s=St.fromSegments(e.unknownDocument.path),a=Ec(e.unknownDocument.version);t=zr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Ar(s[0],s[1]);return Xt.fromTimestamp(a)}(e.readTime)),t}(this.Tt,t);if(!s.isNoDocument()||!s.version.isEqual(Xt.min()))return s}return zr.newInvalidDocument(e)}}function Wv(n){return new IE(n)}class qv extends zv{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new il(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new br((l,p)=>un(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const I=this.ts.get(l);if(t.push(this.Xn.removeEntry(e,l,I.readTime)),p.isValidDocument()){const O=Mv(this.Xn.Tt,p);a=a.add(l.path.popLast());const U=Yf(O);s+=U-I.size,t.push(this.Xn.addEntry(e,l,O))}else if(s-=I.size,this.trackRemovals){const O=Mv(this.Xn.Tt,p.convertToNoDocument(Xt.min()));t.push(this.Xn.addEntry(e,l,O))}}),a.forEach(l=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Xn.updateMetadata(e,s)),Oe.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(s=>(this.ts.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:s,Zn:a})=>(a.forEach((l,p)=>{this.ts.set(l,{size:p,readTime:s.get(l).readTime})}),s))}}function nm(n){return Fs(n,"remoteDocumentGlobal")}function ll(n){return Fs(n,"remoteDocumentsV14")}function Xf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rm(n,e){const t=e.documentKey.path.toArray();return[n,qg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Th(n,e){const t=n.path.toArray(),s=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<s.length-2;++l)if(a=un(t[l],s[l]),a)return a;return a=un(t.length,s.length),a||(a=un(t[t.length-2],s[s.length-2]),a||un(t[t.length-1],s[s.length-1]))}class dl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DE{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&fh(s.mutation,a,ks.empty(),Ar.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Cn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Cn()){const a=nu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let p=Xl();return l.forEach((I,O)=>{p=p.insert(I,O.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=nu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Cn()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((p,I)=>{t.set(p,I)})})}computeViews(e,t,s,a){let l=ya();const p=ph(),I=ph();return t.forEach((O,U)=>{const Y=s.get(U.key);a.has(U.key)&&(void 0===Y||Y.mutation instanceof Zu)?l=l.insert(U.key,U):void 0!==Y?(p.set(U.key,Y.mutation.getFieldMask()),fh(Y.mutation,U,Y.mutation.getFieldMask(),Ar.now())):p.set(U.key,ks.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((U,Y)=>p.set(U,Y)),t.forEach((U,Y)=>{var ue;return I.set(U,new dl(Y,null!==(ue=p.get(U))&&void 0!==ue?ue:null))}),I))}recalculateAndSaveOverlays(e,t){const s=ph();let a=new Pi((p,I)=>p-I),l=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const I of p)I.keys().forEach(O=>{const U=t.get(O);if(null===U)return;let Y=s.get(O)||ks.empty();Y=I.applyToLocalView(U,Y),s.set(O,Y);const ue=(a.get(I.batchId)||Cn()).add(O);a=a.insert(I.batchId,ue)})}).next(()=>{const p=[],I=a.getReverseIterator();for(;I.hasNext();){const O=I.getNext(),U=O.key,Y=O.value,ue=cv();Y.forEach(De=>{if(!l.has(De)){const We=xf(t.get(De),s.get(De));null!==We&&ue.set(De,We),l=l.add(De)}}),p.push(this.documentOverlayCache.saveOverlays(e,U,ue))}return Oe.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return St.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ah(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const p=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Oe.resolve(nu());let I=-1,O=l;return p.next(U=>Oe.forEach(U,(Y,ue)=>(I<ue.largestBatchId&&(I=ue.largestBatchId),l.get(Y)?Oe.resolve():this.remoteDocumentCache.getEntry(e,Y).next(De=>{O=O.insert(Y,De)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,O,U,Cn())).next(Y=>({batchId:I,changes:uv(Y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new St(t)).next(s=>{let a=Xl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=Xl();return this.indexManager.getCollectionParents(e,a).next(p=>Oe.forEach(p,I=>{const O=(U=t,Y=I.child(a),new Wu(Y,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,Y;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(U=>{U.forEach((Y,ue)=>{l=l.insert(Y,ue)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((I,O)=>{const U=O.getKey();null===l.get(U)&&(l=l.insert(U,zr.newInvalidDocument(U)))});let p=Xl();return l.forEach((I,O)=>{const U=a.get(I);void 0!==U&&fh(U.mutation,O,ks.empty(),Ar.now()),lh(t,O)&&(p=p.insert(I,O))}),p})}}class Jf{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Oe.resolve(this.es.get(t))}saveBundleMetadata(e,t){var s;return this.es.set(t.id,{id:(s=t).id,version:s.version,createTime:Qi(s.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(s=t).name,query:Hf(s.bundledQuery),readTime:Qi(s.readTime)}),Oe.resolve();var s}}class bE{constructor(){this.overlays=new Pi(St.comparator),this.ss=new Map}getOverlay(e,t){return Oe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=nu();return Oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.ce(e,t,l)}),Oe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ss.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ss.delete(s)),Oe.resolve()}getOverlaysForCollection(e,t,s){const a=nu(),l=t.length+1,p=new St(t.child("")),I=this.overlays.getIteratorFrom(p);for(;I.hasNext();){const O=I.getNext().value,U=O.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===l&&O.largestBatchId>s&&a.set(O.getKey(),O)}return Oe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Pi((U,Y)=>U-Y);const p=this.overlays.getIterator();for(;p.hasNext();){const U=p.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let Y=l.get(U.largestBatchId);null===Y&&(Y=nu(),l=l.insert(U.largestBatchId,Y)),Y.set(U.getKey(),U)}}const I=nu(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,Y)=>I.set(U,Y)),!(I.size()>=a)););return Oe.resolve(I)}ce(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ss.get(a.largestBatchId).delete(s.key);this.ss.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Wg(t,s));let l=this.ss.get(t);void 0===l&&(l=Cn(),this.ss.set(t,l)),this.ss.set(t,l.add(s.key))}}class im{constructor(){this.rs=new br(us.os),this.us=new br(us.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const s=new us(e,t);this.rs=this.rs.add(s),this.us=this.us.add(s)}hs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ls(new us(e,t))}fs(e,t){e.forEach(s=>this.removeReference(s,t))}ds(e){const t=new St(new Hn([])),s=new us(t,e),a=new us(t,e+1),l=[];return this.us.forEachInRange([s,a],p=>{this.ls(p),l.push(p.key)}),l}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new St(new Hn([])),s=new us(t,e),a=new us(t,e+1);let l=Cn();return this.us.forEachInRange([s,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new us(e,0),s=this.rs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class us{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return St.comparator(e.key,t.key)||un(e.gs,t.gs)}static cs(e,t){return un(e.gs,t.gs)||St.comparator(e.key,t.key)}}class CE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new br(us.os)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.ys;this.ys++;const p=new jf(l,t,s,a);this.mutationQueue.push(p);for(const I of a)this.ps=this.ps.add(new us(I.key,l)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return Oe.resolve(p)}lookupMutationBatch(e,t){return Oe.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ts(t+1),l=a<0?0:a;return Oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new us(t,0),a=new us(t,Number.POSITIVE_INFINITY),l=[];return this.ps.forEachInRange([s,a],p=>{const I=this.Is(p.gs);l.push(I)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new br(un);return t.forEach(a=>{const l=new us(a,0),p=new us(a,Number.POSITIVE_INFINITY);this.ps.forEachInRange([l,p],I=>{s=s.add(I.gs)})}),Oe.resolve(this.Es(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;St.isDocumentKey(l)||(l=l.child(""));const p=new us(new St(l),0);let I=new br(un);return this.ps.forEachWhile(O=>{const U=O.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(I=I.add(O.gs)),!0)},p),Oe.resolve(this.Es(I))}Es(e){const t=[];return e.forEach(s=>{const a=this.Is(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){f(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ps;return Oe.forEach(t.mutations,a=>{const l=new us(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ps=s})}Pn(e){}containsKey(e,t){const s=new us(t,0),a=this.ps.firstAfterOrEqual(s);return Oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Oe.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _u{constructor(e){this.Rs=e,this.docs=new Pi(St.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,p=this.Rs(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Oe.resolve(s?s.document.mutableCopy():zr.newInvalidDocument(t))}getEntries(e,t){let s=ya();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():zr.newInvalidDocument(a))}),Oe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ya();const p=t.path,I=new St(p.child("")),O=this.docs.getIteratorFrom(I);for(;O.hasNext();){const{key:U,value:{document:Y}}=O.getNext();if(!p.isPrefixOf(U.path))break;U.path.length>p.length+1||Fl(My(Y),s)<=0||(a.has(Y.key)||lh(t,Y))&&(l=l.insert(Y.key,Y.mutableCopy()))}return Oe.resolve(l)}getAllFromCollectionGroup(e,t,s,a){d()}Ps(e,t){return Oe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Sh(this)}getSize(e){return Oe.resolve(this.size)}}class Sh extends zv{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Xn.addEntry(e,a)):this.Xn.removeEntry(s)}),Oe.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class vo{constructor(e){this.persistence=e,this.vs=new il(t=>el(t),jl),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new im,this.targetCount=0,this.Ss=cl.Vn()}forEachTarget(e,t){return this.vs.forEach((s,a)=>t(a)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Oe.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.xn(t),Oe.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.vs.forEach((p,I)=>{I.sequenceNumber<=t&&null===s.get(I.targetId)&&(this.vs.delete(p),l.push(this.removeMatchingKeysForTargetId(e,I.targetId)),a++)}),Oe.waitFor(l).next(()=>a)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const s=this.vs.get(t)||null;return Oe.resolve(s)}addMatchingKeys(e,t,s){return this.Vs.hs(t,s),Oe.resolve()}removeMatchingKeys(e,t,s){this.Vs.fs(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Vs.ws(t);return Oe.resolve(s)}containsKey(e,t){return Oe.resolve(this.Vs.containsKey(t))}}class Ic{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new ma(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new vo(this),this.indexManager=new Bv,this.remoteDocumentCache=new _u(s=>this.referenceDelegate.ks(s)),this.Tt=new ta(t),this.$s=new Jf(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ds[e.toKey()];return s||(s=new CE(t,this.referenceDelegate),this.Ds[e.toKey()]=s),s}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,s){dt("MemoryPersistence","Starting transaction:",e);const a=new ep(this.Cs.next());return this.referenceDelegate.Ms(),s(a).next(l=>this.referenceDelegate.Os(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Fs(e,t){return Oe.or(Object.values(this.Ds).map(s=>()=>s.containsKey(e,t)))}}class ep extends mg{constructor(e){super(),this.currentSequenceNumber=e}}class Fo{constructor(e){this.persistence=e,this.Bs=new im,this.Ls=null}static qs(e){return new Fo(e)}get Us(){if(this.Ls)return this.Ls;throw d()}addReference(e,t,s){return this.Bs.addReference(s,t),this.Us.delete(s.toString()),Oe.resolve()}removeReference(e,t,s){return this.Bs.removeReference(s,t),this.Us.add(s.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(a=>this.Us.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Us.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Us,s=>{const a=St.fromPath(s);return this.Ks(e,a).next(l=>{l||t.removeEntry(a,Xt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(s=>{s?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Oe.or([()=>Oe.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class sm{constructor(e){this.Tt=e}F(e,t,s,a){const l=new Xd("createOrUpgrade",t);var I;s<1&&a>=1&&(e.createObjectStore("owner"),(I=e).createObjectStore("mutationQueues",{keyPath:"userId"}),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pf,{unique:!0}),I.createObjectStore("documentMutations"),hl(e),function(I){I.createObjectStore("remoteDocuments")}(e));let p=Oe.resolve();return s<3&&a>=3&&(0!==s&&(function(I){I.deleteObjectStore("targetDocuments"),I.deleteObjectStore("targets"),I.deleteObjectStore("targetGlobal")}(e),hl(e)),p=p.next(()=>function(I){const O=I.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xt.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",U)}(l))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(I,O){return O.store("mutations").W().next(U=>{I.deleteObjectStore("mutations"),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pf,{unique:!0});const Y=O.store("mutations"),ue=U.map(De=>Y.put(De));return Oe.waitFor(ue)})}(e,l))),p=p.next(()=>{!function(I){I.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Gs(l))),s<6&&a>=6&&(p=p.next(()=>(function(I){I.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(l)))),s<7&&a>=7&&(p=p.next(()=>this.js(l))),s<8&&a>=8&&(p=p.next(()=>this.zs(e,l))),s<9&&a>=9&&(p=p.next(()=>{!function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.Ws(l))),s<11&&a>=11&&(p=p.next(()=>{(function(I){I.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(I){I.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(I){const O=I.createObjectStore("documentOverlays",{keyPath:Tv});O.createIndex("collectionPathOverlayIndex",Gg,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",zg,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(I){const O=I.createObjectStore("remoteDocumentsV14",{keyPath:bv});O.createIndex("documentKeyIndex",lE),O.createIndex("collectionGroupIndex",Cv)}(e)).next(()=>this.Hs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>this.Js(e,l))),s<15&&a>=15&&(p=p.next(()=>function(I){I.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),I.createObjectStore("indexState",{keyPath:$g}).createIndex("sequenceNumberIndex",vh,{unique:!1}),I.createObjectStore("indexEntries",{keyPath:Hg}).createIndex("documentKeyIndex",Lf,{unique:!1})}(e))),p}Qs(e){let t=0;return e.store("remoteDocuments").X((s,a)=>{t+=Yf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Gs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>Oe.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(I=>Oe.forEach(I,O=>{f(O.userId===l.userId);const U=al(this.Tt,O);return ad(e,l.userId,U).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return s.X((p,I)=>{const O=new Hn(p),U=[0,mo(O)];l.push(t.get(U).next(Y=>Y?Oe.resolve():t.put({targetId:0,path:mo(O),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Oe.waitFor(l))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:id});const s=t.store("collectionParents"),a=new bh,l=p=>{if(a.add(p)){const I=p.lastSegment(),O=p.popLast();return s.put({collectionId:I,parent:mo(O)})}};return t.store("remoteDocuments").X({Z:!0},(p,I)=>{const O=new Hn(p);return l(O.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([p,I,O],U)=>{const Y=Ku(I);return l(Y.popLast())}))}Ws(e){const t=e.store("targets");return t.X((s,a)=>{const l=_h(a),p=Rv(this.Tt,l);return t.put(p)})}Hs(e,t){const s=t.store("remoteDocuments"),a=[];return s.X((l,p)=>{const I=t.store("remoteDocumentsV14"),O=(U=p,U.document?new St(Hn.fromString(U.document.name).popFirst(5)):U.noDocument?St.fromSegments(U.noDocument.path):U.unknownDocument?St.fromSegments(U.unknownDocument.path):d()).path.toArray();var U;const Y={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(I.put(Y))}).next(()=>Oe.waitFor(a))}Js(e,t){const s=t.store("mutations"),a=Wv(this.Tt),l=new Ic(Fo.qs,this.Tt.oe);return s.W().next(p=>{const I=new Map;return p.forEach(O=>{var U;let Y=null!==(U=I.get(O.userId))&&void 0!==U?U:Cn();al(this.Tt,O).keys().forEach(ue=>Y=Y.add(ue)),I.set(O.userId,Y)}),Oe.forEach(I,(O,U)=>{const Y=new Yi(U),ue=zf.ue(this.Tt,Y),De=l.getIndexManager(Y),We=Jg.ue(Y,this.Tt,De,l.referenceDelegate);return new DE(a,We,ue,De).recalculateAndSaveOverlaysForDocumentKeys(new Bf(t,ma.at),O).next()})})}}function hl(n){n.createObjectStore("targetDocuments",{keyPath:hE}).createIndex("documentTargetsIndex",Ff,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dE,{unique:!0}),n.createObjectStore("targetGlobal")}const Dc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bc{constructor(e,t,s,a,l,p,I,O,U,Y,ue=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ys=l,this.window=p,this.document=I,this.Zs=U,this.Xs=Y,this.ti=ue,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=De=>Promise.resolve(),!bc.C())throw new te(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wE(this,a),this.oi=t+"main",this.Tt=new ta(O),this.ui=new ea(this.oi,this.ti,new sm(this.Tt)),this.Ns=new vE(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Wv(this.Tt),this.$s=new pE,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===Y&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,Dc);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new ma(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var s=(0,Ee.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,Ee.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(pu(e))return dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return Eu(e).get("owner").next(t=>Oe.resolve(this.yi(t)))}pi(e){return Xu(e).delete(this.clientId)}Ii(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Fs(s,"clientMetadata");return a.W().next(l=>{const p=e.Ei(l,18e5),I=l.filter(O=>-1===p.indexOf(O));return Oe.forEach(I,O=>a.delete(O.clientId)).next(()=>I)})}).catch(()=>[]);if(e.ci)for(const s of t)e.ci.removeItem(e.Ai(s.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?Oe.resolve(!0):Eu(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new te(B.FAILED_PRECONDITION,Dc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xu(e).W().next(s=>void 0===this.Ei(s,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Bf(t,ma.at);return e.mi(s).next(()=>e.pi(s))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(s=>this.Ti(s.updateTimeMs,t)&&!this.Ri(s.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>Xu(e).W().next(t=>this.Ei(t,18e5).map(s=>s.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Jg.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zf(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return zf.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,s){dt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=15===(p=this.ti)?fE:14===p?Av:13===p?Uf:12===p?Sv:11===p?Vf:void d();var p;let I;return this.ui.runTransaction(e,a,l,O=>(I=new Bf(O,this.Cs?this.Cs.next():ma.at),"readwrite-primary"===t?this._i(I).next(U=>!!U||this.wi(I)).next(U=>{if(!U)throw Ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new te(B.FAILED_PRECONDITION,Ry);return s(I)}).next(U=>this.gi(I).next(()=>U)):this.Di(I).next(()=>s(I)))).then(O=>(I.raiseOnCommittedEvent(),O))}Di(e){return Eu(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(B.FAILED_PRECONDITION,Dc)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eu(e).put("owner",t)}static C(){return ea.C()}mi(e){const t=Eu(e);return t.get("owner").next(s=>this.yi(s)?(dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Oe.resolve())}Ti(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ii(`Detected an update time that is in the future: ${e} > ${s}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,At.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const s=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return dt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ii("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eu(n){return Fs(n,"owner")}function Xu(n){return Fs(n,"clientMetadata")}function Cc(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Tc{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ci=s,this.xi=a}static Ni(e,t){let s=Cn(),a=Cn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Tc(e,t.fromCache,s,a)}}class fl{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Mi(e,t).next(l=>l||this.Oi(e,t,a,s)).next(l=>l||this.Fi(e,t))}Mi(e,t){if(Sg(t))return Oe.resolve(null);let s=ko(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=nl(t,null,"F"),s=ko(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const p=Cn(...l);return this.$i.getDocuments(e,p).next(I=>this.indexManager.getMinOffset(e,s).next(O=>{const U=this.Bi(t,I);return this.Li(t,U,p,O.readTime)?this.Mi(e,nl(t,null,"F")):this.qi(e,U,t,O)}))})))}Oi(e,t,s,a){return Sg(t)||a.isEqual(Xt.min())?this.Fi(e,t):this.$i.getDocuments(e,s).next(l=>{const p=this.Bi(t,l);return this.Li(t,p,s,a)?this.Fi(e,t):(Fu()<=An.in.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ch(t)),this.qi(e,p,t,gg(a,-1)))})}Bi(e,t){let s=new br(xg(e));return t.forEach((a,l)=>{lh(e,l)&&(s=s.add(l))}),s}Li(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fi(e,t){return Fu()<=An.in.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",ch(t)),this.$i.getDocumentsMatchingQuery(e,t,Na.min())}qi(e,t,s,a){return this.$i.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(p=>{l=l.insert(p.key,p)}),l))}}class ld{constructor(e,t,s,a){this.persistence=e,this.Ui=t,this.Tt=a,this.Ki=new Pi(un),this.Gi=new il(l=>el(l),jl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(s)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DE(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function om(n,e,t,s){return new ld(n,e,t,s)}function am(n,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Ee.Z)(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.zi(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const p=[],I=[];let O=Cn();for(const U of a){p.push(U.batchId);for(const Y of U.mutations)O=O.add(Y.key)}for(const U of l){I.push(U.batchId);for(const Y of U.mutations)O=O.add(Y.key)}return t.localDocuments.getDocuments(s,O).next(U=>({Wi:U,removedBatchIds:p,addedBatchIds:I}))})})}),tp.apply(this,arguments)}function Zv(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ji.newChangeBuffer({trackRemovals:!0});return function(p,I,O,U){const Y=O.batch,ue=Y.keys();let De=Oe.resolve();return ue.forEach(We=>{De=De.next(()=>U.getEntry(I,We)).next(st=>{const _t=O.docVersions.get(We);f(null!==_t),st.version.compareTo(_t)<0&&(Y.applyToRemoteDocument(st,O),st.isValidDocument()&&(st.setReadTime(O.commitVersion),U.addEntry(st)))})}),De.next(()=>p.mutationQueue.removeMutationBatch(I,Y))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let I=Cn();for(let O=0;O<p.mutationResults.length;++O)p.mutationResults[O].transformResults.length>0&&(I=I.add(p.batch.mutations[O].key));return I}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function um(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Kv(n,e){const t=L(n),s=e.snapshotVersion;let a=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.ji.newChangeBuffer({trackRemovals:!0});a=t.Ki;const I=[];e.targetChanges.forEach((Y,ue)=>{const De=a.get(ue);if(!De)return;I.push(t.Ns.removeMatchingKeys(l,Y.removedDocuments,ue).next(()=>t.Ns.addMatchingKeys(l,Y.addedDocuments,ue)));let We=De.withSequenceNumber(l.currentSequenceNumber);var st,_t,Bt;e.targetMismatches.has(ue)?We=We.withResumeToken(Oi.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):Y.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken(Y.resumeToken,s)),a=a.insert(ue,We),_t=We,Bt=Y,(0===(st=De).resumeToken.approximateByteSize()||_t.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=3e8||Bt.addedDocuments.size+Bt.modifiedDocuments.size+Bt.removedDocuments.size>0)&&I.push(t.Ns.updateTargetData(l,We))});let O=ya(),U=Cn();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&I.push(t.persistence.referenceDelegate.updateLimboDocument(l,Y))}),I.push(cm(l,p,e.documentUpdates).next(Y=>{O=Y.Hi,U=Y.Ji})),!s.isEqual(Xt.min())){const Y=t.Ns.getLastRemoteSnapshotVersion(l).next(ue=>t.Ns.setTargetsMetadata(l,l.currentSequenceNumber,s));I.push(Y)}return Oe.waitFor(I).next(()=>p.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,U)).next(()=>O)}).then(l=>(t.Ki=a,l))}function cm(n,e,t){let s=Cn(),a=Cn();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let p=ya();return t.forEach((I,O)=>{const U=l.get(I);O.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(I)),O.isNoDocument()&&O.version.isEqual(Xt.min())?(e.removeEntry(I,O.readTime),p=p.insert(I,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),p=p.insert(I,O)):dt("LocalStore","Ignoring outdated watch update for ",I,". Current version:",U.version," Watch version:",O.version)}),{Hi:p,Ji:a}})}function Yv(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pl(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ns.getTargetData(s,e).next(l=>l?(a=l,Oe.resolve(a)):t.Ns.allocateTargetId(s).next(p=>(a=new _c(e,p,0,s.currentSequenceNumber),t.Ns.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ki.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(s.targetId,s),t.Gi.set(e,s.targetId)),s})}function dd(n,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,Ee.Z)(function*(n,e,t){const s=L(n),a=s.Ki.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!pu(p))throw p;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ki=s.Ki.remove(e),s.Gi.delete(a.target)}),lm.apply(this,arguments)}function Ah(n,e,t){const s=L(n);let a=Xt.min(),l=Cn();return s.persistence.runTransaction("Execute query","readonly",p=>function(I,O,U){const Y=L(I),ue=Y.Gi.get(U);return void 0!==ue?Oe.resolve(Y.Ki.get(ue)):Y.Ns.getTargetData(O,U)}(s,p,ko(e)).next(I=>{if(I)return a=I.lastLimboFreeSnapshotVersion,s.Ns.getMatchingKeysForTargetId(p,I.targetId).next(O=>{l=O})}).next(()=>s.Ui.getDocumentsMatchingQuery(p,e,t?a:Xt.min(),t?l:Cn())).next(I=>(np(s,Ky(e),I),{documents:I,Yi:l})))}function Qv(n,e){const t=L(n),s=L(t.Ns),a=t.Ki.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.ie(l,e).next(p=>p?p.target:null))}function Xv(n,e){const t=L(n),s=t.Qi.get(e)||Xt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ji.getAllFromCollectionGroup(a,e,gg(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(np(t,e,a),a))}function np(n,e,t){let s=n.Qi.get(e)||Xt.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Qi.set(e,s)}function hm(){return hm=(0,Ee.Z)(function*(n,e,t,s){const a=L(n);let l=Cn(),p=ya();for(const U of t){const Y=e.Zi(U.metadata.name);U.document&&(l=l.add(Y));const ue=e.Xi(U);ue.setReadTime(e.tr(U.metadata.readTime)),p=p.insert(Y,ue)}const I=a.ji.newChangeBuffer({trackRemovals:!0}),O=yield pl(a,(U=s,ko(tl(Hn.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>cm(U,I,p).next(Y=>(I.apply(U),Y)).next(Y=>a.Ns.removeMatchingKeysForTargetId(U,O.targetId).next(()=>a.Ns.addMatchingKeys(U,l,O.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,Y.Hi,Y.Ji)).next(()=>Y.Hi)))}),hm.apply(this,arguments)}function rp(n,e){return hd.apply(this,arguments)}function hd(){return hd=(0,Ee.Z)(function*(n,e,t=Cn()){const s=yield pl(n,ko(Hf(e.bundledQuery))),a=L(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=Qi(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.$s.saveNamedQuery(l,e);const I=s.withResumeToken(Oi.EMPTY_BYTE_STRING,p);return a.Ki=a.Ki.insert(I.targetId,I),a.Ns.updateTargetData(l,I).next(()=>a.Ns.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.Ns.addMatchingKeys(l,t,s.targetId)).next(()=>a.$s.saveNamedQuery(l,e))})}),hd.apply(this,arguments)}function ip(n,e){return`firestore_clients_${n}_${e}`}function Jv(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xh(n,e){return`firestore_targets_${n}_${e}`}class fd{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static er(e,t,s){const a=JSON.parse(s);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new te(a.error.code,a.error.message))),p?new fd(e,t,a.state,l):(Ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static er(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new te(s.error.code,s.error.message))),l?new pd(e,s.state,a):(Ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Mf();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=vf(s.activeTargetIds[p]),l=l.add(s.activeTargetIds[p]);return a?new Mh(e,l):(Ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rh{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rh(t.clientId,t.onlineState):(Ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sp{constructor(){this.activeTargetIds=Mf()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class op{constructor(e,t,s,a,l){this.window=e,this.Ys=t,this.persistenceKey=s,this.rr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Pi(un),this.started=!1,this.hr=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.lr=ip(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new sp),this._r=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(I){return`firestore_bundle_loaded_v2_${I}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Si();for(const a of t){if(a===e.rr)continue;const l=e.getItem(ip(e.persistenceKey,a));if(l){const p=Mh.er(a,l);p&&(e.ar=e.ar.insert(p.clientId,p))}}e.pr();const s=e.storage.getItem(e.gr);if(s){const a=e.Ir(s);a&&e.Tr(a)}for(const a of e.hr)e.cr(a);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,s){this.Ar(e,t,s),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xh(this.persistenceKey,e));if(s){const a=pd.er(e,s);a&&(t=a.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xh(this.persistenceKey,e))}updateQueryState(e,t,s){this.vr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Rr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return dt("SharedClientState","READ",e,t),t}setItem(e,t){dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(dt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.lr)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==s.key)if(t._r.test(s.key)){if(null==s.newValue){const a=t.Sr(s.key);return t.Dr(a,null)}{const a=t.Cr(s.key,s.newValue);if(a)return t.Dr(a.clientId,a)}}else if(t.wr.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(t.mr.test(s.key)){if(null!==s.newValue){const a=t.$r(s.key,s.newValue);if(a)return t.Mr(a)}}else if(s.key===t.gr){if(null!==s.newValue){const a=t.Ir(s.newValue);if(a)return t.Tr(a)}}else if(s.key===t.dr){const a=function(l){let p=ma.at;if(null!=l)try{const I=JSON.parse(l);f("number"==typeof I),p=I}catch(I){Ii("SharedClientState","Failed to read sequence number from WebStorage",I)}return p}(s.newValue);a!==ma.at&&t.sequenceNumberHandler(a)}else if(s.key===t.yr){const a=t.Or(s.newValue);yield Promise.all(a.map(l=>t.syncEngine.Fr(l)))}}else t.hr.push(s)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,s){const a=new fd(this.currentUser,e,t,s),l=Jv(this.persistenceKey,this.currentUser,e);this.setItem(l,a.nr())}Rr(e){const t=Jv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,s){const a=xh(this.persistenceKey,e),l=new pd(e,t,s);this.setItem(a,l.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const s=this.Sr(e);return Mh.er(s,t)}Nr(e,t){const s=this.wr.exec(e),a=Number(s[1]);return fd.er(new Yi(void 0!==s[2]?s[2]:null),a,t)}$r(e,t){const s=this.mr.exec(e),a=Number(s[1]);return pd.er(a,t)}Ir(e){return Rh.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const s=t?this.ar.insert(e,t):this.ar.remove(e),a=this.Er(this.ar),l=this.Er(s),p=[],I=[];return l.forEach(O=>{a.has(O)||p.push(O)}),a.forEach(O=>{l.has(O)||I.push(O)}),this.syncEngine.qr(p,I).then(()=>{this.ar=s})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Mf();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class ap{constructor(){this.Ur=new sp,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,s){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new sp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e_{Gr(e){}shutdown(){}}class t_{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nh=null;function up(){return null===Nh?Nh=268435456+Math.round(2147483648*Math.random()):Nh++,"0x"+Nh.toString(16)}const n_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r_{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const _o="WebChannelConnection";class i_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,s,a,l){const p=up(),I=this.fo(e,t);dt("RestConnection",`Sending RPC '${e}' ${p}:`,I,s);const O={};return this._o(O,a,l),this.wo(e,I,O,s).then(U=>(dt("RestConnection",`Received RPC '${e}' ${p}: `,U),U),U=>{throw Lu("RestConnection",`RPC '${e}' ${p} failed with error: `,U,"url: ",I,"request:",s),U})}mo(e,t,s,a,l,p){return this.lo(e,t,s,a,l)}_o(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}fo(e,t){return`${this.co}/v1/${t}:${n_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,s,a){const l=up();return new Promise((p,I)=>{const O=new Ks;O.setWithCredentials(!0),O.listenOnce(fg.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Wc.NO_ERROR:const Y=O.getResponseJson();dt(_o,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Y)),p(Y);break;case Wc.TIMEOUT:dt(_o,`RPC '${e}' ${l} timed out`),I(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const ue=O.getStatus();if(dt(_o,`RPC '${e}' ${l} failed with status:`,ue,"response text:",O.getResponseText()),ue>0){let De=O.getResponseJson();Array.isArray(De)&&(De=De[0]);const We=De?.error;if(We&&We.status&&We.message){const st=function(_t){const Bt=_t.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(Bt)>=0?Bt:B.UNKNOWN}(We.status);I(new te(st,We.message))}else I(new te(B.UNKNOWN,"Server responded with status "+O.getStatus()))}else I(new te(B.UNAVAILABLE,"Connection failed."));break;default:d()}}finally{dt(_o,`RPC '${e}' ${l} completed.`)}});const U=JSON.stringify(a);dt(_o,`RPC '${e}' ${l} sending request:`,a),O.send(t,"POST",U,s,15)})}yo(e,t,s){const a=up(),l=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Rl(),I=zd(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new qd({})),this._o(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const U=l.join("");dt(_o,`Creating RPC '${e}' stream ${a}: ${U}`,O);const Y=p.createWebChannel(U,O);let ue=!1,De=!1;const We=new r_({Yr:_t=>{De?dt(_o,`Not sending because RPC '${e}' stream ${a} is closed:`,_t):(ue||(dt(_o,`Opening RPC '${e}' stream ${a} transport.`),Y.open(),ue=!0),dt(_o,`RPC '${e}' stream ${a} sending:`,_t),Y.send(_t))},Zr:()=>Y.close()}),st=(_t,Bt,Yn)=>{_t.listen(Bt,ni=>{try{Yn(ni)}catch(mn){setTimeout(()=>{throw mn},0)}})};return st(Y,Nl.EventType.OPEN,()=>{De||dt(_o,`RPC '${e}' stream ${a} transport opened.`)}),st(Y,Nl.EventType.CLOSE,()=>{De||(De=!0,dt(_o,`RPC '${e}' stream ${a} transport closed`),We.oo())}),st(Y,Nl.EventType.ERROR,_t=>{De||(De=!0,Lu(_o,`RPC '${e}' stream ${a} transport errored:`,_t),We.oo(new te(B.UNAVAILABLE,"The operation could not be completed")))}),st(Y,Nl.EventType.MESSAGE,_t=>{var Bt;if(!De){const Yn=_t.data[0];f(!!Yn);const mn=Yn.error||(null===(Bt=Yn[0])||void 0===Bt?void 0:Bt.error);if(mn){dt(_o,`RPC '${e}' stream ${a} received error:`,mn);const fn=mn.status;let yn=function(qr){const jc=xr[qr];if(void 0!==jc)return Q0(jc)}(fn),Tn=mn.message;void 0===yn&&(yn=B.INTERNAL,Tn="Unknown error status: "+fn+" with message "+mn.message),De=!0,We.oo(new te(yn,Tn)),Y.close()}else dt(_o,`RPC '${e}' stream ${a} received:`,Yn),We.uo(Yn)}}),st(I,lf.STAT_EVENT,_t=>{_t.stat===Wd.PROXY?dt(_o,`RPC '${e}' stream ${a} detected buffering proxy`):_t.stat===Wd.NOPROXY&&dt(_o,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{We.ro()},0),We}}function fm(){return typeof window<"u"?window:null}function Oh(){return typeof document<"u"?document:null}function Sc(n){return new pv(n,!0)}class Ph{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ys=e,this.timerId=t,this.po=s,this.Io=a,this.To=l,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),s=Math.max(0,Date.now()-this.Ro),a=Math.max(0,t-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,a,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class pm{constructor(e,t,s,a,l,p,I,O){this.Ys=e,this.So=s,this.Do=a,this.connection=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=I,this.listener=O,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Ph(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,Ee.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var s=this;return(0,Ee.Z)(function*(){s.Uo(),s.Ko(),s.ko.cancel(),s.Co++,4!==e?s.ko.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),s.ko.Po()):t&&t.code===B.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Go(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Co===t&&this.jo(s,a)},s=>{e(()=>{const a=new te(B.UNKNOWN,"Fetching auth token failed: "+s.message);return this.zo(a)})})}jo(e,t){const s=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{s(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(a=>{s(()=>this.zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.ko.vo((0,Ee.Z)(function*(){e.state=0,e.start()}))}zo(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s_ extends pm{constructor(e,t,s,a,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.Tt=l}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function sE(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:d(),a=e.targetChange.targetIds||[],l=function(O,U){return O.yt?(f(void 0===U||"string"==typeof U),Oi.fromBase64String(U||"")):(f(void 0===U||U instanceof Uint8Array),Oi.fromUint8Array(U||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,I=p&&function(O){const U=void 0===O.code?B.UNKNOWN:Q0(O.code);return new te(U,O.message||"")}(p);t=new dv(s,a,l,I||null)}else if("documentChange"in e){const s=e.documentChange,a=go(n,s.document.name),l=Qi(s.document.updateTime),p=s.document.createTime?Qi(s.document.createTime):Xt.min(),I=new as({mapValue:{fields:s.document.fields}}),O=zr.newFoundDocument(a,l,p,I);t=new yh(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=go(n,s.document),l=s.readTime?Qi(s.readTime):Xt.min(),p=zr.newNoDocument(a,l);t=new yh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=go(n,s.document);t=new yh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return d();{const s=e.filter,l=new Ql(s.count||0);t=new lv(s.targetId,l)}}var O;return t}(this.Tt,e),s=function(a){if(!("targetChange"in a))return Xt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?Qi(l.readTime):Xt.min()}(e);return this.listener.Ho(t,s)}Jo(e){const t={};t.database=sl(this.Tt),t.addTarget=function(a,l){let p;const I=l.target;return p=oh(I)?{documents:ol(a,I)}:{query:Bg(a,I)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=Lg(a,l.resumeToken):l.snapshotVersion.compareTo(Xt.min())>0&&(p.readTime=Jl(a,l.snapshotVersion.toTimestamp())),p}(this.Tt,e);const s=function Nf(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return d()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.qo(t)}Yo(e){const t={};t.database=sl(this.Tt),t.removeTarget=e,this.qo(t)}}class o_ extends pm{constructor(e,t,s,a,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.Tt=l,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(f(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function oE(n,e){return n&&n.length>0?(f(void 0!==e),n.map(t=>function(s,a){let l=Qi(s.updateTime?s.updateTime:a);return l.isEqual(Xt.min())&&(l=Qi(a)),new Y0(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.eu(s,t)}return f(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=sl(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>td(this.Tt,s))};this.qo(t)}}class a_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.Tt=a,this.iu=!1}ru(){if(this.iu)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,s){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.lo(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(B.UNKNOWN,a.toString())})}mo(e,t,s,a){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection.mo(e,t,s,l,p,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new te(B.UNKNOWN,l.toString())})}terminate(){this.iu=!0}}class c_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Ii(t),this.cu=!1):dt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class lp{constructor(e,t,s,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=l,this.yu.Gr(I=>{s.enqueueAndForget((0,Ee.Z)(function*(){var O;Ju(p)&&(dt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,Ee.Z)(function*(U){const Y=L(U);Y.mu.add(4),yield gd(Y),Y.pu.set("Unknown"),Y.mu.delete(4),yield Pa(Y)}),function(U){return O.apply(this,arguments)})(p))}))}),this.pu=new c_(s,a)}}function Pa(n){return gm.apply(this,arguments)}function gm(){return gm=(0,Ee.Z)(function*(n){if(Ju(n))for(const e of n.gu)yield e(!0)}),gm.apply(this,arguments)}function gd(n){return kh.apply(this,arguments)}function kh(){return kh=(0,Ee.Z)(function*(n){for(const e of n.gu)yield e(!1)}),kh.apply(this,arguments)}function wu(n,e){const t=L(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),d_(t)?l_(t):md(t).Mo()&&mm(t,e))}function gl(n,e){const t=L(n),s=md(t);t.wu.delete(e),s.Mo()&&dp(t,e),0===t.wu.size&&(s.Mo()?s.Bo():Ju(t)&&t.pu.set("Unknown"))}function mm(n,e){n.Iu.Ot(e.targetId),md(n).Jo(e)}function dp(n,e){n.Iu.Ot(e),md(n).Yo(e)}function l_(n){n.Iu=new En({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),md(n).start(),n.pu.au()}function d_(n){return Ju(n)&&!md(n).$o()&&n.wu.size>0}function Ju(n){return 0===L(n).mu.size}function h_(n){n.Iu=void 0}function f_(n){return ym.apply(this,arguments)}function ym(){return ym=(0,Ee.Z)(function*(n){n.wu.forEach((e,t)=>{mm(n,e)})}),ym.apply(this,arguments)}function _s(n,e){return hp.apply(this,arguments)}function hp(){return hp=(0,Ee.Z)(function*(n,e){h_(n),d_(n)?(n.pu.fu(e),l_(n)):n.pu.set("Unknown")}),hp.apply(this,arguments)}function TE(n,e,t){return vm.apply(this,arguments)}function vm(){return vm=(0,Ee.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof dv&&2===e.state&&e.cause)try{yield(s=(0,Ee.Z)(function*(a,l){const p=l.cause;for(const I of l.targetIds)a.wu.has(I)&&(yield a.remoteSyncer.rejectListen(I,p),a.wu.delete(I),a.Iu.removeTarget(I))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Fh(n,s)}else if(e instanceof yh?n.Iu.Qt(e):e instanceof lv?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Xt.min()))try{const s=yield um(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const p=a.Iu.ee(l);return p.targetChanges.forEach((I,O)=>{if(I.resumeToken.approximateByteSize()>0){const U=a.wu.get(O);U&&a.wu.set(O,U.withResumeToken(I.resumeToken,l))}}),p.targetMismatches.forEach(I=>{const O=a.wu.get(I);if(!O)return;a.wu.set(I,O.withResumeToken(Oi.EMPTY_BYTE_STRING,O.snapshotVersion)),dp(a,I);const U=new _c(O.target,I,1,O.sequenceNumber);mm(a,U)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){dt("RemoteStore","Failed to raise snapshot:",s),yield Fh(n,s)}var s}),vm.apply(this,arguments)}function Fh(n,e,t){return _m.apply(this,arguments)}function _m(){return _m=(0,Ee.Z)(function*(n,e,t){if(!pu(e))throw e;n.mu.add(1),yield gd(n),n.pu.set("Offline"),t||(t=()=>um(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){dt("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield Pa(n)}))}),_m.apply(this,arguments)}function Em(n,e){return e().catch(t=>Fh(n,t,e))}function ml(n){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,Ee.Z)(function*(n){const e=L(n),t=xc(e);let s=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;SE(e);)try{const a=yield Yv(e.localStore,s);if(null===a){0===e._u.length&&t.Bo();break}s=a.batchId,AE(e,a)}catch(a){yield Fh(e,a)}wm(e)&&p_(e)}),Ac.apply(this,arguments)}function SE(n){return Ju(n)&&n._u.length<10}function AE(n,e){n._u.push(e);const t=xc(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function wm(n){return Ju(n)&&!xc(n).$o()&&n._u.length>0}function p_(n){xc(n).start()}function g_(n){return m_.apply(this,arguments)}function m_(){return m_=(0,Ee.Z)(function*(n){xc(n).su()}),m_.apply(this,arguments)}function Im(n){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Ee.Z)(function*(n){const e=xc(n);for(const t of n._u)e.tu(t.mutations)}),Lh.apply(this,arguments)}function Iu(n,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Ee.Z)(function*(n,e,t){const s=n._u.shift(),a=$f.from(s,e,t);yield Em(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield ml(n)}),Dm.apply(this,arguments)}function xE(n,e){return ka.apply(this,arguments)}function ka(){return ka=(0,Ee.Z)(function*(n,e){var t;e&&xc(n).Xo&&(yield(t=(0,Ee.Z)(function*(s,a){if(ov(l=a.code)&&l!==B.ABORTED){const p=s._u.shift();xc(s).Fo(),yield Em(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield ml(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),wm(n)&&p_(n)}),ka.apply(this,arguments)}function Fa(n,e){return va.apply(this,arguments)}function va(){return va=(0,Ee.Z)(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const s=Ju(t);t.mu.add(3),yield gd(t),s&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield Pa(t)}),va.apply(this,arguments)}function fp(n,e){return pp.apply(this,arguments)}function pp(){return pp=(0,Ee.Z)(function*(n,e){const t=L(n);e?(t.mu.delete(2),yield Pa(t)):e||(t.mu.add(2),yield gd(t),t.pu.set("Unknown"))}),pp.apply(this,arguments)}function md(n){return n.Tu||(n.Tu=function(e,t,s){const a=L(e);return a.ru(),new s_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,s)}(n.datastore,n.asyncQueue,{Xr:f_.bind(null,n),no:_s.bind(null,n),Ho:TE.bind(null,n)}),n.gu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Tu.Fo(),d_(n)?l_(n):n.pu.set("Unknown")):(yield n.Tu.stop(),h_(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function xc(n){return n.Eu||(n.Eu=function(e,t,s){const a=L(e);return a.ru(),new o_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,s)}(n.datastore,n.asyncQueue,{Xr:g_.bind(null,n),no:xE.bind(null,n),nu:Im.bind(null,n),eu:Iu.bind(null,n)}),n.gu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Eu.Fo(),yield ml(n)):(yield n.Eu.stop(),n._u.length>0&&(dt("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class bm{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Qe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,l){const p=Date.now()+s,I=new bm(e,t,p,a,l);return I.start(s),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),pu(n))return new te(B.UNAVAILABLE,`${e}: ${n}`);throw n}class Mc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||St.comparator(t.key,s.key):(t,s)=>St.comparator(t.key,s.key),this.keyedMap=Xl(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new Mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class vd{constructor(){this.Au=new Pi(St.comparator)}track(e){const t=e.doc.key,s=this.Au.get(t);s?0!==e.type&&3===s.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==s.type?this.Au=this.Au.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Au=this.Au.remove(t):1===e.type&&2===s.type?this.Au=this.Au.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):d():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,s)=>{e.push(s)}),e}}class _d{constructor(e,t,s,a,l,p,I,O,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=I,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,l){const p=[];return t.forEach(I=>{p.push({type:0,doc:I})}),new _d(e,t,Mc.emptySet(t),p,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ja(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class y_{constructor(){this.Pu=void 0,this.listeners=[]}}class ME{constructor(){this.queries=new il(e=>Ag(e),Ja),this.onlineState="Unknown",this.vu=new Set}}function gp(n,e){return mp.apply(this,arguments)}function mp(){return mp=(0,Ee.Z)(function*(n,e){const t=L(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new y_),a)try{l.Pu=yield t.onListen(s)}catch(p){const I=yd(p,`Initialization of query '${ch(e.query)}' failed`);return void e.onError(I)}t.queries.set(s,l),l.listeners.push(e),e.bu(t.onlineState),l.Pu&&e.Vu(l.Pu)&&Vh(t)}),mp.apply(this,arguments)}function Ed(n,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,Ee.Z)(function*(n,e){const t=L(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Cm.apply(this,arguments)}function v_(n,e){const t=L(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const I of p.listeners)I.Vu(a)&&(s=!0);p.Pu=a}}s&&Vh(t)}function __(n,e,t){const s=L(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Vh(n){n.vu.forEach(e=>{e.next()})}class wd{constructor(e,t,s){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=s||{}}Vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new _d(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class Tm{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class yp{constructor(e){this.Tt=e}Zi(e){return go(this.Tt,e)}Xi(e){return e.metadata.exists?iE(this.Tt,e.document,!1):zr.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Qi(e)}}class E_{constructor(e,t,s){this.Fu=e,this.localStore=t,this.Tt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sm(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const s=Hn.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,s=new yp(this.Tt);for(const a of e)if(a.metadata.queries){const l=s.Zi(a.metadata.name);for(const p of a.metadata.queries){const I=(t.get(p)||Cn()).add(l);t.set(p,I)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function dm(n,e,t,s){return hm.apply(this,arguments)}(e.localStore,new yp(e.Tt),e.documents,e.Fu.id),s=e.Lu(e.documents);for(const a of e.queries)yield rp(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function Sm(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Am{constructor(e){this.key=e}}class xm{constructor(e){this.key=e}}class Mm{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Cn(),this.mutatedKeys=Cn(),this.ju=xg(e),this.zu=new Mc(this.ju)}get Wu(){return this.Ku}Hu(e,t){const s=t?t.Ju:new vd,a=t?t.zu:this.zu;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,I=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Y,ue)=>{const De=a.get(Y),We=lh(this.query,ue)?ue:null,st=!!De&&this.mutatedKeys.has(De.key),_t=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let Bt=!1;De&&We?De.data.isEqual(We.data)?st!==_t&&(s.track({type:3,doc:We}),Bt=!0):this.Yu(De,We)||(s.track({type:2,doc:We}),Bt=!0,(O&&this.ju(We,O)>0||U&&this.ju(We,U)<0)&&(I=!0)):!De&&We?(s.track({type:0,doc:We}),Bt=!0):De&&!We&&(s.track({type:1,doc:De}),Bt=!0,(O||U)&&(I=!0)),Bt&&(We?(p=p.add(We),l=_t?l.add(Y):l.delete(Y)):(p=p.delete(Y),l=l.delete(Y)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const Y="F"===this.query.limitType?p.last():p.first();p=p.delete(Y.key),l=l.delete(Y.key),s.track({type:1,doc:Y})}return{zu:p,Ju:s,Li:I,mutatedKeys:l}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const l=e.Ju.Ru();l.sort((U,Y)=>function(ue,De){const We=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return d()}};return We(ue)-We(De)}(U.type,Y.type)||this.ju(U.doc,Y.doc)),this.Zu(s);const p=t?this.Xu():[],I=0===this.Qu.size&&this.current?1:0,O=I!==this.Gu;return this.Gu=I,0!==l.length||O?{snapshot:new _d(this.query,e.zu,a,l,e.mutatedKeys,0===I,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),tc:p}:{tc:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new vd,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Cn(),this.zu.forEach(s=>{this.ec(s.key)&&(this.Qu=this.Qu.add(s.key))});const t=[];return e.forEach(s=>{this.Qu.has(s)||t.push(new xm(s))}),this.Qu.forEach(s=>{e.has(s)||t.push(new Am(s))}),t}nc(e){this.Ku=e.Yi,this.Qu=Cn();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return _d.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class w_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class I_{constructor(e){this.key=e,this.ic=!1}}class RE{constructor(e,t,s,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.rc={},this.oc=new il(I=>Ag(I),Ja),this.uc=new Map,this.cc=new Set,this.ac=new Pi(St.comparator),this.hc=new Map,this.lc=new im,this.fc={},this.dc=new Map,this._c=cl.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function NE(n,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ee.Z)(function*(n,e){const t=Tp(n);let s,a;const l=t.oc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.sc();else{const p=yield pl(t.localStore,ko(e));t.isPrimaryClient&&wu(t.remoteStore,p);const I=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield Nm(t,e,s,"current"===I,p.resumeToken)}return a}),Rm.apply(this,arguments)}function Nm(n,e,t,s,a){return Om.apply(this,arguments)}function Om(){return Om=(0,Ee.Z)(function*(n,e,t,s,a){n.mc=(ue,De,We)=>{return(st=(0,Ee.Z)(function*(_t,Bt,Yn,ni){let mn=Bt.view.Hu(Yn);mn.Li&&(mn=yield Ah(_t.localStore,Bt.query,!1).then(({documents:Tn})=>Bt.view.Hu(Tn,mn)));const fn=ni&&ni.targetChanges.get(Bt.targetId),yn=Bt.view.applyChanges(mn,_t.isPrimaryClient,fn);return Ip(_t,Bt.targetId,yn.tc),yn.snapshot}),function(_t,Bt,Yn,ni){return st.apply(this,arguments)})(n,ue,De,We);var st};const l=yield Ah(n.localStore,e,!0),p=new Mm(e,l.Yi),I=p.Hu(l.documents),O=mh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState,a),U=p.applyChanges(I,n.isPrimaryClient,O);Ip(n,t,U.tc);const Y=new w_(e,t,p);return n.oc.set(e,Y),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),U.snapshot}),Om.apply(this,arguments)}function OE(n,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Ee.Z)(function*(n,e){const t=L(n),s=t.oc.get(e),a=t.uc.get(s.targetId);if(a.length>1)return t.uc.set(s.targetId,a.filter(l=>!Ja(l,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield dd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),gl(t.remoteStore,s.targetId),yl(t,s.targetId)}).catch(Bu))):(yl(t,s.targetId),yield dd(t.localStore,s.targetId,!0))}),Pm.apply(this,arguments)}function km(){return km=(0,Ee.Z)(function*(n,e,t){const s=Sp(n);try{const a=yield function(l,p){const I=L(l),O=Ar.now(),U=p.reduce((De,We)=>De.add(We.key),Cn());let Y,ue;return I.persistence.runTransaction("Locally write mutations","readwrite",De=>{let We=ya(),st=Cn();return I.ji.getEntries(De,U).next(_t=>{We=_t,We.forEach((Bt,Yn)=>{Yn.isValidDocument()||(st=st.add(Bt))})}).next(()=>I.localDocuments.getOverlayedDocuments(De,We)).next(_t=>{Y=_t;const Bt=[];for(const Yn of p){const ni=Rg(Yn,Y.get(Yn.key).overlayedDocument);null!=ni&&Bt.push(new Zu(Yn.key,ni,Tg(ni.value.mapValue),gi.exists(!0)))}return I.mutationQueue.addMutationBatch(De,O,Bt,p)}).next(_t=>{ue=_t;const Bt=_t.applyToLocalDocumentSet(Y,st);return I.documentOverlayCache.saveOverlays(De,_t.batchId,Bt)})}).then(()=>({batchId:ue.batchId,changes:uv(Y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,p,I){let O=l.fc[l.currentUser.toKey()];O||(O=new Pi(un)),O=O.insert(p,I),l.fc[l.currentUser.toKey()]=O}(s,a.batchId,t),yield Du(s,a.changes),yield ml(s.remoteStore)}catch(a){const l=yd(a,"Failed to persist write");t.reject(l)}}),km.apply(this,arguments)}function D_(n,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ee.Z)(function*(n,e){const t=L(n);try{const s=yield Kv(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.hc.get(l);p&&(f(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.ic=!0:a.modifiedDocuments.size>0?f(p.ic):a.removedDocuments.size>0&&(f(p.ic),p.ic=!1))}),yield Du(t,s,e)}catch(s){yield Bu(s)}}),Fm.apply(this,arguments)}function b_(n,e,t){const s=L(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.oc.forEach((l,p)=>{const I=p.view.bu(e);I.snapshot&&a.push(I.snapshot)}),function(l,p){const I=L(l);I.onlineState=p;let O=!1;I.queries.forEach((U,Y)=>{for(const ue of Y.listeners)ue.bu(p)&&(O=!0)}),O&&Vh(I)}(s.eventManager,e),a.length&&s.rc.Ho(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function kE(n,e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Ee.Z)(function*(n,e,t){const s=L(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.hc.get(e),l=a&&a.key;if(l){let p=new Pi(St.comparator);p=p.insert(l,zr.newNoDocument(l,Xt.min()));const I=Cn().add(l),O=new gh(Xt.min(),new Map,new br(un),p,I);yield D_(s,O),s.ac=s.ac.remove(l),s.hc.delete(e),Dp(s)}else yield dd(s.localStore,e,!1).then(()=>yl(s,e,t)).catch(Bu)}),Lm.apply(this,arguments)}function FE(n,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,Ee.Z)(function*(n,e){const t=L(n),s=e.batch.batchId;try{const a=yield Zv(t.localStore,e);wp(t,s,null),Ep(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Du(t,a)}catch(a){yield Bu(a)}}),Vm.apply(this,arguments)}function LE(n,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,Ee.Z)(function*(n,e,t){const s=L(n);try{const a=yield function(l,p){const I=L(l);return I.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return I.mutationQueue.lookupMutationBatch(O,p).next(Y=>(f(null!==Y),U=Y.keys(),I.mutationQueue.removeMutationBatch(O,Y))).next(()=>I.mutationQueue.performConsistencyCheck(O)).next(()=>I.documentOverlayCache.removeOverlaysForBatchId(O,U,p)).next(()=>I.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>I.localDocuments.getDocuments(O,U))})}(s.localStore,e);wp(s,e,t),Ep(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Du(s,a)}catch(a){yield Bu(a)}}),vp.apply(this,arguments)}function _p(){return _p=(0,Ee.Z)(function*(n,e){const t=L(n);Ju(t.remoteStore)||dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const p=L(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",I=>p.mutationQueue.getHighestUnacknowledgedBatchId(I))}(t.localStore);if(-1===s)return void e.resolve();const a=t.dc.get(s)||[];a.push(e),t.dc.set(s,a)}catch(s){const a=yd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),_p.apply(this,arguments)}function Ep(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function wp(n,e,t){const s=L(n);let a=s.fc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.fc[s.currentUser.toKey()]=a}}function yl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.uc.get(e))n.oc.delete(s),t&&n.rc.gc(s,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(s=>{n.lc.containsKey(s)||Um(n,s)})}function Um(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(gl(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),Dp(n))}function Ip(n,e,t){for(const s of t)s instanceof Am?(n.lc.addReference(s.key,e),T_(n,s)):s instanceof xm?(dt("SyncEngine","Document no longer in limbo: "+s.key),n.lc.removeReference(s.key,e),n.lc.containsKey(s.key)||Um(n,s.key)):d()}function T_(n,e){const t=e.key,s=t.path.canonicalString();n.ac.get(t)||n.cc.has(s)||(dt("SyncEngine","New document in limbo: "+t),n.cc.add(s),Dp(n))}function Dp(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new St(Hn.fromString(e)),s=n._c.next();n.hc.set(s,new I_(t)),n.ac=n.ac.insert(t,s),wu(n.remoteStore,new _c(ko(tl(t.path)),s,2,ma.at))}}function Du(n,e,t){return ec.apply(this,arguments)}function ec(){return ec=(0,Ee.Z)(function*(n,e,t){const s=L(n),a=[],l=[],p=[];var I;s.oc.isEmpty()||(s.oc.forEach((I,O)=>{p.push(s.mc(O,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const Y=Tc.Ni(O.targetId,U);l.push(Y)}}))}),yield Promise.all(p),s.rc.Ho(a),yield(I=(0,Ee.Z)(function*(O,U){const Y=L(O);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",ue=>Oe.forEach(U,De=>Oe.forEach(De.Ci,We=>Y.persistence.referenceDelegate.addReference(ue,De.targetId,We)).next(()=>Oe.forEach(De.xi,We=>Y.persistence.referenceDelegate.removeReference(ue,De.targetId,We)))))}catch(ue){if(!pu(ue))throw ue;dt("LocalStore","Failed to update sequence numbers: "+ue)}for(const ue of U){const De=ue.targetId;if(!ue.fromCache){const We=Y.Ki.get(De),_t=We.withLastLimboFreeSnapshotVersion(We.snapshotVersion);Y.Ki=Y.Ki.insert(De,_t)}}}),function(O,U){return I.apply(this,arguments)})(s.localStore,l))}),ec.apply(this,arguments)}function VE(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Ee.Z)(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const s=yield am(t.localStore,e);t.currentUser=e,(a=t).dc.forEach(p=>{p.forEach(I=>{I.reject(new te(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.dc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Du(t,s.Wi)}var a}),Bm.apply(this,arguments)}function Id(n,e){const t=L(n),s=t.hc.get(e);if(s&&s.ic)return Cn().add(s.key);{let a=Cn();const l=t.uc.get(e);if(!l)return a;for(const p of l){const I=t.oc.get(p);a=a.unionWith(I.view.Wu)}return a}}function Hw(n,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Ee.Z)(function*(n,e){const t=L(n),s=yield Ah(t.localStore,e.query,!0),a=e.view.nc(s);return t.isPrimaryClient&&Ip(t,e.targetId,a.tc),a}),Uh.apply(this,arguments)}function Gw(n,e){return bp.apply(this,arguments)}function bp(){return bp=(0,Ee.Z)(function*(n,e){const t=L(n);return Xv(t.localStore,e).then(s=>Du(t,s))}),bp.apply(this,arguments)}function S_(n,e,t,s){return A_.apply(this,arguments)}function A_(){return A_=(0,Ee.Z)(function*(n,e,t,s){const a=L(n),l=yield function(p,I){const O=L(p),U=L(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",Y=>U.An(Y,I).next(ue=>ue?O.localDocuments.getDocuments(Y,ue):Oe.resolve(null)))}(a.localStore,e);var I;null!==l?("pending"===t?yield ml(a.remoteStore):"acknowledged"===t||"rejected"===t?(wp(a,e,s||null),Ep(a,e),I=e,L(L(a.localStore).mutationQueue).Pn(I)):d(),yield Du(a,l)):dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),A_.apply(this,arguments)}function jm(){return jm=(0,Ee.Z)(function*(n,e){const t=L(n);if(Tp(t),Sp(t),!0===e&&!0!==t.wc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield x_(t,s.toArray());t.wc=!0,yield fp(t.remoteStore,!0);for(const l of a)wu(t.remoteStore,l)}else if(!1===e&&!1!==t.wc){const s=[];let a=Promise.resolve();t.uc.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(yl(t,p),dd(t.localStore,p,!0))),gl(t.remoteStore,p)}),yield a,yield x_(t,s),function(l){const p=L(l);p.hc.forEach((I,O)=>{gl(p.remoteStore,O)}),p.lc._s(),p.hc=new Map,p.ac=new Pi(St.comparator)}(t),t.wc=!1,yield fp(t.remoteStore,!1)}}),jm.apply(this,arguments)}function x_(n,e,t){return $m.apply(this,arguments)}function $m(){return $m=(0,Ee.Z)(function*(n,e,t){const s=L(n),a=[],l=[];for(const p of e){let I;const O=s.uc.get(p);if(O&&0!==O.length){I=yield pl(s.localStore,ko(O[0]));for(const U of O){const Y=s.oc.get(U),ue=yield Hw(s,Y);ue.snapshot&&l.push(ue.snapshot)}}else{const U=yield Qv(s.localStore,p);I=yield pl(s.localStore,U),yield Nm(s,vl(U),p,!1,I.resumeToken)}a.push(I)}return s.rc.Ho(l),a}),$m.apply(this,arguments)}function vl(n){return Sf(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UE(n){const e=L(n);return L(L(e.localStore).persistence).Si()}function Cp(n,e,t,s){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,Ee.Z)(function*(n,e,t,s){const a=L(n);if(a.wc)return void dt("SyncEngine","Ignoring unexpected query state notification.");const l=a.uc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const p=yield Xv(a.localStore,Ky(l[0])),I=gh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Oi.EMPTY_BYTE_STRING);yield Du(a,p,I);break}case"rejected":yield dd(a.localStore,e,!0),yl(a,e,s);break;default:d()}}),Dd.apply(this,arguments)}function ki(n,e,t){return M_.apply(this,arguments)}function M_(){return M_=(0,Ee.Z)(function*(n,e,t){const s=Tp(n);if(s.wc){for(const a of e){if(s.uc.has(a)){dt("SyncEngine","Adding an already active target "+a);continue}const l=yield Qv(s.localStore,a),p=yield pl(s.localStore,l);yield Nm(s,vl(l),p.targetId,!1,p.resumeToken),wu(s.remoteStore,p)}for(const a of t)s.uc.has(a)&&(yield dd(s.localStore,a,!1).then(()=>{gl(s.remoteStore,a),yl(s,a)}).catch(Bu))}}),M_.apply(this,arguments)}function Tp(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Id.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kE.bind(null,e),e.rc.Ho=v_.bind(null,e.eventManager),e.rc.gc=__.bind(null,e.eventManager),e}function Sp(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LE.bind(null,e),e}class Hm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.Tt=Sc(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return om(this.persistence,new fl,e.initialUser,this.Tt)}Tc(e){return new Ic(Fo.qs,this.Tt)}Ic(e){return new ap}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gm extends Hm{constructor(e,t,s){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield t().call(s,e),yield s.Pc.initialize(s,e),yield Sp(s.Pc.syncEngine),yield ml(s.Pc.remoteStore),yield s.persistence.di(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return om(this.persistence,new fl,e.initialUser,this.Tt)}Ac(e,t){return new _E(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const s=new F0(t,this.persistence);return new Ny(e.asyncQueue,s)}Tc(e){const t=Cc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new bc(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,fm(),Oh(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new ap}}class R_ extends Gm{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield t().call(s,e);const a=s.Pc.syncEngine;s.sharedClientState instanceof op&&(s.sharedClientState.syncEngine={Br:S_.bind(null,a),Lr:Cp.bind(null,a),qr:ki.bind(null,a),Si:UE.bind(null,a),Fr:Gw.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.di(function(){var l=(0,Ee.Z)(function*(p){yield function an(n,e){return jm.apply(this,arguments)}(s.Pc.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Ic(e){const t=fm();if(!op.C(t))throw new te(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Cc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new op(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ap{initialize(e,t){var s=this;return(0,Ee.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>b_(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=VE.bind(null,s.syncEngine),yield fp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ME}createDatastore(e){const t=Sc(e.databaseInfo.databaseId),s=new i_(e.databaseInfo);return new a_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=I=>b_(this.syncEngine,I,0),p=t_.C()?new t_:new e_,new lp(t,s,a,l,p);var t,s,a,l,p}createSyncEngine(e,t){return function(s,a,l,p,I,O,U){const Y=new RE(s,a,l,p,I,O);return U&&(Y.wc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const s=L(t);dt("RemoteStore","RemoteStore shutting down."),s.mu.add(5),yield gd(s),s.yu.shutdown(),s.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function N_(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jE{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new Qe,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Mu)}`))},s=>this.metadata.reject(s))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const s=e.Sc.decode(t),a=Number(s);isNaN(a)&&e.xc(`length string (${s}) is not valid number`);const l=yield e.Nc(a);return new Tm(JSON.parse(l),t.length+a)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,Ee.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Nc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const s=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Bh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new te(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ee.Z)(function*(l,p){const I=L(l),O=sl(I.Tt)+"/documents",U={documents:p.map(We=>ed(I.Tt,We))},Y=yield I.mo("BatchGetDocuments",O,U,p.length),ue=new Map;Y.forEach(We=>{const st=function $w(n,e){return"found"in e?function(t,s){f(!!s.found);const a=go(t,s.found.name),l=Qi(s.found.updateTime),p=s.found.createTime?Qi(s.found.createTime):Xt.min(),I=new as({mapValue:{fields:s.found.fields}});return zr.newFoundDocument(a,l,p,I)}(n,e):"missing"in e?function(t,s){f(!!s.missing),f(!!s.readTime);const a=go(t,s.missing),l=Qi(s.readTime);return zr.newNoDocument(a,l)}(n,e):d()}(I.Tt,We);ue.set(st.key.toString(),st)});const De=[];return p.forEach(We=>{const st=ue.get(We.toString());f(!!st),De.push(st)}),De}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=St.fromPath(a);e.mutations.push(new Og(l,e.precondition(l)))}),yield(s=(0,Ee.Z)(function*(a,l){const p=L(a),I=sl(p.Tt)+"/documents",O={writes:l.map(U=>td(p.Tt,U))};yield p.lo("Commit",I,O)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw d();t=Xt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new te(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xt.min())?gi.exists(!1):gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xt.min()))throw new te(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $E{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.Mc=s.maxAttempts,this.ko=new Ph(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,Ee.Z)(function*(){const t=new Bh(e.datastore),s=e.Fc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Bc(l)}))}).catch(a=>{e.Bc(a)})}))}Fc(e){try{const t=this.updateFunction(e);return!yf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ov(t)}return!1}}class HE{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Yi.UNAUTHENTICATED,this.clientId=Kd.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,Ee.Z)(function*(I){dt("FirestoreClient","Received user=",I.uid),yield l.authCredentialListener(I),l.user=I});return function(I){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(dt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=yd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function O_(n,e){return bd.apply(this,arguments)}function bd(){return bd=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ee.Z)(function*(l){s.isEqual(l)||(yield am(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bd.apply(this,arguments)}function zm(n,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Rp(n);dt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>Fa(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>Fa(e.remoteStore,l)),n.onlineComponents=e}),Mp.apply(this,arguments)}function Rp(n){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Ee.Z)(function*(n){return n.offlineComponents||(dt("FirestoreClient","Using default OfflineComponentProvider"),yield O_(n,new Hm)),n.offlineComponents}),Wm.apply(this,arguments)}function Rc(n){return _l.apply(this,arguments)}function _l(){return _l=(0,Ee.Z)(function*(n){return n.onlineComponents||(dt("FirestoreClient","Using default OnlineComponentProvider"),yield zm(n,new Ap)),n.onlineComponents}),_l.apply(this,arguments)}function P_(n){return Rp(n).then(e=>e.persistence)}function Np(n){return Rp(n).then(e=>e.localStore)}function qm(n){return Rc(n).then(e=>e.remoteStore)}function Op(n){return Rc(n).then(e=>e.syncEngine)}function El(n){return Km.apply(this,arguments)}function Km(){return Km=(0,Ee.Z)(function*(n){const e=yield Rc(n),t=e.eventManager;return t.onListen=NE.bind(null,e.syncEngine),t.onUnlisten=OE.bind(null,e.syncEngine),t}),Km.apply(this,arguments)}function WE(n,e,t={}){const s=new Qe;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(a,l,p,I,O){const U=new xp({next:ue=>{l.enqueueAndForget(()=>Ed(a,Y));const De=ue.docs.has(p);!De&&ue.fromCache?O.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):De&&ue.fromCache&&I&&"server"===I.source?O.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(ue)},error:ue=>O.reject(ue)}),Y=new wd(tl(p.path),U,{includeMetadataChanges:!0,$u:!0});return gp(a,Y)}(yield El(n),n.asyncQueue,e,t,s)})),s.promise}function qE(n,e,t={}){const s=new Qe;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(a,l,p,I,O){const U=new xp({next:ue=>{l.enqueueAndForget(()=>Ed(a,Y)),ue.fromCache&&"server"===I.source?O.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(ue)},error:ue=>O.reject(ue)}),Y=new wd(p,U,{includeMetadataChanges:!0,$u:!0});return gp(a,Y)}(yield El(n),n.asyncQueue,e,t,s)})),s.promise}const L_=new Map;function Ym(n,e,t){if(!t)throw new te(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qm(n,e,t,s){if(!0===e&&!0===s)throw new te(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cd(n){if(!St.isDocumentKey(n))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function V_(n){if(St.isDocumentKey(n))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":d()}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kp(n);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function U_(n,e){if(e<=0)throw new te(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yt;switch(t.type){case"gapi":return new Ra(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=L_.get(e);t&&(dt("ComponentProvider","Removing Datastore"),L_.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Xs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class ra extends Xs{constructor(e,t,s){super(e,t,tl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new St(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function B_(n,e,...t){if(n=(0,At.m9)(n),Ym("collection","path",e),n instanceof jh){const s=Hn.fromString(e,...t);return V_(s),new ra(n,null,s)}{if(!(n instanceof ti||n instanceof ra))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Hn.fromString(e,...t));return V_(s),new ra(n.firestore,null,s)}}function Fp(n,e,...t){if(n=(0,At.m9)(n),1===arguments.length&&(e=Kd.R()),Ym("doc","path",e),n instanceof jh){const s=Hn.fromString(e,...t);return Cd(s),new ti(n,null,new St(s))}{if(!(n instanceof ti||n instanceof ra))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Hn.fromString(e,...t));return Cd(s),new ti(n.firestore,n instanceof ra?n.converter:null,new St(s))}}function Jm(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),(n instanceof ti||n instanceof ra)&&(e instanceof ti||e instanceof ra)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ey(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),n instanceof Xs&&e instanceof Xs&&n.firestore===e.firestore&&Ja(n._query,e._query)&&n.converter===e.converter}class $_{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Ph(this,"async_queue_retry"),this.Hc=()=>{const t=Oh();t&&dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=Oh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=Oh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Qe;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!pu(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(s=>{throw this.Qc=s,this.jc=!1,Ii("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(s)),s}).then(s=>(this.jc=!1,s))));return this.qc=t,t}enqueueAfterDelay(e,t,s){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const a=bm.createAndSchedule(this,e,t,s,l=>this.Xc(l));return this.Gc.push(a),a}Jc(){this.Qc&&d()}verifyOperationInProgress(){}ta(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function ty(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class ny{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wr extends jh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new $_,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H_(this),this._firestoreClient.terminate()}}function Xi(n){return n._firestoreClient||H_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function H_(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mf(n._databaseId,l,n._persistenceKey,(I=t).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var l,I;n._firestoreClient=new HE(n._authCredentials,n._appCheckCredentials,n._queue,s)}function iy(n,e,t){const s=new Qe;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield O_(n,t),yield zm(n,e),s.resolve()}catch(a){const l=a;if(!("FirebaseError"===(p=l).name?p.code===B.FAILED_PRECONDITION||p.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw l;Lu("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var p})).then(()=>s.promise)}function G_(n){if(n._initialized||n._terminated)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bu(Oi.fromBase64String(e))}catch(t){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bu(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wl{constructor(e){this._methodName=e}}class Lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const sw=/^__.*__$/;class sy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kl(e,this.data,t,this.fieldTransforms)}}class Vp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw d()}}class Sd{constructor(e,t,s,a,l,p){this.settings=e,this.databaseId=t,this.Tt=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ia(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:s,ca:!1});return a.aa(e),a}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:s,ca:!1});return a.ia(),a}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Wh(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(oy(this.ra)&&sw.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class ow{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=s||Sc(e)}wa(e,t,s,a=!1){return new Sd({ra:e,methodName:t,_a:s,path:pi.emptyPath(),ca:!1,da:a},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Il(n){const e=n._freezeSettings(),t=Sc(n._databaseId);return new ow(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ad(n,e,t,s,a,l={}){const p=n.wa(l.merge||l.mergeFields?2:0,e,t,a);Gh("Data must be an object, but it was:",p,s);const I=Z_(s,p);let O,U;if(l.merge)O=new ks(p.fieldMask),U=p.fieldTransforms;else if(l.mergeFields){const Y=[];for(const ue of l.mergeFields){const De=xd(e,ue,t);if(!p.contains(De))throw new te(B.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);Y_(Y,De)||Y.push(De)}O=new ks(Y),U=p.fieldTransforms.filter(ue=>O.covers(ue.field))}else O=null,U=p.fieldTransforms;return new sy(new as(I),O,U)}class $h extends wl{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function ay(n,e,t){return new Sd({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class Nc extends wl{_toFieldTransform(e){return new ql(e.path,new rl)}isEqual(e){return e instanceof Nc}}class W_ extends wl{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.ma.map(l=>nc(l,t)),a=new zl(s);return new ql(e.path,a)}isEqual(e){return this===e}}class aw extends wl{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=ay(this,e,!0),s=this.ma.map(l=>nc(l,t)),a=new eu(s);return new ql(e.path,a)}isEqual(e){return this===e}}class Kw extends wl{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new tu(e.Tt,Xy(e.Tt,this.ga));return new ql(e.path,t)}isEqual(e){return this===e}}function Up(n,e,t,s){const a=n.wa(1,e,t);Gh("Data must be an object, but it was:",a,s);const l=[],p=as.empty();Qc(s,(O,U)=>{const Y=zh(e,O,t);U=(0,At.m9)(U);const ue=a.ha(Y);if(U instanceof $h)l.push(Y);else{const De=nc(U,ue);null!=De&&(l.push(Y),p.set(Y,De))}});const I=new ks(l);return new Vp(p,I,a.fieldTransforms)}function Hh(n,e,t,s,a,l){const p=n.wa(1,e,t),I=[xd(e,s,t)],O=[a];if(l.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let De=0;De<l.length;De+=2)I.push(xd(e,l[De])),O.push(l[De+1]);const U=[],Y=as.empty();for(let De=I.length-1;De>=0;--De)if(!Y_(U,I[De])){const We=I[De];let st=O[De];st=(0,At.m9)(st);const _t=p.ha(We);if(st instanceof $h)U.push(We);else{const Bt=nc(st,_t);null!=Bt&&(U.push(We),Y.set(We,Bt))}}const ue=new ks(U);return new Vp(Y,ue,p.fieldTransforms)}function q_(n,e,t,s=!1){return nc(t,n.wa(s?4:3,e))}function nc(n,e){if(uy(n=(0,At.m9)(n)))return Gh("Unsupported field value:",e,n),Z_(n,e);if(n instanceof wl)return function(t,s){if(!oy(s.ra))throw s.fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const p of t){let I=nc(p,s.la(l));null==I&&(I={nullValue:"NULL_VALUE"}),a.push(I),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,At.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xy(s.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ar.fromDate(t);return{timestampValue:Jl(s.Tt,a)}}if(t instanceof Ar){const a=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jl(s.Tt,a)}}if(t instanceof Lp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bu)return{bytesValue:Lg(s.Tt,t._byteString)};if(t instanceof ti){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gv(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.fa(`Unsupported field value: ${kp(t)}`)}(n,e)}function Z_(n,e){const t={};return Py(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qc(n,(s,a)=>{const l=nc(a,e.ua(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function uy(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof Lp||n instanceof bu||n instanceof ti||n instanceof wl)}function Gh(n,e,t){if(!uy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=kp(t);throw e.fa("an object"===s?n+" a custom object":n+" "+s)}var s}function xd(n,e,t){if((e=(0,At.m9)(e))instanceof tc)return e._internalPath;if("string"==typeof e)return zh(n,e);throw Wh("Field path arguments must be of type string or ",n,!1,void 0,t)}const K_=new RegExp("[~\\*/\\[\\]]");function zh(n,e,t){if(e.search(K_)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wh(n,e,t,s,a){const l=s&&!s.isEmpty(),p=void 0!==a;let I=`Function ${e}() called with invalid data`;t&&(I+=" (via `toFirestore()`)"),I+=". ";let O="";return(l||p)&&(O+=" (found",l&&(O+=` in field ${s}`),p&&(O+=` in document ${a}`),O+=")"),new te(B.INVALID_ARGUMENT,I+n+O)}function Y_(n,e){return n.some(t=>t.isEqual(e))}class qh{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uw extends qh{data(){return super.data()}}function Bp(n,e){return"string"==typeof e?zh(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}function cy(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q_{}class Md extends Q_{}function Oc(n,e,...t){let s=[];e instanceof Q_&&s.push(e),s=s.concat(t),function(a){const l=a.filter(I=>I instanceof Rd).length,p=a.filter(I=>I instanceof Zh).length;if(l>1||l>0&&p>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Zh extends Md{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Zh(e,t,s)}_apply(e){const t=this._parse(e);return fy(e._query,t),new Xs(e.firestore,e.converter,uh(e._query,t))}_parse(e){const t=Il(e.firestore);return function(a,l,p,I,O,U,Y){let ue;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){hy(Y,U);const De=[];for(const We of Y)De.push(dy(I,a,We));ue={arrayValue:{values:De}}}else ue=dy(I,a,Y)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||hy(Y,U),ue=q_(p,"where",Y,"in"===U||"not-in"===U);return Gn.create(O,U,ue)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Rd extends Q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rd(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const p=a.getFlattenedFilters();for(const I of p)fy(l,I),l=uh(l,I)}(e._query,t),new Xs(e.firestore,e.converter,uh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jp extends Md{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jp(e,t)}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Jc(a,l);return function(I,O){if(null===qu(I)){const U=Af(I);null!==U&&py(0,U,O.field)}}(s,p),p}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Wu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class $p extends Md{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new $p(e,t,s)}_apply(e){return new Xs(e.firestore,e.converter,nl(e._query,this._limit,this._limitType))}}class Hp extends Md{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Hp(e,t,s)}_apply(e){const t=ly(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(a=t,new Wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Gp extends Md{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Gp(e,t,s)}_apply(e){const t=ly(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(a=t,new Wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function ly(n,e,t,s){if(t[0]=(0,At.m9)(t[0]),t[0]instanceof qh)return function(a,l,p,I,O){if(!I)throw new te(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const U=[];for(const Y of mu(a))if(Y.field.isKeyField())U.push(Ul(l,I.key));else{const ue=I.data.field(Y.field);if(_f(ue))throw new te(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ue){const De=Y.field.canonicalString();throw new te(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${De}' (used as the orderBy) does not exist.`)}U.push(ue)}return new zu(U,O)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=Il(n.firestore);return function(l,p,I,O,U,Y){const ue=l.explicitOrderBy;if(U.length>ue.length)throw new te(B.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const De=[];for(let We=0;We<U.length;We++){const st=U[We];if(ue[We].field.isKeyField()){if("string"!=typeof st)throw new te(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof st}`);if(!ah(l)&&-1!==st.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${st}' contains a slash.`);const _t=l.path.child(Hn.fromString(st));if(!St.isDocumentKey(_t))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${_t}' is not because it contains an odd number of segments.`);const Bt=new St(_t);De.push(Ul(p,Bt))}else{const _t=q_(I,O,st);De.push(_t)}}return new zu(De,Y)}(n._query,n.firestore._databaseId,a,e,t,s)}}function dy(n,e,t){if("string"==typeof(t=(0,At.m9)(t))){if(""===t)throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ah(e)&&-1!==t.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Hn.fromString(t));if(!St.isDocumentKey(s))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ul(n,new St(s))}if(t instanceof ti)return Ul(n,t._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(t)}.`)}function hy(n,e){if(!Array.isArray(n)||0===n.length)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fy(n,e){if(e.isInequality()){const s=Af(n),a=e.field;if(null!==s&&!s.isEqual(a))throw new te(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=qu(n);null!==l&&py(0,a,l)}const t=function(s,a){for(const l of s)for(const p of l.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new te(B.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function py(n,e,t){if(!t.isEqual(e))throw new te(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class t0{convertValue(e,t="none"){switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw d()}}convertObject(e,t){const s={};return Qc(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Lp(Di(e.latitude),Di(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fy(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const t=$u(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Hn.fromString(e);f(Iv(s));const a=new gu(s.get(1),s.get(3)),l=new St(s.popFirst(5));return a.isEqual(t)||Ii(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Yh(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class pw extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends qh{constructor(e,t,s,a,l,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Qh extends Ls{data(e={}){return super.data(e)}}class Cu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Qh(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Qh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new rc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const I=new Qh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new rc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,U=-1;return 0!==p.type&&(O=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),U=l.indexOf(p.doc.key)),{type:Xh(p.type),doc:I,oldIndex:O,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xh(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return d()}}function n0(n,e){return n instanceof Ls&&e instanceof Ls?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cu&&e instanceof Cu&&n._firestore===e._firestore&&ey(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Pc extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function gy(n,e,t){n=Kn(n,ti);const s=Kn(n.firestore,Wr),a=Yh(n.converter,e,t);return kc(s,[Ad(Il(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,gi.none())])}function Zp(n,e,t,...s){n=Kn(n,ti);const a=Kn(n.firestore,Wr),l=Il(a);let p;return p="string"==typeof(e=(0,At.m9)(e))||e instanceof tc?Hh(l,"updateDoc",n._key,e,t,s):Up(l,"updateDoc",n._key,e),kc(a,[p.toMutation(n._key,gi.exists(!0))])}function Kp(n,...e){var t,s,a;n=(0,At.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||ty(e[p])||(l=e[p],p++);const I={includeMetadataChanges:l.includeMetadataChanges};if(ty(e[p])){const ue=e[p];e[p]=null===(t=ue.next)||void 0===t?void 0:t.bind(ue),e[p+1]=null===(s=ue.error)||void 0===s?void 0:s.bind(ue),e[p+2]=null===(a=ue.complete)||void 0===a?void 0:a.bind(ue)}let O,U,Y;if(n instanceof ti)U=Kn(n.firestore,Wr),Y=tl(n._key.path),O={next:ue=>{e[p]&&e[p](Jh(U,n,ue))},error:e[p+1],complete:e[p+2]};else{const ue=Kn(n,Xs);U=Kn(ue.firestore,Wr),Y=ue._query;const De=new Pc(U);O={next:We=>{e[p]&&e[p](new Cu(U,De,ue,We))},error:e[p+1],complete:e[p+2]},cy(n._query)}return function(ue,De,We,st){const _t=new xp(st),Bt=new wd(De,_t,We);return ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return gp(yield El(ue),Bt)})),()=>{_t.bc(),ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ed(yield El(ue),Bt)}))}}(Xi(U),Y,I,O)}function kc(n,e){return function(t,s){const a=new Qe;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function PE(n,e,t){return km.apply(this,arguments)}(yield Op(t),s,a)})),a.promise}(Xi(n),e)}function Jh(n,e,t){const s=t.docs.get(e._key),a=new Pc(n);return new Ls(n,a,e._key,s,new rc(t.hasPendingWrites,t.fromCache),e.converter)}const Ew={maxAttempts:5};class a0{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Il(e)}set(e,t,s){this._verifyNotCommitted();const a=ic(e,this._firestore),l=Yh(a.converter,t,s),p=Ad(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,gi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=ic(e,this._firestore);let p;return p="string"==typeof(t=(0,At.m9)(t))||t instanceof tc?Hh(this._dataReader,"WriteBatch.update",l._key,t,s,a):Up(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ic(e,this._firestore);return this._mutations=this._mutations.concat(new Yl(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ic(n,e){if((n=(0,At.m9)(n)).firestore!==e)throw new te(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Il(e)}get(e){const t=ic(e,this._firestore),s=new pw(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return d();const l=a[0];if(l.isFoundDocument())return new qh(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new qh(this._firestore,s,t._key,null,t.converter);throw d()})}set(e,t,s){const a=ic(e,this._firestore),l=Yh(a.converter,t,s),p=Ad(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const l=ic(e,this._firestore);let p;return p="string"==typeof(t=(0,At.m9)(t))||t instanceof tc?Hh(this._dataReader,"Transaction.update",l._key,t,s,a):Up(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=ic(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ic(e,this._firestore),s=new Pc(this._firestore);return super.get(e).then(a=>new Ls(this._firestore,s,t._key,a._document,new rc(!1,!1),t.converter))}}function Fc(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function f0(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function p0(){if(!function ky(){return typeof atob<"u"}())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fu=Mt.SDK_VERSION,(0,Mt._registerComponent)(new wt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),p=new Wr(new Gr(t.getProvider("auth-internal")),new Vu(t.getProvider("app-check-internal")),function(I,O){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(I.options.projectId,O)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(qc,"3.9.0",n),(0,Mt.registerVersion)(qc,"3.9.0","esm2017")}();class Yp{constructor(e){this._delegate=e}static fromBase64String(e){return p0(),new Yp(bu.fromBase64String(e))}static fromUint8Array(e){return f0(),new Yp(bu.fromUint8Array(e))}toBase64(){return p0(),this._delegate.toBase64()}toUint8Array(){return f0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function g0(n){return function m0(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(n,["next","error","complete"])}class y0{enableIndexedDbPersistence(e,t){return function ry(n,e){G_(n=Kn(n,Wr));const t=Xi(n),s=n._freezeSettings(),a=new Ap;return iy(t,a,new Gm(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function QE(n){G_(n=Kn(n,Wr));const e=Xi(n),t=n._freezeSettings(),s=new Ap;return iy(e,s,new R_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XE(n){if(n._initialized&&!n._terminated)throw new te(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qe;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(s){if(!ea.C())return Promise.resolve();const a=s+"main";yield ea.delete(a)}),function(s){return t.apply(this,arguments)})(Cc(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Nd{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof gu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Xm(n,e,t,s={}){var a;const l=(n=Kn(n,jh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Lu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,I;if("string"==typeof s.mockUserToken)p=s.mockUserToken,I=Yi.MOCK_USER;else{p=(0,At.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Yi(O)}n._authCredentials=new Rn(new kt(p,I))}}(this._delegate,e,t,s)}enableNetwork(){return function ew(n){return function k_(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield P_(n),t=yield qm(n);return e.setNetworkEnabled(!0),function(s){const a=L(s);return a.mu.delete(0),Pa(a)}(t)}))}(Xi(n=Kn(n,Wr)))}(this._delegate)}disableNetwork(){return function tw(n){return function GE(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield P_(n),t=yield qm(n);return e.setNetworkEnabled(!1),(s=(0,Ee.Z)(function*(a){const l=L(a);l.mu.add(0),yield gd(l),l.pu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Xi(n=Kn(n,Wr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Qm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function JE(n){return function(e){const t=new Qe;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function C_(n,e){return _p.apply(this,arguments)}(yield Op(e),t)})),t.promise}(Xi(n=Kn(n,Wr)))}(this._delegate)}onSnapshotsInSync(e){return function o0(n,e){return function Ww(n,e){const t=new xp(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield El(n),a=t,L(s).vu.add(a),void a.next();var s,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield El(n),a=t,void L(s).vu.delete(a);var s,a}))}}(Xi(n=Kn(n,Wr)),ty(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pd(this,B_(this._delegate,e))}catch(t){throw Vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new La(this,Fp(this._delegate,e))}catch(t){throw Vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Js(this,function j_(n,e){if(n=Kn(n,jh),Ym("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(n,null,(t=e,new Wu(Hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function u0(n,e,t){n=Kn(n,Wr);const s=Object.assign(Object.assign({},Ew),t);return function(a){if(a.maxAttempts<1)throw new te(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,l,p){const I=new Qe;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const O=yield function Zm(n){return Rc(n).then(e=>e.datastore)}(a);new $E(a.asyncQueue,O,p,l,I).run()})),I.promise}(Xi(n),a=>e(new yy(n,a)),s)}(this._delegate,t=>e(new v0(this,t)))}batch(){return Xi(this._delegate),new Ey(new a0(this._delegate,e=>kc(this._delegate,e)))}loadBundle(e){return function nw(n,e){const t=Xi(n=Kn(n,Wr)),s=new ny;return function F_(n,e,t,s){const a=function(l,p){let I;return I="string"==typeof l?(new TextEncoder).encode(l):l,O=function(O,U){if(O instanceof Uint8Array)return N_(O,U);if(O instanceof ArrayBuffer)return N_(new Uint8Array(O),U);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(I),new jE(O,p);var O}(t,Sc(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function BE(n,e,t){const s=L(n);var a;(a=(0,Ee.Z)(function*(l,p,I){try{const O=yield p.getMetadata();if(yield function(De,We){const st=L(De),_t=Qi(We.createTime);return st.persistence.runTransaction("hasNewerBundle","readonly",Bt=>st.$s.getBundleMetadata(Bt,We.id)).then(Bt=>!!Bt&&Bt.createTime.compareTo(_t)>=0)}(l.localStore,O))return yield p.close(),I._completeWith({taskState:"Success",documentsLoaded:(De=O).totalDocuments,bytesLoaded:De.totalBytes,totalDocuments:De.totalDocuments,totalBytes:De.totalBytes}),Promise.resolve(new Set);I._updateProgress(Sm(O));const U=new E_(O,l.localStore,p.Tt);let Y=yield p.yc();for(;Y;){const De=yield U.Bu(Y);De&&I._updateProgress(De),Y=yield p.yc()}const ue=yield U.complete();return yield Du(l,ue.Uu,void 0),yield function(De,We){const st=L(De);return st.persistence.runTransaction("Save bundle","readwrite",_t=>st.$s.saveBundleMetadata(_t,We))}(l.localStore,O),I._completeWith(ue.progress),Promise.resolve(ue.qu)}catch(O){return Lu("SyncEngine",`Loading bundle failed with ${O}`),I._failWith(O),Promise.resolve(new Set)}var De}),function(l,p,I){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Op(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function rw(n,e){return function Pp(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,s){const a=L(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.$s.getNamedQuery(l,s))}(yield Np(n),e)}))}(Xi(n=Kn(n,Wr)),e).then(t=>t?new Xs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Js(this,t):null)}}class Qp extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yp(new bu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return La.forKey(t,this.firestore,null)}}class v0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qp(e)}get(e){const t=Vc(e);return this._delegate.get(t).then(s=>new Od(this._firestore,new Ls(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Vc(e);return s?(Fc("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Vc(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Vc(e);return this._delegate.delete(t),this}}class Ey{constructor(e){this._delegate=e}set(e,t,s){const a=Vc(e);return s?(Fc("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Vc(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Vc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dl{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lc(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Dl.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new Dl(e,new Qp(e),t),a.set(t,l)),l}}Dl.INSTANCES=new WeakMap;class La{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qp(e)}static forPath(e,t,s){if(e.length%2!=0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new La(t,new ti(t._delegate,s,new St(e)))}static forKey(e,t,s){return new La(t,new ti(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Pd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pd(this.firestore,B_(this._delegate,e))}catch(t){throw Vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,At.m9)(e))instanceof ti&&Jm(this._delegate,e)}set(e,t){t=Fc("DocumentReference.set",t);try{return t?gy(this._delegate,e,t):gy(this._delegate,e)}catch(s){throw Vo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Zp(this._delegate,e):Zp(this._delegate,e,t,...s)}catch(a){throw Vo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function s0(n){return kc(Kn(n.firestore,Wr),[new Yl(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=Xp(e),s=wy(e,a=>new Od(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Kp(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Wp(n){n=Kn(n,ti);const e=Kn(n.firestore,Wr),t=Xi(e),s=new Pc(e);return function zE(n,e){const t=new Qe;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(a,l,p){try{const I=yield function(O,U){const Y=L(O);return Y.persistence.runTransaction("read document","readonly",ue=>Y.localDocuments.getDocument(ue,U))}(a,l);I.isFoundDocument()?p.resolve(I):I.isNoDocument()?p.resolve(null):p.reject(new te(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const O=yd(I,`Failed to get document '${l} from cache`);p.reject(O)}}),function(a,l,p){return s.apply(this,arguments)})(yield Np(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Ls(e,s,n._key,a,new rc(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qp(n){n=Kn(n,ti);const e=Kn(n.firestore,Wr);return WE(Xi(e),n._key,{source:"server"}).then(t=>Jh(e,n,t))}(this._delegate):function mw(n){n=Kn(n,ti);const e=Kn(n.firestore,Wr);return WE(Xi(e),n._key).then(t=>Jh(e,n,t))}(this._delegate),t.then(s=>new Od(this.firestore,new Ls(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new La(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}function Vo(n,e,t){return n.message=n.message.replace(e,t),n}function Xp(n){for(const e of n)if("object"==typeof e&&!g0(e))return e;return{}}function wy(n,e){var t,s;let a;return a=g0(n[0])?n[0]:g0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Od{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return n0(this._delegate,e._delegate)}}class Lc extends Od{data(e){const t=this._delegate.data(e);return function b(n,e){n||d()}(void 0!==t),t}}class Js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qp(e)}where(e,t,s){try{return new Js(this.firestore,Oc(this._delegate,function Yw(n,e,t){const s=e,a=Bp("where",n);return Zh._create(a,s,t)}(e,t,s)))}catch(a){throw Vo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Js(this.firestore,Oc(this._delegate,function X_(n,e="asc"){const t=e,s=Bp("orderBy",n);return jp._create(s,t)}(e,t)))}catch(s){throw Vo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Js(this.firestore,Oc(this._delegate,function lw(n){return U_("limit",n),$p._create("limit",n,"F")}(e)))}catch(t){throw Vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Js(this.firestore,Oc(this._delegate,function dw(n){return U_("limitToLast",n),$p._create("limitToLast",n,"L")}(e)))}catch(t){throw Vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Js(this.firestore,Oc(this._delegate,function hw(...n){return Hp._create("startAt",n,!0)}(...e)))}catch(t){throw Vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Js(this.firestore,Oc(this._delegate,function fw(...n){return Hp._create("startAfter",n,!1)}(...e)))}catch(t){throw Vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Js(this.firestore,Oc(this._delegate,function Kh(...n){return Gp._create("endBefore",n,!1)}(...e)))}catch(t){throw Vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Js(this.firestore,Oc(this._delegate,function J_(...n){return Gp._create("endAt",n,!0)}(...e)))}catch(t){throw Vo(t,"endAt()","Query.endAt()")}}isEqual(e){return ey(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function vw(n){n=Kn(n,Xs);const e=Kn(n.firestore,Wr),t=Xi(e),s=new Pc(e);return function zw(n,e){const t=new Qe;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(a,l,p){try{const I=yield Ah(a,l,!0),O=new Mm(l,I.Yi),U=O.Hu(I.documents),Y=O.applyChanges(U,!1);p.resolve(Y.snapshot)}catch(I){const O=yd(I,`Failed to execute query '${l} against cache`);p.reject(O)}}),function(a,l,p){return s.apply(this,arguments)})(yield Np(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Cu(e,s,n,a))}(this._delegate):"server"===e?.source?function r0(n){n=Kn(n,Xs);const e=Kn(n.firestore,Wr),t=Xi(e),s=new Pc(e);return qE(t,n._query,{source:"server"}).then(a=>new Cu(e,s,n,a))}(this._delegate):function yw(n){n=Kn(n,Xs);const e=Kn(n.firestore,Wr),t=Xi(e),s=new Pc(e);return cy(n._query),qE(t,n._query).then(a=>new Cu(e,s,n,a))}(this._delegate),t.then(s=>new Jp(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Xp(e),s=wy(e,a=>new Jp(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Kp(this._delegate,t,s)}withConverter(e){return new Js(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}class rI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Jp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rI(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Lc(this._firestore,s))})}isEqual(e){return n0(this._delegate,e._delegate)}}class Pd extends Js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new La(this.firestore,e):null}doc(e){try{return new La(this.firestore,void 0===e?Fp(this._delegate):Fp(this._delegate,e))}catch(t){throw Vo(t,"doc()","CollectionReference.doc()")}}add(e){return function my(n,e){const t=Kn(n.firestore,Wr),s=Fp(n),a=Yh(n.converter,e);return kc(t,[Ad(Il(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,gi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new La(this.firestore,t))}isEqual(e){return Jm(this._delegate,e._delegate)}withConverter(e){return new Pd(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}function Vc(n){return Kn(n,ti)}class Uc{constructor(...e){this._delegate=new tc(...e)}static documentId(){return new Uc(pi.keyField().canonicalString())}isEqual(e){return(e=(0,At.m9)(e))instanceof tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function l0(){return new Nc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bl(e)}static delete(){const e=function c0(){return new $h("deleteField")}();return e._methodName="FieldValue.delete",new bl(e)}static arrayUnion(...e){const t=function d0(...n){return new W_("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bl(t)}static arrayRemove(...e){const t=function ww(...n){return new aw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bl(t)}static increment(e){const t=function h0(n){return new Kw("increment",n)}(e);return t._methodName="FieldValue.increment",new bl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _0={Firestore:Nd,GeoPoint:Lp,Timestamp:Ar,Blob:Yp,Transaction:v0,WriteBatch:Ey,DocumentReference:La,DocumentSnapshot:Od,Query:Js,QueryDocumentSnapshot:Lc,QuerySnapshot:Jp,CollectionReference:Pd,FieldPath:Uc,FieldValue:bl,setLogLevel:function _y(n){!function df(n){ei.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Cw(n,e){return function bw(n,e=io.z){return new ye.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(n,e)}function Dy(n,e){return Cw(n,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function eg(n,e){return Dy(n,e).pipe((0,bs.O)(void 0),Ho(),(0,se.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,I)=>{const O=a.find(Y=>Y.doc.ref.isEqual(p.ref)),U=t?.payload.docs.find(Y=>Y.ref.isEqual(p.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(p.metadata)||!O&&U&&JSON.stringify(U.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:I,newIndex:I,type:"modified",doc:p}})}),l}))}function by(n,e,t){return eg(n,t).pipe((0,hs.R)((s,a)=>function E0(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function w0(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Cy(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Cy(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Cy(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),function fs(n,e=js.y){return n=n??Ts,(0,so.e)((t,s)=>{let a,l=!0;t.subscribe((0,Cs.x)(s,p=>{const I=e(p);(l||!n(a,I))&&(l=!1,a=I,s.next(p))}))})}(),(0,se.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Cy(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function Ty(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function iI(n){(function Iy(n,e){n.INTERNAL.registerComponent(new wt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},_0)))})(n,(e,t)=>new Nd(e,t,new y0)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(ps.Z);class I0{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=eg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,bs.O)(void 0),Ho(),(0,et.h)(([s,a])=>a.length>0||!s),(0,se.U)(([s,a])=>a),ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,hs.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ty(e);return by(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return Dy(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ke.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(ke.iC)}add(e){return this.ref.add(e)}doc(e){return new D0(this.ref.doc(e),this.afs)}}class D0{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=Ay(s,t);return new I0(a,l,this.afs)}snapshotChanges(){return function Tw(n,e){return Cw(n,e).pipe((0,bs.O)(void 0),Ho(),(0,se.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ce.D)(this.ref.get(e)).pipe(ke.iC)}}class b0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eg(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,et.h)(t=>t.length>0),ke.iC):eg(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,hs.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Ty(e);return by(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return Dy(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ke.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(ke.iC)}}const C0=new v.OlP("angularfire2.enableFirestorePersistence"),Sy=new v.OlP("angularfire2.firestore.persistenceSettings"),T0=new v.OlP("angularfire2.firestore.settings"),S0=new v.OlP("angularfire2.firestore.use-emulator");function Ay(n,e=(t=>t)){return{query:e(n),ref:n}}let A0=(()=>{class n{constructor(t,s,a,l,p,I,O,U,Y,ue,De,We,st,_t,Bt,Yn,ni){this.schedulers=O;const mn=(0,H.on)(t,I,s),fn=Y;ue&&$o(mn,I,De,st,_t,Bt,We,Yn),[this.firestore,this.persistenceEnabled$]=(0,H.cc)(`${mn.name}.firestore`,"AngularFirestore",mn.name,()=>{const yn=I.runOutsideAngular(()=>mn.firestore());if(l&&yn.settings(l),fn&&yn.useEmulator(...fn),a&&!(0,Ke.PM)(p)){const Tn=()=>{try{return(0,Ce.D)(yn.enablePersistence(U||void 0).then(()=>!0,()=>!1))}catch(qr){return typeof console<"u"&&console.warn(qr),(0,he.of)(!1)}};return[yn,I.runOutsideAngular(Tn)]}return[yn,(0,he.of)(!1)]},[l,fn,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=Ay(a,s),I=this.schedulers.ngZone.run(()=>l);return new I0(I,p,this)}collectionGroup(t,s){const a=s||(p=>p),l=this.firestore.collectionGroup(t);return new b0(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new D0(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(H.Dh),v.LFG(H.xv,8),v.LFG(C0,8),v.LFG(T0,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ke.HU),v.LFG(Sy,8),v.LFG(S0,8),v.LFG(ds,8),v.LFG(Ia,8),v.LFG(ia,8),v.LFG(Si,8),v.LFG(Io,8),v.LFG(Ai,8),v.LFG($i,8),v.LFG(to,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sw=(()=>{class n{constructor(){no.Z.registerVersion("angularfire",ke.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:C0,useValue:!0},{provide:Sy,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[A0]}),n})();var Cr=j(433);const ef={production:!0,firebaseConfig:{apiKey:"AIzaSyC18SYhiI6FJ8ngA0EmXAbXl07rnUXHMKA",authDomain:"exam-project-46928.firebaseapp.com",projectId:"exam-project-46928",storageBucket:"exam-project-46928.appspot.com",messagingSenderId:"1062978260998",appId:"1:1062978260998:web:ee6a68f6b26523862bf387"}};var sI=j(8395),Vs=j(2435),oI=j(5114),Aw=j(1135);class _a{constructor(e,t,s,a){this.afs=e,this.afAuth=t,this.router=s,this.ngZone=a,this.user$=new Aw.X(null),this.loggedIn$=new Aw.X(!1),this.afAuth.authState.subscribe(l=>{l?(this.userData=l,this.user$.next(l),this.loggedIn$.next(!0),localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(this.loggedIn$.next(!1),localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(e,t){return this.afAuth.signInWithEmailAndPassword(e,t).then(s=>{this.SetUserData(s.user),this.afAuth.authState.subscribe(a=>{a&&(this.loggedIn$.next(!0),this.router.navigate(["dashboard"]))})}).catch(s=>{window.alert(s.message)})}SignUp(e,t,s){return this.afAuth.createUserWithEmailAndPassword(e,t).then(a=>{this.SendVerificationMail(),this.afAuth.currentUser.then(l=>{l?.updateProfile({displayName:s}),this.SetUserData(a.user)})}).catch(a=>{window.alert(a.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.loggedIn$.next(!0),this.router.navigate(["dashboard"])})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new oI.Q).then(e=>{this.loggedIn$.next(!0),this.router.navigate(["/dashboard"])})}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(t=>{this.loggedIn$.next(!0),this.router.navigate(["/dashboard"]),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.loggedIn$.next(!1),this.router.navigate(["login"])})}}_a.\u0275fac=function(e){return new(e||_a)(v.LFG(A0),v.LFG(ds),v.LFG(Vs.F0),v.LFG(v.R0b))},_a.\u0275prov=v.Yz7({token:_a,factory:_a.\u0275fac,providedIn:"root"});class tg{constructor(e,t,s){this.templateRef=e,this.auth=t,this.viewContainer=s}ngOnInit(){this.auth.loggedIn$.subscribe(e=>{e&&this.isLogged||!e&&!this.isLogged?(this.viewContainer.clear(),this.el=this.viewContainer.createEmbeddedView(this.templateRef)):this.viewContainer.clear()})}ngOnDestroy(){this.viewContainer.clear()}}tg.\u0275fac=function(e){return new(e||tg)(v.Y36(v.Rgc),v.Y36(_a),v.Y36(v.s_b))},tg.\u0275dir=v.lG2({type:tg,selectors:[["","isLogged",""]],inputs:{isLogged:"isLogged"}});const aI=function(){return{exact:!0}};function uI(n,e){if(1&n&&(v.TgZ(0,"li")(1,"a",12),v._uU(2),v.qZA()()),2&n){const t=e.$implicit;v.xp6(1),v.Q6J("routerLink",t.path)("routerLinkActiveOptions",v.DdM(3,aI)),v.xp6(1),v.hij(" ",t.name," ")}}function ng(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"li")(1,"button",13),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.logout())}),v._uU(2," Log out "),v.qZA()()}}class rg{constructor(e,t){this.auth=e,this.router=t,this.routes=[{name:"Dashboard",path:"dashboard"}]}logout(){this.auth.SignOut(),this.router.navigate(["login"])}}rg.\u0275fac=function(e){return new(e||rg)(v.Y36(_a),v.Y36(Vs.F0))},rg.\u0275cmp=v.Xpm({type:rg,selectors:[["app-navbar"]],decls:13,vars:2,consts:[[1,"border-gray-200","px-2","sm:px-4","py-2.5","bg-primary"],[1,"container","flex","flex-wrap","items-center","justify-between","mx-auto"],["routerLink","/",1,"flex","items-center"],["src","/assets/images/logo.png","alt","EXA Logo",1,"h-28","sm:h-9"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default","aria-expanded","false",1,"inline-flex","items-center","p-2","ml-3","text-sm","rounded-lg","md:hidden","focus:outline-none","focus:ring-2","focus:ring-gray-200","text-gray-400","hover:bg-gray-700","focus:ring-gray-600"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["fill-rule","evenodd","d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule","evenodd"],["id","navbar-default",1,"hidden","w-full","md:block","md:w-auto"],[1,"flex","flex-col","border","md:flex-row","md:space-x-8","md:mt-0","md:text-sm","md:font-medium","md:border-0"],[4,"ngFor","ngForOf"],[4,"isLogged"],["routerLinkActive","active",1,"block","py-2","pl-3","pr-4","rounded","md:border-0","md:p-0","text-gray-400","md:hover:text-white","hover:bg-gray-700","hover:text-white","md:hover:bg-transparent",3,"routerLink","routerLinkActiveOptions"],[1,"block","py-2","pl-3","pr-4","rounded","md:border-0","md:p-0","text-gray-400","md:hover:text-white","hover:bg-gray-700","hover:text-white","md:hover:bg-transparent",3,"click"]],template:function(e,t){1&e&&(v.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),v._UZ(3,"img",3),v.qZA(),v.TgZ(4,"button",4)(5,"span",5),v._uU(6,"Open main menu"),v.qZA(),v.O4$(),v.TgZ(7,"svg",6),v._UZ(8,"path",7),v.qZA()(),v.kcU(),v.TgZ(9,"div",8)(10,"ul",9),v.YNc(11,uI,3,4,"li",10),v.YNc(12,ng,3,0,"li",11),v.qZA()()()()),2&e&&(v.xp6(11),v.Q6J("ngForOf",t.routes),v.xp6(1),v.Q6J("isLogged",!0))},dependencies:[Ke.sg,Vs.rH,Vs.Od,tg],styles:[".active[_ngcontent-%COMP%]{font-weight:700;color:#fff}"]});class Bc{}Bc.\u0275fac=function(e){return new(e||Bc)},Bc.\u0275cmp=v.Xpm({type:Bc,selectors:[["app-main"]],ngContentSelectors:["*"],decls:2,vars:0,template:function(e,t){1&e&&(v.F$t(),v._UZ(0,"app-navbar"),v.Hsn(1))},dependencies:[rg]});class kd{constructor(){this.title="exam"}}function M0(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"form",5)(1,"div",6)(2,"label",7),v._uU(3,"E-mail"),v.qZA(),v._UZ(4,"input",8),v.qZA(),v.TgZ(5,"div",9)(6,"button",10),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.forgetPass())}),v._uU(7," Recuperar palavra-passe "),v.qZA()()()}}function cI(n,e){1&n&&(v.TgZ(0,"form",5)(1,"div",6)(2,"label",11),v._uU(3,"Nova palavra-passe"),v.qZA(),v._UZ(4,"input",12),v.qZA(),v.TgZ(5,"div",6)(6,"label",11),v._uU(7," Repete a tua nova palavra-passe "),v.qZA(),v._UZ(8,"input",13),v.qZA(),v.TgZ(9,"div",9)(10,"button",14),v._uU(11," Guardar "),v.qZA()()())}kd.\u0275fac=function(e){return new(e||kd)},kd.\u0275cmp=v.Xpm({type:kd,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(v.TgZ(0,"app-main"),v._UZ(1,"router-outlet"),v.qZA())},dependencies:[Vs.lC,Bc]});class Cl{constructor(){this.step=1}forgetPass(){this.step=2}}Cl.\u0275fac=function(e){return new(e||Cl)},Cl.\u0275cmp=v.Xpm({type:Cl,selectors:[["app-forget-pass"]],decls:7,vars:2,consts:[[1,"py-20","container"],["src","/assets/images/aww.png",1,"h-48","mx-auto","-mb-2"],[1,"max-w-2xl","bg-[#F2F2F2]","shadow-2xl","py-6","mx-auto"],["src","/assets/images/tlogo.png",1,"h-20","mx-auto","mb-6"],["class","max-w-[80%] mx-auto mb-20",4,"ngIf"],[1,"max-w-[80%]","mx-auto","mb-20"],[1,"flex","flex-col","mb-6"],["for","email",1,"font-bold","text-lg"],["type","email","placeholder","Enter Your E-mail",1,"border","border-[#4472c4]","p-2","w-full"],[1,"flex","justify-center"],["type","button",1,"button","text-xl",3,"click"],["for","password",1,"font-bold","text-lg"],["type","password","placeholder","Nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],["type","password","placeholder","Repete a tua nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],["type","button","routerLink","/dashboard",1,"button","text-xl"]],template:function(e,t){1&e&&(v.TgZ(0,"section")(1,"div",0),v._UZ(2,"img",1),v.TgZ(3,"div",2),v._UZ(4,"img",3),v.YNc(5,M0,8,0,"form",4),v.YNc(6,cI,12,0,"form",4),v.qZA()()()),2&e&&(v.xp6(5),v.Q6J("ngIf",1===t.step),v.xp6(1),v.Q6J("ngIf",2===t.step))},dependencies:[Ke.O5,Cr._Y,Cr.JL,Cr.F,Vs.rH]});class Fd{constructor(e,t,s){this.router=e,this.auth=t,this.fb=s,this.form=this.fb.group({username:[""],password:[""]})}login(){const{username:e,password:t}=this.form.value;this.auth.SignIn(e,t)}}Fd.\u0275fac=function(e){return new(e||Fd)(v.Y36(Vs.F0),v.Y36(_a),v.Y36(Cr.qu))},Fd.\u0275cmp=v.Xpm({type:Fd,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container","flex","justify-between","py-10"],[1,"flex","flex-col","max-w-lg","w-full"],[1,"text-4xl","font-bold","mb-8"],[1,"w-full",3,"formGroup"],[1,"flex","flex-col","mb-3"],["for","email",1,"font-bold","text-lg","pt-3"],["type","email","formControlName","username","placeholder","Enter Your E-mail",1,"border","border-[#4472c4]","p-2","w-full"],[1,"mb-6","flex","flex-col"],["for","password",1,"font-bold","text-lg"],["type","password","formControlName","password","placeholder","Password",1,"border","border-[#4472c4]","p-2","w-full"],[1,"flex","items-center","justify-between","mb-10"],[1,"button","text-xl",3,"disabled","click"],["routerLink","/register",1,"mb-4"],[1,"underline","text-blue-500"],["routerLink","/forget-password"],[1,"fixed","right-0","top-[3.5rem]"],["src","/assets/images/login-img.png","alt","hi",1,"h-[100vh]","object-cover","w-[50vw]"]],template:function(e,t){1&e&&(v.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),v._uU(3,"My personal data"),v.qZA(),v.TgZ(4,"form",3)(5,"div",4)(6,"label",5),v._uU(7,"E-mail"),v.qZA(),v._UZ(8,"input",6),v.qZA(),v.TgZ(9,"div",7)(10,"label",8),v._uU(11,"Password"),v.qZA(),v._UZ(12,"input",9),v.qZA(),v.TgZ(13,"div",10)(14,"button",11),v.NdJ("click",function(){return t.login()}),v._uU(15," Keep "),v.qZA()()(),v.TgZ(16,"a",12)(17,"p",13),v._uU(18,"Ainda n\xe3o tens conta? Cria agora"),v.qZA()(),v.TgZ(19,"a",14)(20,"p",13),v._uU(21,"Esqueci-me da palavra-passe"),v.qZA()()(),v._UZ(22,"div"),v.qZA(),v.TgZ(23,"div",15),v._UZ(24,"img",16),v.qZA()),2&e&&(v.xp6(4),v.Q6J("formGroup",t.form),v.xp6(10),v.Q6J("disabled",!t.form.valid))},dependencies:[Cr._Y,Cr.Fj,Cr.JJ,Cr.JL,Cr.sg,Cr.u,Vs.rH]});class tf{constructor(e,t,s){this.router=e,this.auth=t,this.fb=s,this.isLoading=!1,this.form=this.fb.group({name:[""],username:[""],password:[""]}),console.log(ef),ef.production||this.form.setValue({name:"test",username:"aib.tmkm@gmail.com",password:"123456"})}login(){this.isLoading=!0;const{username:e,password:t,name:s}=this.form.value;this.auth.SignUp(e,t,s).then(()=>{this.router.navigate(["dashboard"]),this.isLoading=!1}).catch(()=>{this.isLoading=!1})}}tf.\u0275fac=function(e){return new(e||tf)(v.Y36(Vs.F0),v.Y36(_a),v.Y36(Cr.qu))},tf.\u0275cmp=v.Xpm({type:tf,selectors:[["app-register"]],decls:31,vars:3,consts:[[1,"container","flex","justify-between","py-10"],[1,"flex","flex-col","max-w-lg","w-full"],[1,"text-4xl","font-bold","mb-8"],[1,"w-full","flex","flex-col","mb-6",3,"formGroup"],[1,"flex","flex-col","mb-3"],["for","email",1,"font-bold","text-lg"],["type","text","formControlName","name","placeholder","Enter Your Name",1,"border","border-[#4472c4]","p-2","w-full"],["type","email","formControlName","username","placeholder","Enter Your E-mail",1,"border","border-[#4472c4]","p-2","w-full"],["for","password",1,"font-bold","text-lg"],["type","password","formControlName","password","placeholder","Nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],["type","password","placeholder","Repete a tua nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],[1,"flex","mb-10"],[1,"button",3,"disabled","click"],["routerLink","/login"],[1,"underline","text-blue-500"],[1,"fixed","right-0","top-[4.5rem]"],["src","/assets/images/login-img.png","alt","hi",1,"h-[100vh]","object-cover","w-[50vw]"]],template:function(e,t){1&e&&(v.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h1",2),v._uU(4,"My personal data"),v.qZA(),v.TgZ(5,"form",3)(6,"div",4)(7,"label",5),v._uU(8,"Name"),v.qZA(),v._UZ(9,"input",6),v.qZA(),v.TgZ(10,"div",4)(11,"label",5),v._uU(12,"E-mail"),v.qZA(),v._UZ(13,"input",7),v.qZA(),v.TgZ(14,"div",4)(15,"label",8),v._uU(16,"Nova palavra-passe"),v.qZA(),v._UZ(17,"input",9),v.qZA(),v.TgZ(18,"div",4)(19,"label",8),v._uU(20," Repete a tua nova palavra-passe "),v.qZA(),v._UZ(21,"input",10),v.qZA()(),v.TgZ(22,"div",11)(23,"button",12),v.NdJ("click",function(){return t.login()}),v._uU(24),v.qZA()(),v.TgZ(25,"a",13)(26,"p",14),v._uU(27,"Already have an account? Log in"),v.qZA()()(),v._UZ(28,"div"),v.qZA(),v.TgZ(29,"div",15),v._UZ(30,"img",16),v.qZA()()),2&e&&(v.xp6(5),v.Q6J("formGroup",t.form),v.xp6(18),v.Q6J("disabled",t.isLoading),v.xp6(1),v.hij(" ",t.isLoading?"Loading...":"Continue"," "))},dependencies:[Cr._Y,Cr.Fj,Cr.JJ,Cr.JL,Cr.sg,Cr.u,Vs.rH]});class sc{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return this.authService.loggedIn$.pipe((0,se.U)(s=>(console.log(s),!s||(this.router.navigate(["dashboard"]),!1))))}}sc.\u0275fac=function(e){return new(e||sc)(v.LFG(_a),v.LFG(Vs.F0))},sc.\u0275prov=v.Yz7({token:sc,factory:sc.\u0275fac,providedIn:"root"});const lI=function(n){return{"box-active":n}};function dI(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",9),v.NdJ("click",function(){const l=v.CHM(t).index,p=v.oxw(2);return v.KtG(p.selectCard(l))}),v._UZ(1,"img",10),v.TgZ(2,"strong"),v._uU(3),v.qZA()()}if(2&n){const t=e.$implicit;v.Q6J("ngClass",v.VKq(3,lI,t.selected)),v.xp6(1),v.Q6J("src",t.icon,v.LSH),v.xp6(2),v.hij(" ",t.name," ")}}const xw=function(){return{isExisting:!0}};function Mw(n,e){if(1&n&&(v.TgZ(0,"section")(1,"div",1)(2,"div",2)(3,"h1",3),v._uU(4),v.qZA(),v.TgZ(5,"p",4),v._uU(6,"ESCOLHE A(S) TUA(S) DISCIPLINAS"),v.qZA()(),v.TgZ(7,"div",5),v.YNc(8,dI,4,5,"div",6),v.qZA(),v.TgZ(9,"div",7)(10,"button",8),v._uU(11," Come\xe7ar "),v.qZA()()()()),2&n){const t=v.oxw();v.xp6(4),v.hij(" Bem-vindo ao EXA, (",null==t.user?null:t.user.displayName,") "),v.xp6(4),v.Q6J("ngForOf",t.cards),v.xp6(2),v.Q6J("queryParams",v.DdM(3,xw))}}function ig(n,e){if(1&n&&(v.TgZ(0,"option",28),v._uU(1),v.qZA()),2&n){const t=e.$implicit;v.Q6J("value",t.name),v.xp6(1),v.hij(" ",t.name," ")}}function Rw(n,e){if(1&n&&(v.TgZ(0,"section")(1,"div",11)(2,"div",12)(3,"h1",13),v._uU(4,"Ol\xe1, (User name)"),v.qZA(),v.TgZ(5,"h4",14),v._uU(6,"Que exames queres praticar hoje?"),v.qZA(),v.TgZ(7,"select",15),v.YNc(8,ig,2,2,"option",16),v.qZA()()(),v.TgZ(9,"div",17)(10,"div",18)(11,"div",19)(12,"h2",20),v._uU(13,"O meu perfil"),v.qZA(),v._UZ(14,"img",21),v.TgZ(15,"button",22),v._uU(16," Alterar dados "),v.qZA()(),v.TgZ(17,"div",19)(18,"h2",23),v._uU(19," Praticar escolhas m\xfaltiplas "),v.qZA(),v._UZ(20,"img",24),v.TgZ(21,"button",25),v._uU(22," Come\xe7ar "),v.qZA()(),v.TgZ(23,"div",19)(24,"h2",26),v._uU(25," Fazer "),v._UZ(26,"br"),v._uU(27," um exame "),v.qZA(),v._UZ(28,"img",24),v.TgZ(29,"button",27),v._uU(30," Escolher exame "),v.qZA()()()()()),2&n){const t=v.oxw();v.xp6(8),v.Q6J("ngForOf",t.cards)}}class sg{constructor(e,t){this.route=e,this.auth=t,this.isExisting=!0,this.cards=[{name:"Portugu\xeas",icon:"/assets/images/subjects/1.png",selected:!1},{name:"Matem\xe1tica A",icon:"/assets/images/subjects/2.png",selected:!1},{name:"Hist\xf3ria",icon:"/assets/images/subjects/3.png",selected:!1},{name:"Biologia e Geologia",icon:"/assets/images/subjects/4.png",selected:!1},{name:"Geografia",icon:"/assets/images/subjects/5.png",selected:!1},{name:"Filosofia",icon:"/assets/images/subjects/6.png",selected:!1},{name:"Economia A",icon:"/assets/images/subjects/7.png",selected:!1},{name:"F\xedsica e Qu\xedmica A",icon:"/assets/images/subjects/8.png",selected:!1}],this.user=null}ngOnInit(){this.auth.user$.subscribe(e=>{this.user=e}),this.route.queryParams.subscribe(e=>{this.isExisting="true"===e.isExisting})}selectCard(e){this.cards[e].selected=!this.cards[e].selected}}sg.\u0275fac=function(e){return new(e||sg)(v.Y36(Vs.gz),v.Y36(_a))},sg.\u0275cmp=v.Xpm({type:sg,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"text-center","py-10"],[1,"text-4xl","font-bold","mb-2"],[1,"text-[#6A99D0]","font-medium"],[1,"grid","grid-cols-4","gap-6","mb-10","max-w-2xl","mx-auto"],["class","p-6 bg-[#F2F2F2] text-center border-[2px] cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["routerLink","/dashboard",1,"button",3,"queryParams"],[1,"p-6","bg-[#F2F2F2]","text-center","border-[2px]","cursor-pointer",3,"ngClass","click"],[1,"mx-auto","max-h-12","mb-4",3,"src"],[1,"bg-[#deebf7]","h-52"],[1,"container","flex","flex-col","items-center","py-10"],[1,"text-5xl","font-bold","mb-2"],[1,"text-lg","font-bold","mb-4"],[1,"py-2","px-6","shadow-md"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-white","pt-9","container"],[1,"flex","items-stretch","justify-center","gap-10"],[1,"d-card"],[1,"text-2xl","font-bold","pb-4"],["src","/assets/images/hi-img.png","alt","hi-img"],["routerLink","/edit-profile",1,"bg-[#00216e]","text-white","font-semibold","py-4","px-8","rounded-2xl"],[1,"text-2xl","font-bold","pb-4","text-[#4472c4]"],["src","/assets/images/pc-1.png","alt","pc-1",1,"pb-4","pl-5"],[1,"bg-[#4472c4]","text-white","font-semibold","py-4","px-12","rounded-2xl"],[1,"text-2xl","font-bold","pb-4","text-[#70ad47]"],["routerLink","/exam/choose",1,"bg-[#70ad47]","text-white","font-semibold","py-4","px-8","rounded-2xl"],[3,"value"]],template:function(e,t){1&e&&(v.YNc(0,Mw,12,4,"section",0),v.YNc(1,Rw,31,1,"section",0)),2&e&&(v.Q6J("ngIf",!t.isExisting),v.xp6(1),v.Q6J("ngIf",t.isExisting))},dependencies:[Ke.mk,Ke.sg,Ke.O5,Cr.YN,Cr.Kr,Vs.rH],styles:[".d-card[_ngcontent-%COMP%]{flex:1 1 0%;--tw-bg-opacity: 1;background-color:rgb(242 242 242 / var(--tw-bg-opacity));padding:1.5rem 5rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:1rem}.d-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;object-fit:contain}.d-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.box-active[_ngcontent-%COMP%]{border:2px solid #4f71be}"]});class og{constructor(e,t,s){this.router=e,this.auth=t,this.fb=s,this.isLoading=!1,this.form=this.fb.group({name:[""],username:[""],password:[""]}),ef.production||this.form.setValue({name:"test",username:"aib.tmkm@gmail.com",password:"123456"})}login(){this.isLoading=!0;const{username:e,password:t,name:s}=this.form.value;this.auth.SignUp(e,t,s).then(()=>{this.router.navigate(["dashboard"]),this.isLoading=!1}).catch(()=>{this.isLoading=!1})}}function hI(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",8)(1,"div",9),v.NdJ("click",function(){const l=v.CHM(t).index,p=v.oxw(2);return v.KtG(p.selectPackage(l))}),v.TgZ(2,"span"),v._uU(3," \u2713 "),v.qZA()(),v.TgZ(4,"div",10)(5,"h3",11),v._uU(6),v.qZA(),v.TgZ(7,"p",12),v._uU(8),v.qZA(),v.TgZ(9,"p",13)(10,"del"),v._uU(11),v.qZA()(),v.TgZ(12,"div",14)(13,"button",15),v.NdJ("click",function(){const l=v.CHM(t).index,p=v.oxw(2);return v.KtG(p.selectPackage(l))}),v._uU(14),v.qZA()()()()}if(2&n){const t=e.$implicit;v.xp6(2),v.Gre("font-bold text-4xl group-hover:block ",t.selected?"!block":"hidden",""),v.Udp("color",t.color),v.xp6(3),v.Udp("color",t.color),v.xp6(1),v.hij(" ",t.name," "),v.xp6(2),v.hij(" ",t.desc," "),v.xp6(1),v.Udp("color",t.color),v.xp6(2),v.hij(" ",t.originalPrice," "),v.xp6(2),v.Udp("background-color",t.color),v.xp6(1),v.hij(" ",t.price," ")}}og.\u0275fac=function(e){return new(e||og)(v.Y36(Vs.F0),v.Y36(_a),v.Y36(Cr.qu))},og.\u0275cmp=v.Xpm({type:og,selectors:[["app-edit-profile"]],decls:28,vars:3,consts:[[1,"container","flex","justify-between","py-10"],[1,"flex","flex-col","max-w-lg","w-full"],[1,"text-4xl","font-bold","mb-8"],[1,"w-full","flex","flex-col","mb-6",3,"formGroup"],[1,"flex","flex-col","mb-3"],["for","email",1,"font-bold","text-lg"],["type","text","formControlName","name","placeholder","Enter Your Name",1,"border","border-[#4472c4]","p-2","w-full"],["type","email","formControlName","username","placeholder","Enter Your E-mail",1,"border","border-[#4472c4]","p-2","w-full"],["for","password",1,"font-bold","text-lg"],["type","password","formControlName","password","placeholder","Nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],["type","password","placeholder","Repete a tua nova palavra-passe",1,"border","border-[#4472c4]","p-2","w-full"],[1,"flex","mb-10"],[1,"button",3,"disabled"],[1,"fixed","right-0","top-[4.5rem]"],["src","/assets/images/login-img.png","alt","hi",1,"h-[100vh]","object-cover","w-[50vw]"]],template:function(e,t){1&e&&(v.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h1",2),v._uU(4,"My personal data"),v.qZA(),v.TgZ(5,"form",3)(6,"div",4)(7,"label",5),v._uU(8,"Name"),v.qZA(),v._UZ(9,"input",6),v.qZA(),v.TgZ(10,"div",4)(11,"label",5),v._uU(12,"E-mail"),v.qZA(),v._UZ(13,"input",7),v.qZA(),v.TgZ(14,"div",4)(15,"label",8),v._uU(16,"Nova palavra-passe"),v.qZA(),v._UZ(17,"input",9),v.qZA(),v.TgZ(18,"div",4)(19,"label",8),v._uU(20," Repete a tua nova palavra-passe "),v.qZA(),v._UZ(21,"input",10),v.qZA()(),v.TgZ(22,"div",11)(23,"button",12),v._uU(24),v.qZA()()(),v._UZ(25,"div"),v.qZA(),v.TgZ(26,"div",13),v._UZ(27,"img",14),v.qZA()()),2&e&&(v.xp6(5),v.Q6J("formGroup",t.form),v.xp6(18),v.Q6J("disabled",t.isLoading),v.xp6(1),v.hij(" ",t.isLoading?"Loading...":"Continue"," "))},dependencies:[Cr._Y,Cr.Fj,Cr.JJ,Cr.JL,Cr.sg,Cr.u]});const Nw=function(){return{step:2}};function Ow(n,e){if(1&n&&(v.TgZ(0,"section")(1,"div",1)(2,"h1",2),v._uU(3,"Pick your plan"),v.qZA(),v.TgZ(4,"div",3),v.YNc(5,hI,15,15,"div",4),v.qZA(),v.TgZ(6,"p",5),v._uU(7," * Oferta limitada aos primeiros 1,000 alunos a efetuar registo no EXA "),v.qZA(),v.TgZ(8,"div",6)(9,"button",7),v._uU(10," Continue "),v.qZA()()()()),2&n){const t=v.oxw();v.xp6(5),v.Q6J("ngForOf",t.packages),v.xp6(4),v.Q6J("queryParams",v.DdM(2,Nw))}}function Pw(n,e){1&n&&(v.TgZ(0,"section")(1,"div",16)(2,"div",17)(3,"h1",18),v._uU(4,"Pagamento"),v.qZA(),v.TgZ(5,"form",19)(6,"div",20)(7,"label",21),v._uU(8,"Plano selecionado "),v.qZA(),v._UZ(9,"input",22),v.qZA(),v.TgZ(10,"div",20)(11,"label",23),v._uU(12,"N\xfamero do cart\xe3o "),v.qZA(),v._UZ(13,"input",24),v.qZA(),v.TgZ(14,"div",25)(15,"div",26)(16,"label",27),v._uU(17,"Data de validade"),v.qZA(),v._UZ(18,"input",28),v.qZA(),v.TgZ(19,"div",26)(20,"label",29),v._uU(21,"CSV"),v.qZA(),v._UZ(22,"input",30),v.qZA()(),v.TgZ(23,"div",31)(24,"label",23),v._uU(25,"Nome no cart\xe3o"),v.qZA(),v._UZ(26,"input",32),v.qZA()(),v.TgZ(27,"div",33)(28,"button",34),v._uU(29," Efetuar pagamento e alterar subscri\xe7\xe3o "),v.qZA()(),v.TgZ(30,"p",35),v._uU(31," * Oferta limitada aos primeiros 1,000 alunos a efetuar registo no EXA "),v.qZA()(),v._UZ(32,"div"),v.qZA(),v.TgZ(33,"div",36),v._UZ(34,"img",37),v.qZA()())}class ag{constructor(e){this.route=e,this.step=1,this.packages=[{name:"B\xe1sico",desc:"1 Disciplina | 10 Exames | 1 M\xeas",originalPrice:"7,99\u20ac/m\xeas",price:"4,99\u20ac/m\xeas*",color:"#00216e",selected:!0},{name:"Premium",desc:"2 Disciplinas | 20 Exames | 1 Meses",originalPrice:"19,99\u20ac/m\xeas",price:"14,99\u20ac/m\xeas*",color:"#a6a6a6",selected:!1},{name:"Oferta limitada",desc:"Todas as Disciplinas | Todos os exames | 1 M\xeas",originalPrice:"29,99\u20ac/m\xeas",price:"24,99\u20ac/m\xeas*",color:"#70ad47",selected:!1}]}ngOnInit(){this.route.queryParams.subscribe(e=>{console.log(e),this.step=e.step?+e.step:1})}selectPackage(e){this.packages.forEach((t,s)=>{this.packages[s].selected=s===e})}}ag.\u0275fac=function(e){return new(e||ag)(v.Y36(Vs.gz))},ag.\u0275cmp=v.Xpm({type:ag,selectors:[["app-payment"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container","max-w-5xl","py-10"],[1,"text-4xl","font-bold","text-center","mb-20"],[1,"flex","justify-center","gap-3","mb-12"],["class","flex-1 relative group",4,"ngFor","ngForOf"],[1,"text-sm","text-center","mb-20"],[1,"flex","items-center","justify-center","mb-10"],["routerLink","/payment",1,"bg-[#70ad47]","py-2","px-8","text-white","text-xl","font-semibold","rounded-lg",3,"queryParams"],[1,"flex-1","relative","group"],[1,"cursor-pointer","flex","items-center","justify-center","w-[50px]","h-[50px]","border-2","border-blue-700","shadow-2xl","bg-white","absolute","right-1/2","top-0","z-10","translate-x-1/2","-translate-y-[90%]",3,"click"],[1,"text-center","shadow-lg","border-2","pt-8","px-6","rounded-[70px]","relative","flex","flex-col","bg-white"],[1,"text-2xl","font-bold"],[1,"mb-4","text-sm","min-h-[40px]"],[1,"font-bold","mb-4"],[1,"flex","justify-center"],[1,"text-lg","py-2","px-6","font-bold","text-white","rounded-full","-mb-6","w-2/3",3,"click"],[1,"container","flex","justify-between","py-10"],[1,"flex","flex-col","max-w-lg","w-full"],[1,"text-4xl","font-bold","mb-8"],[1,"w-full","flex","flex-col","mb-10"],[1,"mb-3","flex","flex-col"],["for","email",1,"font-bold","text-lg"],["type","email","placeholder","Premium (14,99\u20ac/m\xeas*) 2 disciplinas | 20 exames",1,"border","border-[#4472c4]","p-2"],["for","password",1,"font-bold","text-lg"],["type","text","placeholder","Data de subscri\xe7\xe3o",1,"border","border-[#4472c4]","p-2"],[1,"flex","gap-4","mb-3"],[1,"flex","flex-col","flex-1"],["for","date",1,"font-bold","text-lg"],["type","date",1,"border","border-[#4472c4]","p-2","w-full"],["for","text",1,"font-bold","text-lg"],["type","text",1,"border","border-[#4472c4]","p-2","w-full"],[1,"flex","flex-col"],["type","text","placeholder","Data de subscri\xe7\xe3o  + 1 mes",1,"border","border-[#4472c4]","p-2"],[1,"flex","mb-10"],["routerLink","/home",1,"bg-[#70ad47]","py-2","px-8","text-white","text-xl","font-semibold","rounded-lg"],[1,"text-sm","text-center"],[1,"fixed","right-0","top-[4.5rem]"],["src","/assets/images/login-img.png","alt","hi",1,"h-[100vh]","object-cover","w-[50vw]"]],template:function(e,t){1&e&&(v.YNc(0,Ow,11,3,"section",0),v.YNc(1,Pw,35,0,"section",0)),2&e&&(v.Q6J("ngIf",1===t.step),v.xp6(1),v.Q6J("ngIf",2===t.step))},dependencies:[Ke.sg,Ke.O5,Cr._Y,Cr.JL,Cr.F,Vs.rH]});class Ld{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!0!==this.authService.isLoggedIn&&this.router.navigate(["/login"]),!0}}Ld.\u0275fac=function(e){return new(e||Ld)(v.LFG(_a),v.LFG(Vs.F0))},Ld.\u0275prov=v.Yz7({token:Ld,factory:Ld.\u0275fac,providedIn:"root"});const R0=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",canActivate:[sc],component:Fd},{path:"forget-password",canActivate:[sc],component:Cl},{path:"register",canActivate:[sc],component:tf},{path:"",canActivate:[Ld],children:[{path:"home",redirectTo:"dashboard"},{path:"payment",component:ag},{path:"dashboard",component:sg},{path:"edit-profile",component:og},{path:"exam",loadChildren:()=>j.e(255).then(j.bind(j,3255)).then(n=>n.ExamModule)}]}];class Tl{}Tl.\u0275fac=function(e){return new(e||Tl)},Tl.\u0275mod=v.oAB({type:Tl}),Tl.\u0275inj=v.cJS({imports:[Vs.Bz.forRoot(R0,{useHash:!0}),Vs.Bz]});class nf{}nf.\u0275fac=function(e){return new(e||nf)},nf.\u0275mod=v.oAB({type:nf,bootstrap:[kd]}),nf.\u0275inj=v.cJS({providers:[_a],imports:[sI.m,g.b2,Cr.UX,H.hO.initializeApp(ef.firebaseConfig),oi,Sw,Tl]}),g.q6().bootstrapModule(nf).catch(n=>console.error(n))},8395:(It,Re,j)=>{j.d(Re,{m:()=>de});var g=j(6895),H=j(433),v=j(4650);class de{}de.\u0275fac=function(ye){return new(ye||de)},de.\u0275mod=v.oAB({type:de}),de.\u0275inj=v.cJS({imports:[g.ez,H.u5,g.ez,H.u5]})},1135:(It,Re,j)=>{j.d(Re,{X:()=>H});var g=j(7579);class H extends g.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const he=super._subscribe(de);return!he.closed&&de.next(this._value),he}getValue(){const{hasError:de,thrownError:he,_value:ye}=this;if(de)throw he;return this._throwIfClosed(),ye}next(de){super.next(this._value=de)}}},9751:(It,Re,j)=>{j.d(Re,{y:()=>Ie});var g=j(930),H=j(727),v=j(8822),de=j(9635),he=j(2416),ye=j(576),Ce=j(2806);let Ie=(()=>{class fe{constructor($e){$e&&(this._subscribe=$e)}lift($e){const nt=new fe;return nt.source=this,nt.operator=$e,nt}subscribe($e,nt,Dt){const Le=function se(fe){return fe&&fe instanceof g.Lv||function oe(fe){return fe&&(0,ye.m)(fe.next)&&(0,ye.m)(fe.error)&&(0,ye.m)(fe.complete)}(fe)&&(0,H.Nn)(fe)}($e)?$e:new g.Hp($e,nt,Dt);return(0,Ce.x)(()=>{const{operator:qe,source:Ze}=this;Le.add(qe?qe.call(Le,Ze):Ze?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe($e){try{return this._subscribe($e)}catch(nt){$e.error(nt)}}forEach($e,nt){return new(nt=Te(nt))((Dt,Le)=>{const qe=new g.Hp({next:Ze=>{try{$e(Ze)}catch(et){Le(et),qe.unsubscribe()}},error:Le,complete:Dt});this.subscribe(qe)})}_subscribe($e){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe($e)}[v.L](){return this}pipe(...$e){return(0,de.U)($e)(this)}toPromise($e){return new($e=Te($e))((nt,Dt)=>{let Le;this.subscribe(qe=>Le=qe,qe=>Dt(qe),()=>nt(Le))})}}return fe.create=tt=>new fe(tt),fe})();function Te(fe){var tt;return null!==(tt=fe??he.v.Promise)&&void 0!==tt?tt:Promise}},7579:(It,Re,j)=>{j.d(Re,{x:()=>Ce});var g=j(9751),H=j(727);const de=(0,j(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=j(8737),ye=j(2806);let Ce=(()=>{class Te extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const fe=new Ie(this,this);return fe.operator=se,fe}_throwIfClosed(){if(this.closed)throw new de}next(se){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(se)}})}error(se){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:fe}=this;for(;fe.length;)fe.shift().error(se)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:fe,isStopped:tt,observers:$e}=this;return fe||tt?H.Lc:(this.currentObservers=null,$e.push(se),new H.w0(()=>{this.currentObservers=null,(0,he.P)($e,se)}))}_checkFinalizedStatuses(se){const{hasError:fe,thrownError:tt,isStopped:$e}=this;fe?se.error(tt):$e&&se.complete()}asObservable(){const se=new g.y;return se.source=this,se}}return Te.create=(oe,se)=>new Ie(oe,se),Te})();class Ie extends Ce{constructor(oe,se){super(),this.destination=oe,this.source=se}next(oe){var se,fe;null===(fe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===fe||fe.call(se,oe)}error(oe){var se,fe;null===(fe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===fe||fe.call(se,oe)}complete(){var oe,se;null===(se=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===se||se.call(oe)}_subscribe(oe){var se,fe;return null!==(fe=null===(se=this.source)||void 0===se?void 0:se.subscribe(oe))&&void 0!==fe?fe:H.Lc}}},930:(It,Re,j)=>{j.d(Re,{Hp:()=>Dt,Lv:()=>fe});var g=j(576),H=j(727),v=j(2416),de=j(7849),he=j(5032);const ye=Te("C",void 0,void 0);function Te(ke,Ke,Be){return{kind:ke,value:Ke,error:Be}}var oe=j(3410),se=j(2806);class fe extends H.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,H.Nn)(Ke)&&Ke.add(this)):this.destination=et}static create(Ke,Be,ut){return new Dt(Ke,Be,ut)}next(Ke){this.isStopped?Ze(function Ie(ke){return Te("N",ke,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?Ze(function Ce(ke){return Te("E",void 0,ke)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?Ze(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function $e(ke,Ke){return tt.call(ke,Ke)}class nt{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Be}=this;if(Be.next)try{Be.next(Ke)}catch(ut){Le(ut)}}error(Ke){const{partialObserver:Be}=this;if(Be.error)try{Be.error(Ke)}catch(ut){Le(ut)}else Le(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Be){Le(Be)}}}class Dt extends fe{constructor(Ke,Be,ut){let pe;if(super(),(0,g.m)(Ke)||!Ke)pe={next:Ke??void 0,error:Be??void 0,complete:ut??void 0};else{let Se;this&&v.v.useDeprecatedNextContext?(Se=Object.create(Ke),Se.unsubscribe=()=>this.unsubscribe(),pe={next:Ke.next&&$e(Ke.next,Se),error:Ke.error&&$e(Ke.error,Se),complete:Ke.complete&&$e(Ke.complete,Se)}):pe=Ke}this.destination=new nt(pe)}}function Le(ke){v.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(ke):(0,de.h)(ke)}function Ze(ke,Ke){const{onStoppedNotification:Be}=v.v;Be&&oe.z.setTimeout(()=>Be(ke,Ke))}const et={closed:!0,next:he.Z,error:function qe(ke){throw ke},complete:he.Z}},727:(It,Re,j)=>{j.d(Re,{Lc:()=>ye,w0:()=>he,Nn:()=>Ce});var g=j(576);const v=(0,j(3888).d)(Te=>function(se){Te(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((fe,tt)=>`${tt+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var de=j(8737);class he{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const $e of se)$e.remove(this);else se.remove(this);const{initialTeardown:fe}=this;if((0,g.m)(fe))try{fe()}catch($e){oe=$e instanceof v?$e.errors:[$e]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const $e of tt)try{Ie($e)}catch(nt){oe=oe??[],nt instanceof v?oe=[...oe,...nt.errors]:oe.push(nt)}}if(oe)throw new v(oe)}}add(oe){var se;if(oe&&oe!==this)if(this.closed)Ie(oe);else{if(oe instanceof he){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(oe)}}_hasParent(oe){const{_parentage:se}=this;return se===oe||Array.isArray(se)&&se.includes(oe)}_addParent(oe){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(oe),se):se?[se,oe]:oe}_removeParent(oe){const{_parentage:se}=this;se===oe?this._parentage=null:Array.isArray(se)&&(0,de.P)(se,oe)}remove(oe){const{_finalizers:se}=this;se&&(0,de.P)(se,oe),oe instanceof he&&oe._removeParent(this)}}he.EMPTY=(()=>{const Te=new he;return Te.closed=!0,Te})();const ye=he.EMPTY;function Ce(Te){return Te instanceof he||Te&&"closed"in Te&&(0,g.m)(Te.remove)&&(0,g.m)(Te.add)&&(0,g.m)(Te.unsubscribe)}function Ie(Te){(0,g.m)(Te)?Te():Te.unsubscribe()}},2416:(It,Re,j)=>{j.d(Re,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(It,Re,j)=>{j.d(Re,{z:()=>he});var g=j(8189),v=j(3269),de=j(8996);function he(...ye){return function H(){return(0,g.J)(1)}()((0,de.D)(ye,(0,v.yG)(ye)))}},515:(It,Re,j)=>{j.d(Re,{E:()=>H});const H=new(j(9751).y)(he=>he.complete())},8996:(It,Re,j)=>{j.d(Re,{D:()=>Ke});var g=j(8421),H=j(5363),v=j(9468),ye=j(9751),Ie=j(2202),Te=j(576),oe=j(9672);function fe(Be,ut){if(!Be)throw new Error("Iterable cannot be null");return new ye.y(pe=>{(0,oe.f)(pe,ut,()=>{const Se=Be[Symbol.asyncIterator]();(0,oe.f)(pe,ut,()=>{Se.next().then(je=>{je.done?pe.complete():pe.next(je.value)})},0,!0)})})}var tt=j(3670),$e=j(8239),nt=j(1144),Dt=j(6495),Le=j(2206),qe=j(4532),Ze=j(3260);function Ke(Be,ut){return ut?function ke(Be,ut){if(null!=Be){if((0,tt.c)(Be))return function de(Be,ut){return(0,g.Xf)(Be).pipe((0,v.R)(ut),(0,H.Q)(ut))}(Be,ut);if((0,nt.z)(Be))return function Ce(Be,ut){return new ye.y(pe=>{let Se=0;return ut.schedule(function(){Se===Be.length?pe.complete():(pe.next(Be[Se++]),pe.closed||this.schedule())})})}(Be,ut);if((0,$e.t)(Be))return function he(Be,ut){return(0,g.Xf)(Be).pipe((0,v.R)(ut),(0,H.Q)(ut))}(Be,ut);if((0,Le.D)(Be))return fe(Be,ut);if((0,Dt.T)(Be))return function se(Be,ut){return new ye.y(pe=>{let Se;return(0,oe.f)(pe,ut,()=>{Se=Be[Ie.h](),(0,oe.f)(pe,ut,()=>{let je,pt;try{({value:je,done:pt}=Se.next())}catch(ot){return void pe.error(ot)}pt?pe.complete():pe.next(je)},0,!0)}),()=>(0,Te.m)(Se?.return)&&Se.return()})}(Be,ut);if((0,Ze.L)(Be))return function et(Be,ut){return fe((0,Ze.Q)(Be),ut)}(Be,ut)}throw(0,qe.z)(Be)}(Be,ut):(0,g.Xf)(Be)}},8421:(It,Re,j)=>{j.d(Re,{Xf:()=>tt});var g=j(655),H=j(1144),v=j(8239),de=j(9751),he=j(3670),ye=j(2206),Ce=j(4532),Ie=j(6495),Te=j(3260),oe=j(576),se=j(7849),fe=j(8822);function tt(ke){if(ke instanceof de.y)return ke;if(null!=ke){if((0,he.c)(ke))return function $e(ke){return new de.y(Ke=>{const Be=ke[fe.L]();if((0,oe.m)(Be.subscribe))return Be.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,H.z)(ke))return function nt(ke){return new de.y(Ke=>{for(let Be=0;Be<ke.length&&!Ke.closed;Be++)Ke.next(ke[Be]);Ke.complete()})}(ke);if((0,v.t)(ke))return function Dt(ke){return new de.y(Ke=>{ke.then(Be=>{Ke.closed||(Ke.next(Be),Ke.complete())},Be=>Ke.error(Be)).then(null,se.h)})}(ke);if((0,ye.D)(ke))return qe(ke);if((0,Ie.T)(ke))return function Le(ke){return new de.y(Ke=>{for(const Be of ke)if(Ke.next(Be),Ke.closed)return;Ke.complete()})}(ke);if((0,Te.L)(ke))return function Ze(ke){return qe((0,Te.Q)(ke))}(ke)}throw(0,Ce.z)(ke)}function qe(ke){return new de.y(Ke=>{(function et(ke,Ke){var Be,ut,pe,Se;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Be=(0,g.KL)(ke);!(ut=yield Be.next()).done;)if(Ke.next(ut.value),Ke.closed)return}catch(je){pe={error:je}}finally{try{ut&&!ut.done&&(Se=Be.return)&&(yield Se.call(Be))}finally{if(pe)throw pe.error}}Ke.complete()})})(ke,Ke).catch(Be=>Ke.error(Be))})}},6451:(It,Re,j)=>{j.d(Re,{T:()=>ye});var g=j(8189),H=j(8421),v=j(515),de=j(3269),he=j(8996);function ye(...Ce){const Ie=(0,de.yG)(Ce),Te=(0,de._6)(Ce,1/0),oe=Ce;return oe.length?1===oe.length?(0,H.Xf)(oe[0]):(0,g.J)(Te)((0,he.D)(oe,Ie)):v.E}},9646:(It,Re,j)=>{j.d(Re,{of:()=>v});var g=j(3269),H=j(8996);function v(...de){const he=(0,g.yG)(de);return(0,H.D)(de,he)}},5403:(It,Re,j)=>{j.d(Re,{x:()=>H});var g=j(930);function H(de,he,ye,Ce,Ie){return new v(de,he,ye,Ce,Ie)}class v extends g.Lv{constructor(he,ye,Ce,Ie,Te,oe){super(he),this.onFinalize=Te,this.shouldUnsubscribe=oe,this._next=ye?function(se){try{ye(se)}catch(fe){he.error(fe)}}:super._next,this._error=Ie?function(se){try{Ie(se)}catch(fe){he.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(se){he.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},6590:(It,Re,j)=>{j.d(Re,{d:()=>v});var g=j(4482),H=j(5403);function v(de){return(0,g.e)((he,ye)=>{let Ce=!1;he.subscribe((0,H.x)(ye,Ie=>{Ce=!0,ye.next(Ie)},()=>{Ce||ye.next(de),ye.complete()}))})}},9300:(It,Re,j)=>{j.d(Re,{h:()=>v});var g=j(4482),H=j(5403);function v(de,he){return(0,g.e)((ye,Ce)=>{let Ie=0;ye.subscribe((0,H.x)(Ce,Te=>de.call(he,Te,Ie++)&&Ce.next(Te)))})}},590:(It,Re,j)=>{j.d(Re,{P:()=>Ce});var g=j(6805),H=j(9300),v=j(5698),de=j(6590),he=j(8068),ye=j(4671);function Ce(Ie,Te){const oe=arguments.length>=2;return se=>se.pipe(Ie?(0,H.h)((fe,tt)=>Ie(fe,tt,se)):ye.y,(0,v.q)(1),oe?(0,de.d)(Te):(0,he.T)(()=>new g.K))}},4004:(It,Re,j)=>{j.d(Re,{U:()=>v});var g=j(4482),H=j(5403);function v(de,he){return(0,g.e)((ye,Ce)=>{let Ie=0;ye.subscribe((0,H.x)(Ce,Te=>{Ce.next(de.call(he,Te,Ie++))}))})}},8189:(It,Re,j)=>{j.d(Re,{J:()=>v});var g=j(5577),H=j(4671);function v(de=1/0){return(0,g.z)(H.y,de)}},5577:(It,Re,j)=>{j.d(Re,{z:()=>Ie});var g=j(4004),H=j(8421),v=j(4482),de=j(9672),he=j(5403),Ce=j(576);function Ie(Te,oe,se=1/0){return(0,Ce.m)(oe)?Ie((fe,tt)=>(0,g.U)(($e,nt)=>oe(fe,$e,tt,nt))((0,H.Xf)(Te(fe,tt))),se):("number"==typeof oe&&(se=oe),(0,v.e)((fe,tt)=>function ye(Te,oe,se,fe,tt,$e,nt,Dt){const Le=[];let qe=0,Ze=0,et=!1;const ke=()=>{et&&!Le.length&&!qe&&oe.complete()},Ke=ut=>qe<fe?Be(ut):Le.push(ut),Be=ut=>{$e&&oe.next(ut),qe++;let pe=!1;(0,H.Xf)(se(ut,Ze++)).subscribe((0,he.x)(oe,Se=>{tt?.(Se),$e?Ke(Se):oe.next(Se)},()=>{pe=!0},void 0,()=>{if(pe)try{for(qe--;Le.length&&qe<fe;){const Se=Le.shift();nt?(0,de.f)(oe,nt,()=>Be(Se)):Be(Se)}ke()}catch(Se){oe.error(Se)}}))};return Te.subscribe((0,he.x)(oe,Ke,()=>{et=!0,ke()})),()=>{Dt?.()}}(fe,tt,Te,se)))}},5363:(It,Re,j)=>{j.d(Re,{Q:()=>de});var g=j(9672),H=j(4482),v=j(5403);function de(he,ye=0){return(0,H.e)((Ce,Ie)=>{Ce.subscribe((0,v.x)(Ie,Te=>(0,g.f)(Ie,he,()=>Ie.next(Te),ye),()=>(0,g.f)(Ie,he,()=>Ie.complete(),ye),Te=>(0,g.f)(Ie,he,()=>Ie.error(Te),ye)))})}},5026:(It,Re,j)=>{j.d(Re,{R:()=>de});var g=j(4482),H=j(5403);function v(he,ye,Ce,Ie,Te){return(oe,se)=>{let fe=Ce,tt=ye,$e=0;oe.subscribe((0,H.x)(se,nt=>{const Dt=$e++;tt=fe?he(tt,nt,Dt):(fe=!0,nt),Ie&&se.next(tt)},Te&&(()=>{fe&&se.next(tt),se.complete()})))}}function de(he,ye){return(0,g.e)(v(he,ye,arguments.length>=2,!0))}},3099:(It,Re,j)=>{j.d(Re,{B:()=>he});var g=j(8421),H=j(7579),v=j(930),de=j(4482);function he(Ce={}){const{connector:Ie=(()=>new H.x),resetOnError:Te=!0,resetOnComplete:oe=!0,resetOnRefCountZero:se=!0}=Ce;return fe=>{let tt,$e,nt,Dt=0,Le=!1,qe=!1;const Ze=()=>{$e?.unsubscribe(),$e=void 0},et=()=>{Ze(),tt=nt=void 0,Le=qe=!1},ke=()=>{const Ke=tt;et(),Ke?.unsubscribe()};return(0,de.e)((Ke,Be)=>{Dt++,!qe&&!Le&&Ze();const ut=nt=nt??Ie();Be.add(()=>{Dt--,0===Dt&&!qe&&!Le&&($e=ye(ke,se))}),ut.subscribe(Be),!tt&&Dt>0&&(tt=new v.Hp({next:pe=>ut.next(pe),error:pe=>{qe=!0,Ze(),$e=ye(et,Te,pe),ut.error(pe)},complete:()=>{Le=!0,Ze(),$e=ye(et,oe),ut.complete()}}),(0,g.Xf)(Ke).subscribe(tt))})(fe)}}function ye(Ce,Ie,...Te){if(!0===Ie)return void Ce();if(!1===Ie)return;const oe=new v.Hp({next:()=>{oe.unsubscribe(),Ce()}});return(0,g.Xf)(Ie(...Te)).subscribe(oe)}},8675:(It,Re,j)=>{j.d(Re,{O:()=>de});var g=j(7272),H=j(3269),v=j(4482);function de(...he){const ye=(0,H.yG)(he);return(0,v.e)((Ce,Ie)=>{(ye?(0,g.z)(he,Ce,ye):(0,g.z)(he,Ce)).subscribe(Ie)})}},9468:(It,Re,j)=>{j.d(Re,{R:()=>H});var g=j(4482);function H(v,de=0){return(0,g.e)((he,ye)=>{ye.add(v.schedule(()=>he.subscribe(ye),de))})}},3900:(It,Re,j)=>{j.d(Re,{w:()=>de});var g=j(8421),H=j(4482),v=j(5403);function de(he,ye){return(0,H.e)((Ce,Ie)=>{let Te=null,oe=0,se=!1;const fe=()=>se&&!Te&&Ie.complete();Ce.subscribe((0,v.x)(Ie,tt=>{Te?.unsubscribe();let $e=0;const nt=oe++;(0,g.Xf)(he(tt,nt)).subscribe(Te=(0,v.x)(Ie,Dt=>Ie.next(ye?ye(tt,Dt,nt,$e++):Dt),()=>{Te=null,fe()}))},()=>{se=!0,fe()}))})}},5698:(It,Re,j)=>{j.d(Re,{q:()=>de});var g=j(515),H=j(4482),v=j(5403);function de(he){return he<=0?()=>g.E:(0,H.e)((ye,Ce)=>{let Ie=0;ye.subscribe((0,v.x)(Ce,Te=>{++Ie<=he&&(Ce.next(Te),he<=Ie&&Ce.complete())}))})}},8505:(It,Re,j)=>{j.d(Re,{b:()=>he});var g=j(576),H=j(4482),v=j(5403),de=j(4671);function he(ye,Ce,Ie){const Te=(0,g.m)(ye)||Ce||Ie?{next:ye,error:Ce,complete:Ie}:ye;return Te?(0,H.e)((oe,se)=>{var fe;null===(fe=Te.subscribe)||void 0===fe||fe.call(Te);let tt=!0;oe.subscribe((0,v.x)(se,$e=>{var nt;null===(nt=Te.next)||void 0===nt||nt.call(Te,$e),se.next($e)},()=>{var $e;tt=!1,null===($e=Te.complete)||void 0===$e||$e.call(Te),se.complete()},$e=>{var nt;tt=!1,null===(nt=Te.error)||void 0===nt||nt.call(Te,$e),se.error($e)},()=>{var $e,nt;tt&&(null===($e=Te.unsubscribe)||void 0===$e||$e.call(Te)),null===(nt=Te.finalize)||void 0===nt||nt.call(Te)}))}):de.y}},8068:(It,Re,j)=>{j.d(Re,{T:()=>de});var g=j(6805),H=j(4482),v=j(5403);function de(ye=he){return(0,H.e)((Ce,Ie)=>{let Te=!1;Ce.subscribe((0,v.x)(Ie,oe=>{Te=!0,Ie.next(oe)},()=>Te?Ie.complete():Ie.error(ye())))})}function he(){return new g.K}},4408:(It,Re,j)=>{j.d(Re,{o:()=>he});var g=j(727);class H extends g.w0{constructor(Ce,Ie){super()}schedule(Ce,Ie=0){return this}}const v={setInterval(ye,Ce,...Ie){const{delegate:Te}=v;return Te?.setInterval?Te.setInterval(ye,Ce,...Ie):setInterval(ye,Ce,...Ie)},clearInterval(ye){const{delegate:Ce}=v;return(Ce?.clearInterval||clearInterval)(ye)},delegate:void 0};var de=j(8737);class he extends H{constructor(Ce,Ie){super(Ce,Ie),this.scheduler=Ce,this.work=Ie,this.pending=!1}schedule(Ce,Ie=0){var Te;if(this.closed)return this;this.state=Ce;const oe=this.id,se=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(se,oe,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(se,this.id,Ie),this}requestAsyncId(Ce,Ie,Te=0){return v.setInterval(Ce.flush.bind(Ce,this),Te)}recycleAsyncId(Ce,Ie,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Ie;null!=Ie&&v.clearInterval(Ie)}execute(Ce,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(Ce,Ie);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Ie){let oe,Te=!1;try{this.work(Ce)}catch(se){Te=!0,oe=se||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Ie}=this,{actions:Te}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Te,this),null!=Ce&&(this.id=this.recycleAsyncId(Ie,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(It,Re,j)=>{j.d(Re,{v:()=>v});var g=j(6063);class H{constructor(he,ye=H.now){this.schedulerActionCtor=he,this.now=ye}schedule(he,ye=0,Ce){return new this.schedulerActionCtor(this,he).schedule(Ce,ye)}}H.now=g.l.now;class v extends H{constructor(he,ye=H.now){super(he,ye),this.actions=[],this._active=!1}flush(he){const{actions:ye}=this;if(this._active)return void ye.push(he);let Ce;this._active=!0;do{if(Ce=he.execute(he.state,he.delay))break}while(he=ye.shift());if(this._active=!1,Ce){for(;he=ye.shift();)he.unsubscribe();throw Ce}}}},4986:(It,Re,j)=>{j.d(Re,{P:()=>de,z:()=>v});var g=j(4408);const v=new(j(7565).v)(g.o),de=v},6063:(It,Re,j)=>{j.d(Re,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(It,Re,j)=>{j.d(Re,{z:()=>g});const g={setTimeout(H,v,...de){const{delegate:he}=g;return he?.setTimeout?he.setTimeout(H,v,...de):setTimeout(H,v,...de)},clearTimeout(H){const{delegate:v}=g;return(v?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(It,Re,j)=>{j.d(Re,{h:()=>H});const H=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(It,Re,j)=>{j.d(Re,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(It,Re,j)=>{j.d(Re,{K:()=>H});const H=(0,j(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(It,Re,j)=>{j.d(Re,{_6:()=>ye,jO:()=>de,yG:()=>he});var g=j(576),H=j(3532);function v(Ce){return Ce[Ce.length-1]}function de(Ce){return(0,g.m)(v(Ce))?Ce.pop():void 0}function he(Ce){return(0,H.K)(v(Ce))?Ce.pop():void 0}function ye(Ce,Ie){return"number"==typeof v(Ce)?Ce.pop():Ie}},4742:(It,Re,j)=>{j.d(Re,{D:()=>he});const{isArray:g}=Array,{getPrototypeOf:H,prototype:v,keys:de}=Object;function he(Ce){if(1===Ce.length){const Ie=Ce[0];if(g(Ie))return{args:Ie,keys:null};if(function ye(Ce){return Ce&&"object"==typeof Ce&&H(Ce)===v}(Ie)){const Te=de(Ie);return{args:Te.map(oe=>Ie[oe]),keys:Te}}}return{args:Ce,keys:null}}},8737:(It,Re,j)=>{function g(H,v){if(H){const de=H.indexOf(v);0<=de&&H.splice(de,1)}}j.d(Re,{P:()=>g})},3888:(It,Re,j)=>{function g(H){const de=H(he=>{Error.call(he),he.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}j.d(Re,{d:()=>g})},1810:(It,Re,j)=>{function g(H,v){return H.reduce((de,he,ye)=>(de[he]=v[ye],de),{})}j.d(Re,{n:()=>g})},2806:(It,Re,j)=>{j.d(Re,{O:()=>de,x:()=>v});var g=j(2416);let H=null;function v(he){if(g.v.useDeprecatedSynchronousErrorHandling){const ye=!H;if(ye&&(H={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Ce,error:Ie}=H;if(H=null,Ce)throw Ie}}else he()}function de(he){g.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=he)}},9672:(It,Re,j)=>{function g(H,v,de,he=0,ye=!1){const Ce=v.schedule(function(){de(),ye?H.add(this.schedule(null,he)):this.unsubscribe()},he);if(H.add(Ce),!ye)return Ce}j.d(Re,{f:()=>g})},4671:(It,Re,j)=>{function g(H){return H}j.d(Re,{y:()=>g})},1144:(It,Re,j)=>{j.d(Re,{z:()=>g});const g=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(It,Re,j)=>{j.d(Re,{D:()=>H});var g=j(576);function H(v){return Symbol.asyncIterator&&(0,g.m)(v?.[Symbol.asyncIterator])}},576:(It,Re,j)=>{function g(H){return"function"==typeof H}j.d(Re,{m:()=>g})},3670:(It,Re,j)=>{j.d(Re,{c:()=>v});var g=j(8822),H=j(576);function v(de){return(0,H.m)(de[g.L])}},6495:(It,Re,j)=>{j.d(Re,{T:()=>v});var g=j(2202),H=j(576);function v(de){return(0,H.m)(de?.[g.h])}},8239:(It,Re,j)=>{j.d(Re,{t:()=>H});var g=j(576);function H(v){return(0,g.m)(v?.then)}},3260:(It,Re,j)=>{j.d(Re,{L:()=>de,Q:()=>v});var g=j(655),H=j(576);function v(he){return(0,g.FC)(this,arguments,function*(){const Ce=he.getReader();try{for(;;){const{value:Ie,done:Te}=yield(0,g.qq)(Ce.read());if(Te)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ie)}}finally{Ce.releaseLock()}})}function de(he){return(0,H.m)(he?.getReader)}},3532:(It,Re,j)=>{j.d(Re,{K:()=>H});var g=j(576);function H(v){return v&&(0,g.m)(v.schedule)}},4482:(It,Re,j)=>{j.d(Re,{A:()=>H,e:()=>v});var g=j(576);function H(de){return(0,g.m)(de?.lift)}function v(de){return he=>{if(H(he))return he.lift(function(ye){try{return de(ye,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(It,Re,j)=>{j.d(Re,{Z:()=>de});var g=j(4004);const{isArray:H}=Array;function de(he){return(0,g.U)(ye=>function v(he,ye){return H(ye)?he(...ye):he(ye)}(he,ye))}},5032:(It,Re,j)=>{function g(){}j.d(Re,{Z:()=>g})},9635:(It,Re,j)=>{j.d(Re,{U:()=>v,z:()=>H});var g=j(4671);function H(...de){return v(de)}function v(de){return 0===de.length?g.y:1===de.length?de[0]:function(ye){return de.reduce((Ce,Ie)=>Ie(Ce),ye)}}},7849:(It,Re,j)=>{j.d(Re,{h:()=>v});var g=j(2416),H=j(3410);function v(de){H.z.setTimeout(()=>{const{onUnhandledError:he}=g.v;if(!he)throw de;he(de)})}},4532:(It,Re,j)=>{function g(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Re,{z:()=>g})},655:(It,Re,j)=>{function de(Ae,Pe){var Ve={};for(var ze in Ae)Object.prototype.hasOwnProperty.call(Ae,ze)&&Pe.indexOf(ze)<0&&(Ve[ze]=Ae[ze]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(ze=Object.getOwnPropertySymbols(Ae);rt<ze.length;rt++)Pe.indexOf(ze[rt])<0&&Object.prototype.propertyIsEnumerable.call(Ae,ze[rt])&&(Ve[ze[rt]]=Ae[ze[rt]])}return Ve}function fe(Ae,Pe,Ve,ze){return new(Ve||(Ve=Promise))(function(it,ft){function yt(Mt){try{Ee(ze.next(Mt))}catch(wt){ft(wt)}}function vn(Mt){try{Ee(ze.throw(Mt))}catch(wt){ft(wt)}}function Ee(Mt){Mt.done?it(Mt.value):function rt(it){return it instanceof Ve?it:new Ve(function(ft){ft(it)})}(Mt.value).then(yt,vn)}Ee((ze=ze.apply(Ae,Pe||[])).next())})}function ke(Ae){return this instanceof ke?(this.v=Ae,this):new ke(Ae)}function Ke(Ae,Pe,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,ze=Ve.apply(Ae,Pe||[]),it=[];return rt={},ft("next"),ft("throw"),ft("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function ft(At){ze[At]&&(rt[At]=function(An){return new Promise(function(wn,hn){it.push([At,An,wn,hn])>1||yt(At,An)})})}function yt(At,An){try{!function vn(At){At.value instanceof ke?Promise.resolve(At.value.v).then(Ee,Mt):wt(it[0][2],At)}(ze[At](An))}catch(wn){wt(it[0][3],wn)}}function Ee(At){yt("next",At)}function Mt(At){yt("throw",At)}function wt(At,An){At(An),it.shift(),it.length&&yt(it[0][0],it[0][1])}}function ut(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Pe=Ae[Symbol.asyncIterator];return Pe?Pe.call(Ae):(Ae=function Dt(Ae){var Pe="function"==typeof Symbol&&Symbol.iterator,Ve=Pe&&Ae[Pe],ze=0;if(Ve)return Ve.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&ze>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[ze++],done:!Ae}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),Ve={},ze("next"),ze("throw"),ze("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function ze(it){Ve[it]=Ae[it]&&function(ft){return new Promise(function(yt,vn){!function rt(it,ft,yt,vn){Promise.resolve(vn).then(function(Ee){it({value:Ee,done:yt})},ft)}(yt,vn,(ft=Ae[it](ft)).done,ft.value)})}}}j.d(Re,{FC:()=>Ke,KL:()=>ut,_T:()=>de,mG:()=>fe,qq:()=>ke})},6895:(It,Re,j)=>{j.d(Re,{Do:()=>Ze,ED:()=>tr,EM:()=>Ts,HT:()=>de,JF:()=>Rt,K0:()=>ye,Mx:()=>Yr,NF:()=>Cs,O5:()=>Li,PM:()=>Ho,RF:()=>Ci,S$:()=>Dt,V_:()=>Te,Ye:()=>et,b0:()=>qe,bD:()=>oi,ez:()=>ds,gd:()=>Qr,mk:()=>qt,n9:()=>wr,q:()=>v,sg:()=>bi,w_:()=>he});var g=j(4650);let H=null;function v(){return H}function de(T){H||(H=T)}class he{}const ye=new g.OlP("DocumentToken");let Ce=(()=>{class T{historyGo(N){throw new Error("Not implemented")}}return T.\u0275fac=function(N){return new(N||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return function Ie(){return(0,g.LFG)(oe)}()},providedIn:"platform"}),T})();const Te=new g.OlP("Location Initialized");let oe=(()=>{class T extends Ce{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(N){const z=v().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",N,!1),()=>z.removeEventListener("popstate",N)}onHashChange(N){const z=v().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",N,!1),()=>z.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,z,ie){se()?this._history.pushState(N,z,ie):this._location.hash=ie}replaceState(N,z,ie){se()?this._history.replaceState(N,z,ie):this._location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return T.\u0275fac=function(N){return new(N||T)(g.LFG(ye))},T.\u0275prov=g.Yz7({token:T,factory:function(){return function fe(){return new oe((0,g.LFG)(ye))}()},providedIn:"platform"}),T})();function se(){return!!window.history.pushState}function tt(T,V){if(0==T.length)return V;if(0==V.length)return T;let N=0;return T.endsWith("/")&&N++,V.startsWith("/")&&N++,2==N?T+V.substring(1):1==N?T+V:T+"/"+V}function $e(T){const V=T.match(/#|\?|$/),N=V&&V.index||T.length;return T.slice(0,N-("/"===T[N-1]?1:0))+T.slice(N)}function nt(T){return T&&"?"!==T[0]?"?"+T:T}let Dt=(()=>{class T{historyGo(N){throw new Error("Not implemented")}}return T.\u0275fac=function(N){return new(N||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return(0,g.f3M)(qe)},providedIn:"root"}),T})();const Le=new g.OlP("appBaseHref");let qe=(()=>{class T extends Dt{constructor(N,z){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return tt(this._baseHref,N)}path(N=!1){const z=this._platformLocation.pathname+nt(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&N?`${z}${ie}`:z}pushState(N,z,ie,Ne){const Ue=this.prepareExternalUrl(ie+nt(Ne));this._platformLocation.pushState(N,z,Ue)}replaceState(N,z,ie,Ne){const Ue=this.prepareExternalUrl(ie+nt(Ne));this._platformLocation.replaceState(N,z,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return T.\u0275fac=function(N){return new(N||T)(g.LFG(Ce),g.LFG(Le,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Ze=(()=>{class T extends Dt{constructor(N,z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(N){const z=tt(this._baseHref,N);return z.length>0?"#"+z:z}pushState(N,z,ie,Ne){let Ue=this.prepareExternalUrl(ie+nt(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(N,z,Ue)}replaceState(N,z,ie,Ne){let Ue=this.prepareExternalUrl(ie+nt(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(N,z,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return T.\u0275fac=function(N){return new(N||T)(g.LFG(Ce),g.LFG(Le,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac}),T})(),et=(()=>{class T{constructor(N){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const z=this._locationStrategy.getBaseHref();this._basePath=function ut(T){if(new RegExp("^(https?:)?//").test(T)){const[,N]=T.split(/\/\/[^\/]+/);return N}return T}($e(Be(z))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,z=""){return this.path()==this.normalize(N+nt(z))}normalize(N){return T.stripTrailingSlash(function Ke(T,V){return T&&new RegExp(`^${T}([/;?#]|$)`).test(V)?V.substring(T.length):V}(this._basePath,Be(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,z="",ie=null){this._locationStrategy.pushState(ie,"",N,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(z)),ie)}replaceState(N,z="",ie=null){this._locationStrategy.replaceState(ie,"",N,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(z)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",z){this._urlChangeListeners.forEach(ie=>ie(N,z))}subscribe(N,z,ie){return this._subject.subscribe({next:N,error:z,complete:ie})}}return T.normalizeQueryParams=nt,T.joinWithSlash=tt,T.stripTrailingSlash=$e,T.\u0275fac=function(N){return new(N||T)(g.LFG(Dt))},T.\u0275prov=g.Yz7({token:T,factory:function(){return function ke(){return new et((0,g.LFG)(Dt))}()},providedIn:"root"}),T})();function Be(T){return T.replace(/\/index.html$/,"")}function Yr(T,V){V=encodeURIComponent(V);for(const N of T.split(";")){const z=N.indexOf("="),[ie,Ne]=-1==z?[N,""]:[N.slice(0,z),N.slice(z+1)];if(ie.trim()===V)return decodeURIComponent(Ne)}return null}const yi=/\s+/,Tt=[];let qt=(()=>{class T{constructor(N,z,ie,Ne){this._iterableDiffers=N,this._keyValueDiffers=z,this._ngEl=ie,this._renderer=Ne,this.initialClasses=Tt,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(yi):Tt}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(yi):N}ngDoCheck(){for(const z of this.initialClasses)this._updateState(z,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const z of N)this._updateState(z,!0);else if(null!=N)for(const z of Object.keys(N))this._updateState(z,Boolean(N[z]));this._applyStateDiff()}_updateState(N,z){const ie=this.stateMap.get(N);void 0!==ie?(ie.enabled!==z&&(ie.changed=!0,ie.enabled=z),ie.touched=!0):this.stateMap.set(N,{enabled:z,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const z=N[0],ie=N[1];ie.changed?(this._toggleClass(z,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass(z,!1),this.stateMap.delete(z)),ie.touched=!1}}_toggleClass(N,z){(N=N.trim()).length>0&&N.split(yi).forEach(ie=>{z?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}}return T.\u0275fac=function(N){return new(N||T)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class _r{constructor(V,N,z,ie){this.$implicit=V,this.ngForOf=N,this.index=z,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class T{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,z,ie){this._viewContainer=N,this._template=z,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const z=this._viewContainer;N.forEachOperation((ie,Ne,Ue)=>{if(null==ie.previousIndex)z.createEmbeddedView(this._template,new _r(ie.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)z.remove(null===Ne?void 0:Ne);else if(null!==Ne){const Ft=z.get(Ne);z.move(Ft,Ue),Pn(Ft,ie)}});for(let ie=0,Ne=z.length;ie<Ne;ie++){const Ft=z.get(ie).context;Ft.index=ie,Ft.count=Ne,Ft.ngForOf=this._ngForOf}N.forEachIdentityChange(ie=>{Pn(z.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(N,z){return!0}}return T.\u0275fac=function(N){return new(N||T)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function Pn(T,V){T.context.$implicit=V.item}let Li=(()=>{class T{constructor(N,z){this._viewContainer=N,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Vi("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Vi("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,z){return!0}}return T.\u0275fac=function(N){return new(N||T)(g.Y36(g.s_b),g.Y36(g.Rgc))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Vi(T,V){if(V&&!V.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,g.AaK)(V)}'.`)}class Ui{constructor(V,N){this._viewContainerRef=V,this._templateRef=N,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(V){V&&!this._created?this.create():!V&&this._created&&this.destroy()}}let Ci=(()=>{class T{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(N){this._ngSwitch=N,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(N){this._defaultViews.push(N)}_matchCase(N){const z=N==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),z}_updateDefaultCases(N){if(this._defaultViews.length>0&&N!==this._defaultUsed){this._defaultUsed=N;for(const z of this._defaultViews)z.enforceState(N)}}}return T.\u0275fac=function(N){return new(N||T)},T.\u0275dir=g.lG2({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),T})(),wr=(()=>{class T{constructor(N,z,ie){this.ngSwitch=ie,ie._addCase(),this._view=new Ui(N,z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(N){return new(N||T)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ci,9))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),T})(),tr=(()=>{class T{constructor(N,z,ie){ie._addDefault(new Ui(N,z))}}return T.\u0275fac=function(N){return new(N||T)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ci,9))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngSwitchDefault",""]],standalone:!0}),T})();let Qr=(()=>{class T{transform(N){if(null==N)return null;if("string"!=typeof N)throw function Sr(T,V){return new g.vHH(2100,!1)}();return N.toUpperCase()}}return T.\u0275fac=function(N){return new(N||T)},T.\u0275pipe=g.Yjl({name:"uppercase",type:T,pure:!0,standalone:!0}),T})(),ds=(()=>{class T{}return T.\u0275fac=function(N){return new(N||T)},T.\u0275mod=g.oAB({type:T}),T.\u0275inj=g.cJS({}),T})();const oi="browser";function Cs(T){return T===oi}function Ho(T){return"server"===T}let Ts=(()=>{class T{}return T.\u0275prov=(0,g.Yz7)({token:T,providedIn:"root",factory:()=>new Do((0,g.LFG)(ye),window)}),T})();class Do{constructor(V,N){this.document=V,this.window=N,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const N=function xi(T,V){const N=T.getElementById(V)||T.getElementsByName(V)[0];if(N)return N;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const z=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let ie=z.currentNode;for(;ie;){const Ne=ie.shadowRoot;if(Ne){const Ue=Ne.getElementById(V)||Ne.querySelector(`[name="${V}"]`);if(Ue)return Ue}ie=z.nextNode()}}return null}(this.document,V);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=V)}}scrollToElement(V){const N=V.getBoundingClientRect(),z=N.left+this.window.pageXOffset,ie=N.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(z-Ne[0],ie-Ne[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=ps(this.window.history)||ps(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ps(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Rt{}},4650:(It,Re,j)=>{j.d(Re,{$8M:()=>Ko,$WT:()=>Zn,$Z:()=>bv,AFp:()=>kd,ALo:()=>py,AaK:()=>Ie,AsE:()=>Tm,CHM:()=>A,CRH:()=>d0,CZH:()=>Bc,CqO:()=>op,D6c:()=>tD,DdM:()=>cw,EJc:()=>Rw,EpF:()=>Mh,F$t:()=>i_,F4k:()=>sp,FYo:()=>ql,FiY:()=>di,Gf:()=>c0,GfV:()=>dh,Gpc:()=>se,Gre:()=>I_,Hsn:()=>fm,JOm:()=>fi,Jf7:()=>Ng,KtG:()=>Z,LFG:()=>lt,LSH:()=>Cg,Lbi:()=>tf,Lck:()=>aw,MGl:()=>Sc,MMx:()=>nc,NdJ:()=>ap,O4$:()=>ua,OlP:()=>zn,Oqu:()=>Vh,P3R:()=>br,PXZ:()=>NI,Q6J:()=>np,QGY:()=>Rh,Qsj:()=>K0,R0b:()=>l,RDi:()=>V0,Rgc:()=>Xh,SBq:()=>Wl,Sil:()=>Ow,Suo:()=>l0,TTD:()=>fs,TgZ:()=>rp,Udp:()=>Im,VKq:()=>jp,WLB:()=>X_,X6Q:()=>LI,XFs:()=>ct,Xpm:()=>Jn,Xts:()=>as,Y36:()=>rd,YKP:()=>W_,YNc:()=>Ah,Yjl:()=>eo,Yz7:()=>wt,Z0I:()=>hn,ZZ4:()=>Bw,_Bn:()=>ay,_UZ:()=>ip,_Vd:()=>eu,_c5:()=>JI,_uU:()=>__,aQg:()=>jw,c2e:()=>xw,cJS:()=>An,cg1:()=>Uh,dDg:()=>Bt,dqk:()=>Vt,eFA:()=>pI,ekj:()=>Lh,eoX:()=>Yn,f3M:()=>bt,g9A:()=>Fd,h0i:()=>Nc,hGG:()=>eD,hYB:()=>Ph,hij:()=>wd,iGM:()=>u0,ifc:()=>Fe,ip1:()=>x0,jDz:()=>uy,kL8:()=>bp,kcU:()=>Mn,lG2:()=>ws,lcZ:()=>Yh,lnq:()=>yp,lqb:()=>Ja,lri:()=>st,n5z:()=>oc,oAB:()=>Kr,oxw:()=>r_,q4F:()=>hh,qLn:()=>Zl,qOj:()=>vu,qZA:()=>hd,rWj:()=>_t,sBO:()=>VI,s_b:()=>qp,soG:()=>ig,tb:()=>sc,tp0:()=>P,uIk:()=>sm,vHH:()=>Le,vpe:()=>Ls,wAp:()=>an,xp6:()=>kg,z2F:()=>N0,zSh:()=>ah,zs3:()=>go});var g=j(7579),H=j(727),v=j(9751),de=j(6451),he=j(3099);function ye(r){for(let i in r)if(r[i]===ye)return i;throw Error("Could not find renamed property on target object.")}function Ce(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Ie(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ie).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Te(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const oe=ye({__forward_ref__:ye});function se(r){return r.__forward_ref__=se,r.toString=function(){return Ie(this())},r}function fe(r){return tt(r)?r():r}function tt(r){return"function"==typeof r&&r.hasOwnProperty(oe)&&r.__forward_ref__===se}function $e(r){return r&&!!r.\u0275providers}const Dt="https://g.co/ng/security#xss";class Le extends Error{constructor(i,o){super(function qe(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function Ze(r){return"string"==typeof r?r:null==r?"":String(r)}function ut(r,i){throw new Le(-201,!1)}function ft(r,i){null==r&&function yt(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function wt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function An(r){return{providers:r.providers||[],imports:r.imports||[]}}function wn(r){return Xn(r,mr)||Xn(r,Ln)}function hn(r){return null!==wn(r)}function Xn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Nn(r){return r&&(r.hasOwnProperty(ur)||r.hasOwnProperty(yr))?r[ur]:null}const mr=ye({\u0275prov:ye}),ur=ye({\u0275inj:ye}),Ln=ye({ngInjectableDef:ye}),yr=ye({ngInjectorDef:ye});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Wn;function cr(r){const i=Wn;return Wn=r,i}function lr(r,i,o){const u=wn(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ct.Optional?null:void 0!==i?i:void ut(Ie(r))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pn={},or="__NG_DI_FLAG__",Tr="ngTempTokenPath",ri=/\n/gm,ii="__source";let Jt;function Gt(r){const i=Jt;return Jt=r,i}function jn(r,i=ct.Default){if(void 0===Jt)throw new Le(-203,!1);return null===Jt?lr(r,void 0,i):Jt.get(r,i&ct.Optional?null:void 0,i)}function lt(r,i=ct.Default){return(function Er(){return Wn}()||jn)(fe(r),i)}function bt(r,i=ct.Default){return lt(r,Ut(i))}function Ut(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function $t(r){const i=[];for(let o=0;o<r.length;o++){const u=fe(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Le(900,!1);let c,h=ct.Default;for(let y=0;y<u.length;y++){const D=u[y],x=Vn(D);"number"==typeof x?-1===x?c=D.token:h|=x:c=D}i.push(lt(c,h))}else i.push(lt(u))}return i}function sn(r,i){return r[or]=i,r.prototype[or]=i,r}function Vn(r){return r[or]}function Q(r){return{toString:r}.toString()}var X=(()=>((X=X||{})[X.OnPush=0]="OnPush",X[X.Default=1]="Default",X))(),Fe=(()=>{return(r=Fe||(Fe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Fe;var r})();const Et={},le=[],ae=ye({\u0275cmp:ye}),J=ye({\u0275dir:ye}),me=ye({\u0275pipe:ye}),Ye=ye({\u0275mod:ye}),at=ye({\u0275fac:ye}),Qt=ye({__NG_ELEMENT_ID__:ye});let qn=0;function Jn(r){return Q(()=>{const o=!0===r.standalone,u={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===X.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||le,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Fe.Emulated,id:"c"+qn++,styles:r.styles||le,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=r.dependencies,y=r.features;return c.inputs=cs(r.inputs,u),c.outputs=cs(r.outputs),y&&y.forEach(D=>D(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Zr).filter(hr):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(vr).filter(hr):null,c})}function Zr(r){return xn(r)||$n(r)}function hr(r){return null!==r}function Kr(r){return Q(()=>({type:r.type,bootstrap:r.bootstrap||le,declarations:r.declarations||le,imports:r.imports||le,exports:r.exports||le,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function cs(r,i){if(null==r)return Et;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}const ws=Jn;function eo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function xn(r){return r[ae]||null}function $n(r){return r[J]||null}function vr(r){return r[me]||null}function Zn(r){const i=xn(r)||$n(r)||vr(r);return null!==i&&i.standalone}function Yr(r,i){const o=r[Ye]||null;if(!o&&!0===i)throw new Error(`Type ${Ie(r)} does not have '\u0275mod' property.`);return o}function vi(r){return Array.isArray(r)&&"object"==typeof r[1]}function Qr(r){return Array.isArray(r)&&!0===r[1]}function Ds(r){return 0!=(4&r.flags)}function jo(r){return r.componentOffset>-1}function wa(r){return 1==(1&r.flags)}function Nr(r){return null!==r.template}function Tu(r){return 0!=(256&r[2])}function hs(r,i){return r.hasOwnProperty(at)?r[at]:null}class js{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function fs(){return Ts}function Ts(r){return r.type.prototype.ngOnChanges&&(r.setInput=ps),Do}function Do(){const r=Br(this),i=r?.current;if(i){const o=r.previous;if(o===Et)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function ps(r,i,o,u){const c=this.declaredInputs[o],h=Br(r)||function Rt(r,i){return r[xi]=i}(r,{previous:Et,current:null}),y=h.current||(h.current={}),D=h.previous,x=D[c];y[c]=new js(x&&x.currentValue,i,D===Et),r[u]=i}fs.ngInherit=!0;const xi="__ngSimpleChanges__";function Br(r){return r[xi]||null}function fr(r){for(;Array.isArray(r);)r=r[0];return r}function Ss(r,i){return fr(i[r])}function jr(r,i){return fr(i[r.index])}function Ir(r,i){return r.data[i]}function _n(r,i){const o=i[r];return vi(o)?o:o[0]}function Pr(r){return 64==(64&r[2])}function $r(r,i){return null==i?null:r[i]}function Co(r){r[18]=0}function ar(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const tn={lFrame:Su(null),bindingsEnabled:!0};function oa(){return tn.bindingsEnabled}function S(){return tn.lFrame.lView}function R(){return tn.lFrame.tView}function A(r){return tn.lFrame.contextLView=r,r[8]}function Z(r){return tn.lFrame.contextLView=null,r}function be(){let r=Ct();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ct(){return tn.lFrame.currentTNode}function rr(r,i){const o=tn.lFrame;o.currentTNode=r,o.isParent=i}function ui(){return tn.lFrame.isParent}function Gi(){tn.lFrame.isParent=!1}function Xr(){const r=tn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function wi(){return tn.lFrame.bindingIndex}function Hs(){return tn.lFrame.bindingIndex++}function ts(r){const i=tn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function zo(r,i){const o=tn.lFrame;o.bindingIndex=o.bindingRootIndex=r,Gs(i)}function Gs(r){tn.lFrame.currentDirectiveIndex=r}function Va(){return tn.lFrame.currentQueryIndex}function ao(r){tn.lFrame.currentQueryIndex=r}function So(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Ua(r,i,o){if(o&ct.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&ct.Host||(c=So(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const u=tn.lFrame=ou();return u.currentTNode=i,u.lView=r,!0}function Wo(r){const i=ou(),o=r[1];tn.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ou(){const r=tn.lFrame,i=null===r?null:r.child;return null===i?Su(r):i}function Su(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Ca(){const r=tn.lFrame;return tn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ba=Ca;function au(){const r=Ca();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ci(){return tn.lFrame.selectedIndex}function zi(r){tn.lFrame.selectedIndex=r}function Un(){const r=tn.lFrame;return Ir(r.tView,r.selectedIndex)}function ua(){tn.lFrame.currentNamespace="svg"}function Mn(){!function Jr(){tn.lFrame.currentNamespace=null}()}function la(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:F,ngOnDestroy:W}=h;y&&(r.contentHooks||(r.contentHooks=[])).push(-o,y),D&&((r.contentHooks||(r.contentHooks=[])).push(o,D),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,D)),x&&(r.viewHooks||(r.viewHooks=[])).push(-o,x),F&&((r.viewHooks||(r.viewHooks=[])).push(o,F),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,F)),null!=W&&(r.destroyHooks||(r.destroyHooks=[])).push(o,W)}}function da(r,i,o){N(r,i,3,o)}function T(r,i,o,u){(3&r[2])===o&&N(r,i,o,u)}function V(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function N(r,i,o,u){const h=u??-1,y=i.length-1;let D=0;for(let x=void 0!==u?65535&r[18]:0;x<y;x++)if("number"==typeof i[x+1]){if(D=i[x],null!=u&&D>=u)break}else i[x]<0&&(r[18]+=65536),(D<h||-1==h)&&(z(r,o,i,x),r[18]=(4294901760&r[18])+x+2),x++}function z(r,i,o,u){const c=o[u]<0,h=o[u+1],D=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class Ne{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function pr(r,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],y=o[u++],D=o[u++];r.setAttribute(i,y,D,h)}else{const h=c,y=o[++u];qi(h)?r.setProperty(i,h,y):r.setAttribute(i,h,y),u++}}return u}function Wi(r){return 3===r||4===r||6===r}function qi(r){return 64===r.charCodeAt(0)}function li(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Zi(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Zi(r,i,o,u,c){let h=0,y=r.length;if(-1===i)y=-1;else for(;h<r.length;){const D=r[h++];if("number"==typeof D){if(D===i){y=-1;break}if(D>i){y=h-1;break}}}for(;h<r.length;){const D=r[h];if("number"==typeof D)break;if(D===o){if(null===u)return void(null!==c&&(r[h+1]=c));if(u===r[h+1])return void(r[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==y&&(r.splice(y,0,i),h=y+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==c&&r.splice(h++,0,c)}function xo(r){return-1!==r}function Mo(r){return 32767&r}function Ps(r,i){let o=function Os(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let qo=!0;function ns(r){const i=qo;return qo=r,i}let fa=0;const Mi={};function Ro(r,i){const o=Ta(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,co(u.data,r),co(i,null),co(u.blueprint,null));const c=Ga(r,i),h=r.injectorIndex;if(xo(c)){const y=Mo(c),D=Ps(c,i),x=D[1].data;for(let F=0;F<8;F++)i[h+F]=D[y+F]|x[y+F]}return i[h+8]=c,h}function co(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Ta(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Ga(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=lu(c),null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function pa(r,i,o){!function Ki(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Qt)&&(u=o[Qt]),null==u&&(u=o[Qt]=fa++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Au(r,i,o){if(o&ct.Optional||void 0!==r)return r;ut()}function No(r,i,o,u){if(o&ct.Optional&&void 0===u&&(u=null),!(o&(ct.Self|ct.Host))){const c=r[9],h=cr(void 0);try{return c?c.get(i,u,o&ct.Optional):lr(i,u,o&ct.Optional)}finally{cr(h)}}return Au(u,0,o)}function uu(r,i,o,u=ct.Default,c){if(null!==r){if(1024&i[2]){const y=function $c(r,i,o,u,c){let h=r,y=i;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=rs(h,y,o,u|ct.Self,Mi);if(D!==Mi)return D;let x=h.parent;if(!x){const F=y[21];if(F){const W=F.get(o,Mi,u);if(W!==Mi)return W}x=lu(y),y=y[15]}h=x}return c}(r,i,o,u,Mi);if(y!==Mi)return y}const h=rs(r,i,o,u,Mi);if(h!==Mi)return h}return No(i,o,u,c)}function rs(r,i,o,u,c){const h=function xu(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Qt)?r[Qt]:void 0;return"number"==typeof i?i>=0?255&i:Mu:i}(o);if("function"==typeof h){if(!Ua(i,r,u))return u&ct.Host?Au(c,0,u):No(i,o,u,c);try{const y=h(u);if(null!=y||u&ct.Optional)return y;ut()}finally{Ba()}}else if("number"==typeof h){let y=null,D=Ta(r,i),x=-1,F=u&ct.Host?i[16][6]:null;for((-1===D||u&ct.SkipSelf)&&(x=-1===D?Ga(r,i):i[D+8],-1!==x&&Ri(u,!1)?(y=i[1],D=Mo(x),i=Ps(x,i)):D=-1);-1!==D;){const W=i[1];if(Sa(h,D,W.data)){const ee=cu(D,i,o,y,u,F);if(ee!==Mi)return ee}x=i[D+8],-1!==x&&Ri(u,i[1].data[D+8]===F)&&Sa(h,D,i)?(y=W,D=Mo(x),i=Ps(x,i)):D=-1}}return c}function cu(r,i,o,u,c,h){const y=i[1],D=y.data[r+8],W=Oo(D,y,o,null==u?jo(D)&&qo:u!=y&&0!=(3&D.type),c&ct.Host&&h===D);return null!==W?ir(i,y,W,D):Mi}function Oo(r,i,o,u,c){const h=r.providerIndexes,y=i.data,D=1048575&h,x=r.directiveStart,W=h>>20,ge=c?D+W:r.directiveEnd;for(let xe=u?D:D+W;xe<ge;xe++){const Je=y[xe];if(xe<x&&o===Je||xe>=x&&Je.type===o)return xe}if(c){const xe=y[x];if(xe&&Nr(xe)&&xe.type===o)return x}return null}function ir(r,i,o,u){let c=r[o];const h=i.data;if(function Ue(r){return r instanceof Ne}(c)){const y=c;y.resolving&&function ke(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Le(-200,`Circular dependency in DI detected for ${r}${o}`)}(function et(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ze(r)}(h[o]));const D=ns(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?cr(y.injectImpl):null;Ua(r,u,ct.Default);try{c=r[o]=y.factory(void 0,h,r,u),i.firstCreatePass&&o>=u.directiveStart&&function ca(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const y=Ts(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,y)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==x&&cr(x),ns(D),y.resolving=!1,Ba()}}return c}function Sa(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Ri(r,i){return!(r&ct.Self||r&ct.Host&&i)}class zs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return uu(this._tNode,this._lView,i,Ut(u),o)}}function Mu(){return new zs(be(),S())}function oc(r){return Q(()=>{const i=r.prototype.constructor,o=i[at]||Wa(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const h=c[at]||Wa(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Wa(r){return tt(r)?()=>{const i=Wa(fe(r));return i&&i()}:hs(r)}function lu(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function Ko(r){return function za(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Wi(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(be(),r)}const ga="__parameters__";function qa(r,i,o){return Q(()=>{const u=function Aa(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const y=new c(...h);return D.annotation=y,D;function D(x,F,W){const ee=x.hasOwnProperty(ga)?x[ga]:Object.defineProperty(x,ga,{value:[]})[ga];for(;ee.length<=W;)ee.push(null);return(ee[W]=ee[W]||[]).push(y),x}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class zn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=wt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ho(r,i){r.forEach(o=>Array.isArray(o)?ho(o,i):i(o))}function Xo(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ys(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function fo(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}function _(r,i,o){let u=m(r,i);return u>=0?r[1|u]=o:(u=~u,function Qa(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function E(r,i){const o=m(r,i);if(o>=0)return r[1|o]}function m(r,i){return function k(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const h=u+(c-u>>1),y=r[h<<o];if(i===y)return h<<o;y>i?c=h:u=h+1}return~(c<<o)}(r,i,1)}const di=sn(qa("Optional"),8),P=sn(qa("SkipSelf"),4);var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();const zd=new Map;let Wc=0;const fu="__ngContext__";function ei(r,i){vi(i)?(r[fu]=i[20],function lf(r){zd.set(r[20],r)}(i)):r[fu]=i}function Qe(r,i){return undefined(r,i)}function Yt(r){const i=r[3];return Qr(i)?i[3]:i}function Jo(r){return fc(r[13])}function Ra(r){return fc(r[4])}function fc(r){for(;null!==r&&!Qr(r);)r=r[4];return r}function Vu(r,i,o,u,c){if(null!=u){let h,y=!1;Qr(u)?h=u:vi(u)&&(y=!0,u=u[0]);const D=fr(u);0===r&&null!==o?null==c?kl(i,o,D):Yc(i,o,D,c||null,!0):1===r&&null!==o?Yc(i,o,D,c||null,!0):2===r?function yg(r,i,o){const u=Fl(r,i);u&&function My(r,i,o,u){r.removeChild(i,o,u)}(r,u,i,o)}(i,D,y):3===r&&i.destroyNode(D),null!=h&&function F0(r,i,o,u,c){const h=o[7];h!==fr(o)&&Vu(i,r,u,h,c);for(let D=10;D<o.length;D++){const x=o[D];Vl(x[1],x,r,i,u,h)}}(i,r,h,o,c)}}function un(r,i,o){return r.createElement(i,o)}function hf(r,i){const o=r[9],u=o.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,ar(c,-1)),o.splice(u,1)}function pi(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&hf(c,u),i>0&&(r[o-1][4]=u[4]);const h=ys(r,10+i);!function Uu(r,i){Vl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function St(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Vl(r,i,o,3,null,null),function Xt(r){let i=r[13];if(!i)return Pl(r[1],r);for(;i;){let o=null;if(vi(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)vi(i)&&Pl(i[1],i),i=i[3];null===i&&(i=r),vi(i)&&Pl(i[1],i),o=i&&i[4]}i=o}}(i)}}function Pl(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Kc(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Ne)){const h=o[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const D=c[h[y]],x=h[y+1];try{x.call(D)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function pg(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const y=o[h+3];y>=0?u[c=y]():u[c=-y].unsubscribe(),h+=2}else{const y=u[c=o[h+1]];o[h].call(y)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&Qr(i[3])){o!==i[3]&&hf(o,i);const u=i[19];null!==u&&u.detachView(r)}!function qd(r){zd.delete(r[20])}(i)}}function xy(r,i,o){return function Qd(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=r.data[u.directiveStart+c];if(h===Fe.None||h===Fe.Emulated)return null}return jr(u,o)}}(r,i.parent,o)}function Yc(r,i,o,u,c){r.insertBefore(i,o,u,c)}function kl(r,i,o){r.appendChild(i,o)}function gg(r,i,o,u,c){null!==u?Yc(r,i,o,u,c):kl(r,i,o)}function Fl(r,i){return r.parentNode(i)}function mg(r,i,o){return ff(r,i,o)}let vf,Oi,ff=function Bu(r,i,o){return 40&r.type?jr(r,o):null};function ea(r,i,o,u){const c=xy(r,u,i),h=i[11],D=mg(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let x=0;x<o.length;x++)gg(h,c,o[x],D,!1);else gg(h,c,o,D,!1)}function pf(r,i){if(null!==i){const o=i.type;if(3&o)return jr(i,r);if(4&o)return pu(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return pf(r,u);{const c=r[i.index];return Qr(c)?pu(-1,c):fr(c)}}if(32&o)return Qe(i,r)()||fr(r[i.index]);{const u=Ll(r,i);return null!==u?Array.isArray(u)?u[0]:pf(Yt(r[16]),u):pf(r,i.next)}}return null}function Ll(r,i){return null!==i?r[16][6].projection[i.projection]:null}function pu(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return pf(u,c)}return i[7]}function ju(r,i,o,u,c,h,y){for(;null!=o;){const D=u[o.index],x=o.type;if(y&&0===i&&(D&&ei(fr(D),u),o.flags|=2),32!=(32&o.flags))if(8&x)ju(r,i,o.child,u,c,h,!1),Vu(i,r,c,D,h);else if(32&x){const F=Qe(o,u);let W;for(;W=F();)Vu(i,r,c,W,h);Vu(i,r,c,D,h)}else 16&x?Ny(r,i,u,o,c,h):Vu(i,r,c,D,h);o=y?o.projectionNext:o.next}}function Vl(r,i,o,u,c,h){ju(o,u,r.firstChild,i,c,h,!1)}function Ny(r,i,o,u,c,h){const y=o[16],x=y[6].projection[u.projection];if(Array.isArray(x))for(let F=0;F<x.length;F++)Vu(i,r,c,x[F],h);else ju(r,i,x,y[3],c,h,!0)}function gf(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function Oy(r,i,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&pr(r,i,u),null!==c&&gf(r,i,c),null!==h&&function L0(r,i,o){r.setAttribute(i,"style",o)}(r,i,h)}function V0(r){vf=r}function gc(r){return function _g(){if(void 0===Oi&&(Oi=null,Vt.trustedTypes))try{Oi=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Oi}()?.createScriptURL(r)||r}class _f{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function Ys(r){return r instanceof _f?r.changingThisBreaksApplicationSecurity:r}function Hu(r,i){const o=function yc(r){return r instanceof _f&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Dt})`)}return o===i}const nh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var os=(()=>((os=os||{})[os.NONE=0]="NONE",os[os.HTML=1]="HTML",os[os.STYLE=2]="STYLE",os[os.SCRIPT=3]="SCRIPT",os[os.URL=4]="URL",os[os.RESOURCE_URL=5]="RESOURCE_URL",os))();function Cg(r){const i=ks();return i?i.sanitize(os.URL,r)||"":Hu(r,"URL")?Ys(r):function If(r){return(r=String(r)).match(nh)?r:"unsafe:"+r}(Ze(r))}function Jc(r){const i=ks();if(i)return gc(i.sanitize(os.RESOURCE_URL,r)||"");if(Hu(r,"ResourceURL"))return gc(Ys(r));throw new Le(904,!1)}function br(r,i,o){return function Qs(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?Jc:Cg}(i,o)(r)}function ks(){const r=S();return r&&r[12]}const as=new zn("ENVIRONMENT_INITIALIZER"),Tg=new zn("INJECTOR",-1),zr=new zn("INJECTOR_DEF_TYPES");class qy{get(i,o=pn){if(o===pn){const u=new Error(`NullInjectorError: No provider for ${Ie(i)}!`);throw u.name="NullInjectorError",u}return o}}function el(...r){return{\u0275providers:jl(0,r),\u0275fromNgModule:!0}}function jl(r,...i){const o=[],u=new Set;let c;return ho(i,h=>{const y=h;$l(y,o,[],u)&&(c||(c=[]),c.push(y))}),void 0!==c&&oh(c,o),o}function oh(r,i){for(let o=0;o<r.length;o++){const{providers:c}=r[o];Tf(c,h=>{i.push(h)})}}function $l(r,i,o,u){if(!(r=fe(r)))return!1;let c=null,h=Nn(r);const y=!h&&xn(r);if(h||y){if(y&&!y.standalone)return!1;c=r}else{const x=r.ngModule;if(h=Nn(x),!h)return!1;c=x}const D=u.has(c);if(y){if(D)return!1;if(u.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const F of x)$l(F,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let F;u.add(c);try{ho(h.imports,W=>{$l(W,i,o,u)&&(F||(F=[]),F.push(W))})}finally{}void 0!==F&&oh(F,i)}if(!D){const F=hs(c)||(()=>new c);i.push({provide:c,useFactory:F,deps:le},{provide:zr,useValue:c,multi:!0},{provide:as,useValue:()=>lt(c),multi:!0})}const x=h.providers;null==x||D||Tf(x,W=>{i.push(W)})}}return c!==r&&void 0!==r.providers}function Tf(r,i){for(let o of r)$e(o)&&(o=o.\u0275providers),Array.isArray(o)?Tf(o,i):i(o)}const Wu=ye({provide:String,useValue:ye});function Sf(r){return null!==r&&"object"==typeof r&&Wu in r}function qu(r){return"function"==typeof r}const ah=new zn("Set Injector scope."),mu={},ko={};let uh;function nl(){return void 0===uh&&(uh=new qy),uh}class Ja{}class Ag extends Ja{get destroyed(){return this._destroyed}constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gl(i,y=>this.processProvider(y)),this.records.set(Tg,Hl(void 0,this)),c.has("environment")&&this.records.set(Ja,Hl(void 0,this));const h=this.records.get(ah);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(zr.multi,le,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Gt(this),u=cr(void 0);try{return i()}finally{Gt(o),cr(u)}}get(i,o=pn,u=ct.Default){this.assertNotDestroyed(),u=Ut(u);const c=Gt(this),h=cr(void 0);try{if(!(u&ct.SkipSelf)){let D=this.records.get(i);if(void 0===D){const x=function Xy(r){return"function"==typeof r||"object"==typeof r&&r instanceof zn}(i)&&wn(i);D=x&&this.injectableDefInScope(x)?Hl(ch(i),mu):null,this.records.set(i,D)}if(null!=D)return this.hydrate(i,D)}return(u&ct.Self?nl():this.parent).get(i,o=u&ct.Optional&&o===pn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Tr]=y[Tr]||[]).unshift(Ie(i)),c)throw y;return function ce(r,i,o,u){const c=r[Tr];throw i[ii]&&c.unshift(i[ii]),r.message=function re(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=Ie(i);if(Array.isArray(i))c=i.map(Ie).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let D=i[y];h.push(y+":"+("string"==typeof D?JSON.stringify(D):Ie(D)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(ri,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[Tr]=null,r}(y,i,"R3InjectorError",this.source)}throw y}finally{cr(h),Gt(c)}}resolveInjectorInitializers(){const i=Gt(this),o=cr(void 0);try{const u=this.get(as.multi,le,ct.Self);for(const c of u)c()}finally{Gt(i),cr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ie(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(i){let o=qu(i=fe(i))?i:fe(i&&i.provide);const u=function Ky(r){return Sf(r)?Hl(void 0,r.useValue):Hl(xg(r),mu)}(i);if(qu(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Hl(void 0,mu,!0),c.factory=()=>$t(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===mu&&(o.value=ko,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Qy(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=fe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function ch(r){const i=wn(r),o=null!==i?i.factory:hs(r);if(null!==o)return o;if(r instanceof zn)throw new Le(204,!1);if(r instanceof Function)return function lh(r){const i=r.length;if(i>0)throw fo(i,"?"),new Le(204,!1);const o=function In(r){const i=r&&(r[mr]||r[Ln]);if(i){const o=function jt(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Le(204,!1)}function xg(r,i,o){let u;if(qu(r)){const c=fe(r);return hs(c)||ch(c)}if(Sf(r))u=()=>fe(r.useValue);else if(function Sg(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...$t(r.deps||[]));else if(function tl(r){return!(!r||!r.useExisting)}(r))u=()=>lt(fe(r.useExisting));else{const c=fe(r&&(r.useClass||r.provide));if(!function Yy(r){return!!r.deps}(r))return hs(c)||ch(c);u=()=>new c(...$t(r.deps))}return u}function Hl(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Gl(r,i){for(const o of r)Array.isArray(o)?Gl(o,i):o&&$e(o)?Gl(o.\u0275providers,i):i(o)}class Z0{}class Jy{}class tv{resolveComponentFactory(i){throw function ev(r){const i=Error(`No component factory found for ${Ie(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let eu=(()=>{class r{}return r.NULL=new tv,r})();function nv(){return tu(be(),S())}function tu(r,i){return new Wl(jr(r,i))}let Wl=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=nv,r})();function rv(r){return r instanceof Wl?r.nativeElement:r}class ql{}let K0=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Y0(){const r=S(),o=_n(be().index,r);return(vi(o)?o:r)[11]}(),r})(),gi=(()=>{class r{}return r.\u0275prov=wt({token:r,providedIn:"root",factory:()=>null}),r})();class dh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const hh=new dh("15.1.4"),xf={};function Rg(r){return r.ngOriginalError}class Zl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Rg(i);for(;o&&Rg(o);)o=Rg(o);return o||null}}function Ng(r){return r.ownerDocument.defaultView}function xr(r){return r instanceof Function?r():r}function Pg(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||r.charCodeAt(c+h)<=32)return c}o=c+1}}const Xl="ng-template";function uv(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Pg(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function nu(r){return 4===r.type&&r.value!==Xl}function cv(r,i,o){return i===(4!==r.type||o?r.value:Xl)}function ph(r,i,o){let u=4;const c=r.attrs||[],h=function Mf(r){for(let i=0;i<r.length;i++)if(Wi(r[i]))return i;return r.length}(c);let y=!1;for(let D=0;D<i.length;D++){const x=i[D];if("number"!=typeof x){if(!y)if(4&u){if(u=2|1&u,""!==x&&!cv(r,x,o)||""===x&&1===i.length){if(ru(u))return!1;y=!0}}else{const F=8&u?x:i[++D];if(8&u&&null!==r.attrs){if(!uv(r.attrs,F,o)){if(ru(u))return!1;y=!0}continue}const ee=X0(8&u?"class":x,c,nu(r),o);if(-1===ee){if(ru(u))return!1;y=!0;continue}if(""!==F){let ge;ge=ee>h?"":c[ee+1].toLowerCase();const xe=8&u?ge:null;if(xe&&-1!==Pg(xe,F,0)||2&u&&F!==ge){if(ru(u))return!1;y=!0}}}}else{if(!y&&!ru(u)&&!ru(x))return!1;if(y&&ru(x))continue;y=!1,u=x|1&u}}return ru(u)||y}function ru(r){return 0==(1&r)}function X0(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const y=i[c];if(y===r)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let D=i[++c];for(;"string"==typeof D;)D=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function gh(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Cn(r,i,o=!1){for(let u=0;u<i.length;u++)if(ph(r,i[u],o))return!0;return!1}function mh(r,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(r.length===u.length){for(let c=0;c<r.length;c++)if(r[c]!==u[c])continue e;return!0}}return!1}function yh(r,i){return r?":not("+i.trim()+")":i}function lv(r){let i=r[0],o=1,u=2,c="",h=!1;for(;o<r.length;){let y=r[o];if("string"==typeof y)if(2&u){const D=r[++o];c+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!ru(y)&&(i+=yh(h,c),c=""),u=y,h=h||!ru(u);o++}return""!==c&&(i+=yh(h,c)),i}const En={};function kg(r){Fg(R(),S(),ci()+r,!1)}function Fg(r,i,o,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&da(i,h,o)}else{const h=r.preOrderHooks;null!==h&&T(i,h,0,o)}zi(o)}function Vg(r,i=null,o=null,u){const c=ed(r,i,o,u);return c.resolveInjectorInitializers(),c}function ed(r,i=null,o=null,u,c=new Set){const h=[o||le,el(r)];return u=u||("object"==typeof r?void 0:Ie(r)),new Ag(h,i||nl(),u||null,c)}let go=(()=>{class r{static create(o,u){if(Array.isArray(o))return Vg({name:""},u,o,"");{const c=o.name??"";return Vg({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=pn,r.NULL=new qy,r.\u0275prov=wt({token:r,providedIn:"any",factory:()=>lt(Tg)}),r.__NG_ELEMENT_ID__=-1,r})();function rd(r,i=ct.Default){const o=S();return null===o?lt(r,i):uu(be(),o,fe(r),i)}function bv(){throw new Error("invalid")}function Cv(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const y=r.data[h];ao(o[u]),y.contentQueries(2,i[h],h)}}}function Ff(r,i,o,u,c,h,y,D,x,F,W){const ee=i.blueprint.slice();return ee[0]=c,ee[2]=76|u,(null!==W||r&&1024&r[2])&&(ee[2]|=1024),Co(ee),ee[3]=ee[15]=r,ee[8]=o,ee[10]=y||r&&r[10],ee[11]=D||r&&r[11],ee[12]=x||r&&r[12]||null,ee[9]=F||r&&r[9]||null,ee[6]=h,ee[20]=function fg(){return Wc++}(),ee[21]=W,ee[16]=2==i.type?r[16]:ee,ee}function id(r,i,o,u,c){let h=r.data[i];if(null===h)h=function $g(r,i,o,u,c){const h=Ct(),y=ui(),x=r.data[i]=function Fs(r,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=x),null!==h&&(y?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(r,i,o,u,c),function su(){return tn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const y=function Dn(){const r=tn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return rr(h,!0),h}function vh(r,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function Hg(r,i,o){Wo(i);try{const u=r.viewQuery;null!==u&&Wf(1,u,o);const c=r.template;null!==c&&Tv(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Cv(r,i),r.staticViewQueries&&Wf(2,r.viewQuery,o);const h=r.components;null!==h&&function hE(r,i){for(let o=0;o<i.length;o++)Lv(r,i[o])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,au()}}function Lf(r,i,o,u){const c=i[2];if(128!=(128&c)){Wo(i);try{Co(i),function Ns(r){return tn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Tv(r,i,o,2,u);const y=3==(3&c);if(y){const F=r.preOrderCheckHooks;null!==F&&da(i,F,null)}else{const F=r.preOrderHooks;null!==F&&T(i,F,0,null),V(i,0)}if(function wh(r){for(let i=Jo(r);null!==i;i=Ra(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u];512&c[2]||ar(c[3],1),c[2]|=512}}}(i),function mE(r){for(let i=Jo(r);null!==i;i=Ra(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Pr(u)&&Lf(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&Cv(r,i),y){const F=r.contentCheckHooks;null!==F&&da(i,F)}else{const F=r.contentHooks;null!==F&&T(i,F,1),V(i,1)}!function lE(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)zi(~c);else{const h=c,y=o[++u],D=o[++u];zo(y,h),D(2,i[h])}}}finally{zi(-1)}}(r,i);const D=r.components;null!==D&&function dE(r,i){for(let o=0;o<i.length;o++)ul(r,i[o])}(i,D);const x=r.viewQuery;if(null!==x&&Wf(2,x,u),y){const F=r.viewCheckHooks;null!==F&&da(i,F)}else{const F=r.viewHooks;null!==F&&T(i,F,2),V(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,ar(i[3],-1))}finally{au()}}}function Tv(r,i,o,u,c){const h=ci(),y=2&u;try{zi(-1),y&&i.length>22&&Fg(r,i,22,!1),o(u,c)}finally{zi(h)}}function Gg(r,i,o){if(Ds(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const y=r.data[h];y.contentQueries&&y.contentQueries(1,o[h],h)}}}function zg(r,i,o){oa()&&(function Rv(r,i,o,u){const c=o.directiveStart,h=o.directiveEnd;jo(o)&&function Eh(r,i,o){const u=jr(i,r),c=Sv(o),h=r[10],y=Ih(r,Ff(r,c,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));r[i.index]=y}(i,o,r.data[c+o.componentOffset]),r.firstCreatePass||Ro(o,i),ei(u,i);const y=o.initialInputs;for(let D=c;D<h;D++){const x=r.data[D],F=ir(i,r,D,o);ei(F,i),null!==y&&kv(0,D-c,F,x,0,y),Nr(x)&&(_n(o.index,i)[8]=ir(i,r,D,o))}}(r,i,o,jr(o,i)),64==(64&o.flags)&&Hf(r,i,o))}function Vf(r,i,o=jr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],D=-1===y?o(i,r):r[y];r[c++]=D}}}function Sv(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Uf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Uf(r,i,o,u,c,h,y,D,x,F){const W=22+u,ee=W+c,ge=function Av(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:En);return o}(W,ee),xe="function"==typeof F?F():F;return ge[1]={type:r,blueprint:ge,template:o,queries:null,viewQuery:D,declTNode:i,data:ge.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:xe,incompleteFirstPass:!1}}function Bf(r,i,o,u){const c=qf(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Qg(r).push(u,c.length-1))}function jf(r,i,o,u){for(let c in r)if(r.hasOwnProperty(c)){o=null===o?{}:o;const h=r[c];null===u?$f(o,i,c,h):u.hasOwnProperty(c)&&$f(o,i,u[c],h)}return o}function $f(r,i,o,u){r.hasOwnProperty(o)?r[o].push(i,u):r[o]=[i,u]}function ta(r,i,o,u,c,h,y,D){const x=jr(i,o);let W,F=i.inputs;!D&&null!=F&&(W=F[u])?(bh(r,o,W,u,c),jo(i)&&xv(o,i.index)):3&i.type&&(u=function _c(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=y?y(c,i.value||"",u):c,h.setProperty(x,u,c))}function xv(r,i){const o=_n(i,r);16&o[2]||(o[2]|=32)}function Yu(r,i,o,u){let c=!1;if(oa()){const h=null===u?null:{"":-1},y=function Nv(r,i){const o=r.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const y=o[h];if(Cn(i,y.selectors,!1))if(u||(u=[]),Nr(y))if(null!==y.findHostDirectiveDefs){const D=[];c=c||new Map,y.findHostDirectiveDefs(y,D,c),u.unshift(...D,y),Gf(r,i,D.length)}else u.unshift(y),Gf(r,i,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,u,c),u.push(y)}return null===u?null:[u,c]}(r,o);let D,x;null===y?D=x=null:[D,x]=y,null!==D&&(c=!0,Ec(r,i,o,D,h,x)),h&&function pE(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new Le(-301,!1);u.push(i[c],h)}}}(o,u,h)}return o.mergedAttrs=li(o.mergedAttrs,o.attrs),c}function Ec(r,i,o,u,c,h){for(let F=0;F<u.length;F++)pa(Ro(o,i),r,u[F].type);!function Pv(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}(o,r.data.length,u.length);for(let F=0;F<u.length;F++){const W=u[F];W.providersResolver&&W.providersResolver(W)}let y=!1,D=!1,x=vh(r,i,u.length,null);for(let F=0;F<u.length;F++){const W=u[F];o.mergedAttrs=li(o.mergedAttrs,W.hostAttrs),zf(r,o,i,x,W),Ov(x,W,c),null!==W.contentQueries&&(o.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(o.flags|=64);const ee=W.type.prototype;!y&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!D&&(ee.ngOnChanges||ee.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),D=!0),x++}!function Wg(r,i,o){const c=i.directiveEnd,h=r.data,y=i.attrs,D=[];let x=null,F=null;for(let W=i.directiveStart;W<c;W++){const ee=h[W],ge=o?o.get(ee):null,Je=ge?ge.outputs:null;x=jf(ee.inputs,W,x,ge?ge.inputs:null),F=jf(ee.outputs,W,F,Je);const vt=null===x||null===y||nu(i)?null:gE(x,W,y);D.push(vt)}null!==x&&(x.hasOwnProperty("class")&&(i.flags|=8),x.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=D,i.inputs=x,i.outputs=F}(r,o,h)}function Hf(r,i,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,y=function ba(){return tn.lFrame.currentDirectiveIndex}();try{zi(h);for(let D=u;D<c;D++){const x=r.data[D],F=i[D];Gs(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Zg(x,F)}}finally{zi(-1),Gs(y)}}function Zg(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Gf(r,i,o){i.componentOffset=o,(r.components||(r.components=[])).push(i.index)}function Ov(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Nr(i)&&(o[""]=r)}}function zf(r,i,o,u,c){r.data[u]=c;const h=c.factory||(c.factory=hs(c.type)),y=new Ne(h,Nr(c),rd);r.blueprint[u]=y,o[u]=y,function al(r,i,o,u,c){const h=c.hostBindings;if(h){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const D=~i.index;(function _h(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=D&&y.push(D),y.push(o,u,h)}}(r,i,u,vh(r,o,c.hostVars,En),c)}function yo(r,i,o,u,c,h){const y=jr(r,i);!function Kg(r,i,o,u,c,h,y){if(null==h)r.removeAttribute(i,c,o);else{const D=null==y?Ze(h):y(h,u||"",c);r.setAttribute(i,c,D,o)}}(i[11],y,h,r.value,o,u,c)}function kv(r,i,o,u,c,h){const y=h[i];if(null!==y){const D=u.setInput;for(let x=0;x<y.length;){const F=y[x++],W=y[x++],ee=y[x++];null!==D?u.setInput(o,ee,F,W):o[W]=ee}}}function gE(r,i,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===u&&(u=[]);const y=r[h];for(let D=0;D<y.length;D+=2)if(y[D]===i){u.push(h,y[D+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Fv(r,i,o,u){return[r,!0,!1,i,null,0,u,o,null,null]}function ul(r,i){const o=_n(i,r);if(Pr(o)){const u=o[1];48&o[2]?Lf(u,o,u.template,o[8]):o[5]>0&&yu(o)}}function yu(r){for(let u=Jo(r);null!==u;u=Ra(u))for(let c=10;c<u.length;c++){const h=u[c];if(Pr(h))if(512&h[2]){const y=h[1];Lf(y,h,y.template,h[8])}else h[5]>0&&yu(h)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=_n(o[u],r);Pr(c)&&c[5]>0&&yu(c)}}function Lv(r,i){const o=_n(i,r),u=o[1];(function yE(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),Hg(u,o,o[8])}function Ih(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Yg(r){for(;r;){r[2]|=32;const i=Yt(r);if(Tu(r)&&!i)return r;r=i}return null}function sd(r,i,o,u=!0){const c=i[10];c.begin&&c.begin();try{Lf(r,i,r.template,o)}catch(y){throw u&&Bv(i,y),y}finally{c.end&&c.end()}}function Wf(r,i,o){ao(0),i(r,o)}function qf(r){return r[7]||(r[7]=[])}function Qg(r){return r.cleanup||(r.cleanup=[])}function Bv(r,i){const o=r[9],u=o?o.get(Zl,null):null;u&&u.handleError(i)}function bh(r,i,o,u,c){for(let h=0;h<o.length;){const y=o[h++],D=o[h++],x=i[y],F=r.data[y];null!==F.setInput?F.setInput(x,c,u,D):x[D]=c}}function Oa(r,i,o){const u=Ss(i,r);!function Zd(r,i,o){r.setValue(i,o)}(r[11],u,o)}function Zf(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const D=i[y];"number"==typeof D?h=D:1==h?c=Te(c,D):2==h&&(u=Te(u,D+": "+i[++y]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}function Ch(r,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(fr(h)),Qr(h))for(let D=10;D<h.length;D++){const x=h[D],F=x[1].firstChild;null!==F&&Ch(x[1],x,F,u)}const y=o.type;if(8&y)Ch(r,i,o.child,u);else if(32&y){const D=Qe(o,i);let x;for(;x=D();)u.push(x)}else if(16&y){const D=Ll(i,o);if(Array.isArray(D))u.push(...D);else{const x=Yt(i[16]);Ch(x[1],x,D,u,!0)}}o=c?o.projectionNext:o.next}return u}class Qu{get rootNodes(){const i=this._lView,o=i[1];return Ch(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Qr(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(pi(i,u),ys(o,u))}this._attachedToViewContainer=!1}St(this._lView[1],this._lView)}onDestroy(i){Bf(this._lView[1],this._lView,null,i)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){sd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ar(r,i){Vl(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=i}}class Kf extends Qu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;sd(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class od extends eu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=xn(i);return new ad(o,this.ngModule)}}function Xg(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class na{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Ut(u);const c=this.injector.get(i,xf,u);return c!==xf||o===xf?c:this.parentInjector.get(i,o,u)}}class ad extends Jy{get inputs(){return Xg(this.componentDef.inputs)}get outputs(){return Xg(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function dv(r){return r.map(lv).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,c){let h=(c=c||this.ngModule)instanceof Ja?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new na(i,h):i,D=y.get(ql,null);if(null===D)throw new Le(407,!1);const x=y.get(gi,null),F=D.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ee=u?function fE(r,i,o){return r.selectRootElement(i,o===Fe.ShadowDom)}(F,u,this.componentDef.encapsulation):un(F,W,function jv(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(W)),ge=this.componentDef.onPush?288:272,xe=Uf(0,null,null,1,0,null,null,null,null,null),Je=Ff(null,xe,null,ge,null,null,D,F,x,y,null);let vt,Pt;Wo(Je);try{const Wt=this.componentDef;let dn,ht=null;Wt.findHostDirectiveDefs?(dn=[],ht=new Map,Wt.findHostDirectiveDefs(Wt,dn,ht),dn.push(Wt)):dn=[Wt];const Sn=function $v(r,i){const o=r[1];return r[22]=i,id(o,22,2,"#host",null)}(Je,ee),Fi=function wc(r,i,o,u,c,h,y,D){const x=c[1];!function ud(r,i,o,u){for(const c of r)i.mergedAttrs=li(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Zf(i,i.mergedAttrs,!0),null!==o&&Oy(u,o,i))}(u,r,i,y);const F=h.createRenderer(i,o),W=Ff(c,Sv(o),null,o.onPush?32:16,c[r.index],r,h,F,D||null,null,null);return x.firstCreatePass&&Gf(x,r,u.length-1),Ih(c,W),c[r.index]=W}(Sn,ee,Wt,dn,Je,D,F);Pt=Ir(xe,22),ee&&function cl(r,i,o,u){if(u)pr(r,o,["ng-version",hh.full]);else{const{attrs:c,classes:h}=function hv(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++u]):8===c&&o.push(h);else{if(!ru(c))break;c=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);c&&pr(r,o,c),h&&h.length>0&&gf(r,o,h.join(" "))}}(F,Wt,ee,u),void 0!==o&&function vE(r,i,o){const u=r.projection=[];for(let c=0;c<i.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(Pt,this.ngContentSelectors,o),vt=function Hv(r,i,o,u,c,h){const y=be(),D=c[1],x=jr(y,c);Ec(D,c,y,o,null,u);for(let W=0;W<o.length;W++)ei(ir(c,D,y.directiveStart+W,y),c);Hf(D,c,y),x&&ei(x,c);const F=ir(c,D,y.directiveStart+y.componentOffset,y);if(r[8]=c[8]=F,null!==h)for(const W of h)W(F,i);return Gg(D,y,r),F}(Fi,Wt,dn,ht,Je,[cd]),Hg(xe,Je,null)}finally{au()}return new Yf(this.componentType,vt,tu(Pt,Je),Je,Pt)}}class Yf extends Z0{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Kf(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const h=this._rootLView;bh(h[1],h,c,i,o),xv(h,this._tNode.index)}}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function cd(){const r=be();la(S()[1],r)}function vu(r){let i=function em(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(Nr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Le(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const y=r;y.inputs=tm(r.inputs),y.declaredInputs=tm(r.declaredInputs),y.outputs=tm(r.outputs);const D=c.hostBindings;D&&wE(r,D);const x=c.viewQuery,F=c.contentQueries;if(x&&_E(r,x),F&&EE(r,F),Ce(r.inputs,c.inputs),Ce(r.declaredInputs,c.declaredInputs),Ce(r.outputs,c.outputs),Nr(c)&&c.data.animation){const W=r.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const D=h[y];D&&D.ngInherit&&D(r),D===vu&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Gv(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=li(c.hostAttrs,o=li(o,c.hostAttrs))}}(u)}function tm(r){return r===Et?{}:r===le?[]:r}function _E(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function EE(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function wE(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let Th=null;function dl(){if(!Th){const r=Vt.Symbol;if(r&&r.iterator)Th=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Th=u)}}}return Th}function Jf(r){return!!us(r)&&(Array.isArray(r)||!(r instanceof Map)&&dl()in r)}function us(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function _u(r,i,o){return r[i]=o}function vo(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Ic(r,i,o,u){const c=vo(r,i,o);return vo(r,i+1,u)||c}function sm(r,i,o,u){const c=S();return vo(c,Hs(),i)&&(R(),yo(Un(),c,r,i,o,u)),sm}function Dc(r,i,o,u){return vo(r,Hs(),o)?i+Ze(o)+u:En}function bc(r,i,o,u,c,h){const D=Ic(r,wi(),o,c);return ts(2),D?i+Ze(o)+u+Ze(c)+h:En}function Eu(r,i,o,u,c,h,y,D){const F=function ep(r,i,o,u,c){const h=Ic(r,i,o,u);return vo(r,i+2,c)||h}(r,wi(),o,c,y);return ts(3),F?i+Ze(o)+u+Ze(c)+h+Ze(y)+D:En}function Ah(r,i,o,u,c,h,y,D){const x=S(),F=R(),W=r+22,ee=F.firstCreatePass?function lm(r,i,o,u,c,h,y,D,x){const F=i.consts,W=id(i,r,4,y||null,$r(F,D));Yu(i,o,W,$r(F,x)),la(i,W);const ee=W.tViews=Uf(2,W,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,F);return null!==i.queries&&(i.queries.template(i,W),ee.queries=i.queries.embeddedTView(W)),W}(W,F,x,i,o,u,c,h,y):F.data[W];rr(ee,!1);const ge=x[11].createComment("");ea(F,x,ge,ee),ei(ge,x),Ih(x,x[W]=Fv(ge,x,ge,ee)),wa(ee)&&zg(F,x,ee),null!=y&&Vf(x,ee,D)}function np(r,i,o){const u=S();return vo(u,Hs(),i)&&ta(R(),Un(),u,r,i,u[11],o,!1),np}function dm(r,i,o,u,c){const y=c?"class":"style";bh(r,o,i.inputs[y],y,u)}function rp(r,i,o,u){const c=S(),h=R(),y=22+r,D=c[11],x=c[y]=un(D,i,function Ha(){return tn.lFrame.currentNamespace}()),F=h.firstCreatePass?function hm(r,i,o,u,c,h,y){const D=i.consts,F=id(i,r,2,c,$r(D,h));return Yu(i,o,F,$r(D,y)),null!==F.attrs&&Zf(F,F.attrs,!1),null!==F.mergedAttrs&&Zf(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(y,h,c,0,i,o,u):h.data[y];return rr(F,!0),Oy(D,x,F),32!=(32&F.flags)&&ea(h,c,x,F),0===function $s(){return tn.lFrame.elementDepthCount}()&&ei(x,c),function xs(){tn.lFrame.elementDepthCount++}(),wa(F)&&(zg(h,c,F),Gg(h,F,c)),null!==u&&Vf(c,F),rp}function hd(){let r=be();ui()?Gi():(r=r.parent,rr(r,!1));const i=r;!function kr(){tn.lFrame.elementDepthCount--}();const o=R();return o.firstCreatePass&&(la(o,r),Ds(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function kn(r){return 0!=(8&r.flags)}(i)&&dm(o,i,S(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ln(r){return 0!=(16&r.flags)}(i)&&dm(o,i,S(),i.stylesWithoutHost,!1),hd}function ip(r,i,o,u){return rp(r,i,o,u),hd(),ip}function Mh(){return S()}function Rh(r){return!!r&&"function"==typeof r.then}function sp(r){return!!r&&"function"==typeof r.subscribe}const op=sp;function ap(r,i,o,u){const c=S(),h=R(),y=be();return function Nh(r,i,o,u,c,h,y){const D=wa(u),F=r.firstCreatePass&&Qg(r),W=i[8],ee=qf(i);let ge=!0;if(3&u.type||y){const vt=jr(u,i),Pt=y?y(vt):vt,Wt=ee.length,dn=y?Sn=>y(fr(Sn[u.index])):u.index;let ht=null;if(!y&&D&&(ht=function t_(r,i,o,u){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===o&&c[h+1]===u){const D=i[7],x=c[h+2];return D.length>x?D[x]:null}"string"==typeof y&&(h+=2)}return null}(r,i,c,u.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=h,ht.__ngLastListenerFn__=h,ge=!1;else{h=n_(u,i,W,h,!1);const Sn=o.listen(Pt,c,h);ee.push(h,Sn),F&&F.push(c,dn,Wt,Wt+1)}}else h=n_(u,i,W,h,!1);const xe=u.outputs;let Je;if(ge&&null!==xe&&(Je=xe[c])){const vt=Je.length;if(vt)for(let Pt=0;Pt<vt;Pt+=2){const Fi=i[Je[Pt]][Je[Pt+1]].subscribe(h),Es=ee.length;ee.push(h,Fi),F&&F.push(c,u.index,Es,-(Es+1))}}}(h,c,c[11],y,r,i,u),ap}function up(r,i,o,u){try{return!1!==o(u)}catch(c){return Bv(r,c),!1}}function n_(r,i,o,u,c){return function h(y){if(y===Function)return u;Yg(r.componentOffset>-1?_n(r.index,i):i);let x=up(i,0,u,y),F=h.__ngNextListenerFn__;for(;F;)x=up(i,0,F,y)&&x,F=F.__ngNextListenerFn__;return c&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function r_(r=1){return function ja(r){return(tn.lFrame.contextLView=function Ao(r,i){for(;r>0;)i=i[15],r--;return i}(r,tn.lFrame.contextLView))[8]}(r)}function _o(r,i){let o=null;const u=function J0(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(r);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===u?Cn(r,h,!0):mh(u,h))return c}else o=c}return o}function i_(r){const i=S()[16][6];if(!i.projection){const u=i.projection=fo(r?r.length:1,null),c=u.slice();let h=i.child;for(;null!==h;){const y=r?_o(h,r):0;null!==y&&(c[y]?c[y].projectionNext=h:u[y]=h,c[y]=h),h=h.next}}}function fm(r,i=0,o){const u=S(),c=R(),h=id(c,22+r,16,null,o||null);null===h.projection&&(h.projection=i),Gi(),32!=(32&h.flags)&&function vg(r,i,o){Ny(i[11],0,i,o,xy(r,o,i),mg(o.parent||i[6],o,i))}(c,u,h)}function Sc(r,i,o,u,c){const h=S(),y=Dc(h,i,o,u);return y!==En&&ta(R(),Un(),h,r,y,h[11],c,!1),Sc}function Ph(r,i,o,u,c,h,y){const D=S(),x=bc(D,i,o,u,c,h);return x!==En&&ta(R(),Un(),D,r,x,D[11],y,!1),Ph}function lp(r,i){return r<<17|i<<2}function Pa(r){return r>>17&32767}function kh(r){return 2|r}function wu(r){return(131068&r)>>2}function gl(r,i){return-131069&r|i<<2}function dp(r){return 1|r}function f_(r,i,o,u,c){const h=r[o+1],y=null===i;let D=u?Pa(h):wu(h),x=!1;for(;0!==D&&(!1===x||y);){const W=r[D+1];ym(r[D],i)&&(x=!0,r[D+1]=u?dp(W):kh(W)),D=u?Pa(W):wu(W)}x&&(r[o+1]=u?kh(h):dp(h))}function ym(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&m(r,i)>=0}const _s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hp(r){return r.substring(_s.key,_s.keyEnd)}function Fh(r,i){const o=_s.textEnd;return o===i?-1:(i=_s.keyEnd=function SE(r,i,o){for(;i<o&&r.charCodeAt(i)>32;)i++;return i}(r,_s.key=i,o),Ac(r,i,o))}function Ac(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function Im(r,i,o){return Fa(r,i,o,!1),Im}function Lh(r,i){return Fa(r,i,null,!0),Lh}function ka(r,i){for(let o=function vm(r){return function ml(r){_s.key=0,_s.keyEnd=0,_s.value=0,_s.valueEnd=0,_s.textEnd=r.length}(r),Fh(r,Ac(r,0,_s.textEnd))}(i);o>=0;o=Fh(i,o))_(r,hp(i),!0)}function Fa(r,i,o,u){const c=S(),h=R(),y=ts(2);h.firstUpdatePass&&pp(h,r,y,u),i!==En&&vo(c,y,i)&&gp(h,h.data[ci()],c,c[11],r,c[y+1]=function Cm(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Ie(Ys(r)))),r}(i,o),u,y)}function fp(r,i){return i>=r.expandoStartIndex}function pp(r,i,o,u){const c=r.data;if(null===c[o+1]){const h=c[ci()],y=fp(r,o);v_(h,u)&&null===i&&!y&&(i=!1),i=function md(r,i,o,u){const c=function oo(r){const i=tn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=vd(o=Mc(null,r,i,o,u),i.attrs,u),h=null);else{const y=i.directiveStylingLast;if(-1===y||r[y]!==c)if(o=Mc(c,r,i,o,u),null===h){let x=function xc(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==wu(u))return r[Pa(u)]}(r,i,u);void 0!==x&&Array.isArray(x)&&(x=Mc(null,r,i,x[1],u),x=vd(x,i.attrs,u),function bm(r,i,o,u){r[Pa(o?i.classBindings:i.styleBindings)]=u}(r,i,u,x))}else h=function yd(r,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=vd(u,r[h].hostAttrs,o);return vd(u,i.attrs,o)}(r,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function Ju(r,i,o,u,c,h){let y=h?i.classBindings:i.styleBindings,D=Pa(y),x=wu(y);r[u]=o;let W,F=!1;if(Array.isArray(o)?(W=o[1],(null===W||m(o,W)>0)&&(F=!0)):W=o,c)if(0!==x){const ge=Pa(r[D+1]);r[u+1]=lp(ge,D),0!==ge&&(r[ge+1]=gl(r[ge+1],u)),r[D+1]=function gd(r,i){return 131071&r|i<<17}(r[D+1],u)}else r[u+1]=lp(D,0),0!==D&&(r[D+1]=gl(r[D+1],u)),D=u;else r[u+1]=lp(x,0),0===D?D=u:r[x+1]=gl(r[x+1],u),x=u;F&&(r[u+1]=kh(r[u+1])),f_(r,W,u,!0),f_(r,W,u,!1),function h_(r,i,o,u,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&m(h,i)>=0&&(o[u+1]=dp(o[u+1]))}(i,W,r,u,h),y=lp(D,x),h?i.classBindings=y:i.styleBindings=y}(c,h,i,o,y,u)}}function Mc(r,i,o,u,c){let h=null;const y=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<y&&(h=i[D],u=vd(u,h.hostAttrs,c),h!==r);)D++;return null!==r&&(o.directiveStylingLast=D),u}function vd(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),_(r,y,!!o||i[++h]))}return void 0===r?null:r}function gp(r,i,o,u,c,h,y,D){if(!(3&i.type))return;const x=r.data,F=x[D+1],W=function mm(r){return 1==(1&r)}(F)?mp(x,i,o,c,wu(F),y):void 0;Ed(W)||(Ed(h)||function gm(r){return 2==(2&r)}(F)&&(h=mp(x,null,o,c,D,y)),function ma(r,i,o,u,c){if(i)c?r.addClass(o,u):r.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:fi.DashCase;null==c?r.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=fi.Important),r.setStyle(o,u,c,h))}}(u,y,Ss(ci(),o),c,h))}function mp(r,i,o,u,c,h){const y=null===i;let D;for(;c>0;){const x=r[c],F=Array.isArray(x),W=F?x[1]:x,ee=null===W;let ge=o[c+1];ge===En&&(ge=ee?le:void 0);let xe=ee?E(ge,u):W===u?ge:void 0;if(F&&!Ed(xe)&&(xe=E(x,u)),Ed(xe)&&(D=xe,y))return D;const Je=r[c+1];c=y?Pa(Je):wu(Je)}if(null!==i){let x=h?i.residualClasses:i.residualStyles;null!=x&&(D=E(x,u))}return D}function Ed(r){return void 0!==r}function v_(r,i){return 0!=(r.flags&(i?8:16))}function __(r,i=""){const o=S(),u=R(),c=r+22,h=u.firstCreatePass?id(u,c,1,i,null):u.data[c],y=o[c]=function Ol(r,i){return r.createText(i)}(o[11],i);ea(u,o,y,h),rr(h,!1)}function Vh(r){return wd("",r,""),Vh}function wd(r,i,o){const u=S(),c=Dc(u,r,i,o);return c!==En&&Oa(u,ci(),c),wd}function Tm(r,i,o,u,c){const h=S(),y=bc(h,r,i,o,u,c);return y!==En&&Oa(h,ci(),y),Tm}function yp(r,i,o,u,c,h,y){const D=S(),x=Eu(D,r,i,o,u,c,h,y);return x!==En&&Oa(D,ci(),x),yp}function I_(r,i,o){!function va(r,i,o,u){const c=R(),h=ts(2);c.firstUpdatePass&&pp(c,null,h,u);const y=S();if(o!==En&&vo(y,h,o)){const D=c.data[ci()];if(v_(D,u)&&!fp(c,h)){let x=u?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(o=Te(x,o||"")),dm(c,D,y,o,u)}else!function ME(r,i,o,u,c,h,y,D){c===En&&(c=le);let x=0,F=0,W=0<c.length?c[0]:null,ee=0<h.length?h[0]:null;for(;null!==W||null!==ee;){const ge=x<c.length?c[x+1]:void 0,xe=F<h.length?h[F+1]:void 0;let vt,Je=null;W===ee?(x+=2,F+=2,ge!==xe&&(Je=ee,vt=xe)):null===ee||null!==W&&W<ee?(x+=2,Je=W):(F+=2,Je=ee,vt=xe),null!==Je&&gp(r,i,o,u,Je,vt,y,D),W=x<c.length?c[x]:null,ee=F<h.length?h[F]:null}}(c,D,y,y[11],y[h+1],y[h+1]=function _d(r,i,o){if(null==o||""===o)return le;const u=[],c=Ys(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)r(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&r(u,h,c[h]);else"string"==typeof c&&i(u,c);return u}(r,i,o),u,h)}}(_,ka,Dc(S(),r,i,o),!0)}const ec=void 0;var Bm=["en",[["a","p"],["AM","PM"],ec],[["AM","PM"],ec,ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ec,"{1} 'at' {0}",ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VE(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Id={};function Uh(r){const i=function jm(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=S_(i);if(o)return o;const u=i.split("-")[0];if(o=S_(u),o)return o;if("en"===u)return Bm;throw new Le(701,!1)}function bp(r){return Uh(r)[an.PluralCase]}function S_(r){return r in Id||(Id[r]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[r]),Id[r]}var an=(()=>((an=an||{})[an.LocaleId=0]="LocaleId",an[an.DayPeriodsFormat=1]="DayPeriodsFormat",an[an.DayPeriodsStandalone=2]="DayPeriodsStandalone",an[an.DaysFormat=3]="DaysFormat",an[an.DaysStandalone=4]="DaysStandalone",an[an.MonthsFormat=5]="MonthsFormat",an[an.MonthsStandalone=6]="MonthsStandalone",an[an.Eras=7]="Eras",an[an.FirstDayOfWeek=8]="FirstDayOfWeek",an[an.WeekendRange=9]="WeekendRange",an[an.DateFormat=10]="DateFormat",an[an.TimeFormat=11]="TimeFormat",an[an.DateTimeFormat=12]="DateTimeFormat",an[an.NumberSymbols=13]="NumberSymbols",an[an.NumberFormats=14]="NumberFormats",an[an.CurrencyCode=15]="CurrencyCode",an[an.CurrencySymbol=16]="CurrencySymbol",an[an.CurrencyName=17]="CurrencyName",an[an.Currencies=18]="Currencies",an[an.Directionality=19]="Directionality",an[an.PluralCase=20]="PluralCase",an[an.ExtraData=21]="ExtraData",an))();const vl="en-US";let Tp=vl;function sy(r,i,o,u,c){if(r=fe(r),Array.isArray(r))for(let h=0;h<r.length;h++)sy(r[h],i,o,u,c);else{const h=R(),y=S();let D=qu(r)?r:fe(r.provide),x=xg(r);const F=be(),W=1048575&F.providerIndexes,ee=F.directiveStart,ge=F.providerIndexes>>20;if(qu(r)||!r.multi){const xe=new Ne(x,c,rd),Je=Sd(D,i,c?W:W+ge,ee);-1===Je?(pa(Ro(F,y),h,D),Vp(h,r,i.length),i.push(D),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(xe),y.push(xe)):(o[Je]=xe,y[Je]=xe)}else{const xe=Sd(D,i,W+ge,ee),Je=Sd(D,i,W,W+ge),Pt=Je>=0&&o[Je];if(c&&!Pt||!c&&!(xe>=0&&o[xe])){pa(Ro(F,y),h,D);const Wt=function $h(r,i,o,u,c){const h=new Ne(r,o,rd);return h.multi=[],h.index=i,h.componentProviders=0,oy(h,c,u&&!o),h}(c?Il:ow,o.length,c,u,x);!c&&Pt&&(o[Je].providerFactory=Wt),Vp(h,r,i.length,0),i.push(D),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),o.push(Wt),y.push(Wt)}else Vp(h,r,xe>-1?xe:Je,oy(o[c?Je:xe],x,!c&&u));!c&&u&&Pt&&o[Je].componentProviders++}}}function Vp(r,i,o,u){const c=qu(i),h=function Af(r){return!!r.useClass}(i);if(c||h){const x=(h?fe(i.useClass):i).prototype.ngOnDestroy;if(x){const F=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const W=F.indexOf(o);-1===W?F.push(o,[u,x]):F[W+1].push(u,x)}else F.push(o,x)}}}function oy(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Sd(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function ow(r,i,o,u){return Ad(this.multi,[])}function Il(r,i,o,u){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=ir(o,o[1],this.providerFactory.index,u);h=D.slice(0,y),Ad(c,h);for(let x=y;x<D.length;x++)h.push(D[x])}else h=[],Ad(c,h);return h}function Ad(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function ay(r,i=[]){return o=>{o.providersResolver=(u,c)=>function sw(r,i,o){const u=R();if(u.firstCreatePass){const c=Nr(r);sy(o,u.data,u.blueprint,c,!0),sy(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class Nc{}class W_{}function aw(r,i){return new Up(r,i??null)}class Up extends Nc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new od(this);const u=Yr(i);this._bootstrapComponents=xr(u.bootstrap),this._r3Injector=ed(i,o,[{provide:Nc,useValue:this},{provide:eu,useValue:this.componentFactoryResolver}],Ie(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Hh extends W_{constructor(i){super(),this.moduleType=i}create(i){return new Up(this.moduleType,i)}}class q_ extends Nc{constructor(i,o,u){super(),this.componentFactoryResolver=new od(this),this.instance=null;const c=new Ag([...i,{provide:Nc,useValue:this},{provide:eu,useValue:this.componentFactoryResolver}],o||nl(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function nc(r,i,o=null){return new q_(r,i,o).injector}let Z_=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=jl(0,o.type),c=u.length>0?nc([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=wt({token:r,providedIn:"environment",factory:()=>new r(lt(Ja))}),r})();function uy(r){r.getStandaloneInjector=i=>i.get(Z_).getOrCreateStandaloneInjector(r)}function cw(r,i,o){const u=Xr()+r,c=S();return c[u]===En?_u(c,u,o?i.call(o):i()):function Sh(r,i){return r[i]}(c,u)}function jp(r,i,o,u){return J_(S(),Xr(),r,i,o,u)}function X_(r,i,o,u,c){return function ly(r,i,o,u,c,h,y){const D=i+o;return Ic(r,D,c,h)?_u(r,D+2,y?u.call(y,c,h):u(c,h)):Kh(r,D+2)}(S(),Xr(),r,i,o,u,c)}function Kh(r,i){const o=r[i];return o===En?void 0:o}function J_(r,i,o,u,c,h){const y=i+o;return vo(r,y,c)?_u(r,y+1,h?u.call(h,c):u(c)):Kh(r,y+1)}function py(r,i){const o=R();let u;const c=r+22;o.firstCreatePass?(u=function e0(r,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(r===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=hs(u.type)),y=cr(rd);try{const D=ns(!1),x=h();return ns(D),function Qv(r,i,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=u}(o,S(),c,x),x}finally{cr(y)}}function Yh(r,i,o){const u=r+22,c=S(),h=function Ei(r,i){return r[i]}(c,u);return function zp(r,i){return r[1].data[i].pure}(c,u)?J_(c,Xr(),i,h.transform,o,h):h.transform(o)}function rc(r){return i=>{setTimeout(r,void 0,i)}}const Ls=class eI extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,h=o||(()=>null),y=u;if(i&&"object"==typeof i){const x=i;c=x.next?.bind(x),h=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(h=rc(h),c&&(c=rc(c)),y&&(y=rc(y)));const D=super.subscribe({next:c,error:h,complete:y});return i instanceof H.w0&&i.add(D),D}};function Qh(){return this._results[dl()]()}class Cu{get changes(){return this._changes||(this._changes=new Ls)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=dl(),u=Cu.prototype;u[o]||(u[o]=Qh)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=function Ni(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Nu(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Pc,r})();const n0=Xh,mw=class extends n0{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tViews,c=Ff(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(u)),Hg(u,c,i),new Qu(c)}};function Pc(){return Wp(be(),S())}function Wp(r,i){return 4&r.type?new mw(i,r,tu(r,i)):null}let qp=(()=>{class r{}return r.__NG_ELEMENT_ID__=yw,r})();function yw(){return s0(be(),S())}const vw=qp,r0=class extends vw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ga(this._hostTNode,this._hostLView);if(xo(i)){const o=Ps(i,this._hostLView),u=Mo(i);return new zs(o[1].data[u+8],o)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=gy(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const y=i.createEmbeddedView(o||{},h);return this.insert(y,c),y}createComponent(i,o,u,c,h){const y=i&&!function Ya(r){return"function"==typeof r}(i);let D;if(y)D=o;else{const ee=o||{};D=ee.index,u=ee.injector,c=ee.projectableNodes,h=ee.environmentInjector||ee.ngModuleRef}const x=y?i:new ad(xn(i)),F=u||this.parentInjector;if(!h&&null==x.ngModule){const ge=(y?F:this.parentInjector).get(Ja,null);ge&&(h=ge)}const W=x.create(F,c,void 0,h);return this.insert(W.hostView,D),W}insert(i,o){const u=i._lView,c=u[1];if(function Da(r){return Qr(r[3])}(u)){const W=this.indexOf(i);if(-1!==W)this.detach(W);else{const ee=u[3],ge=new r0(ee,ee[6],ee[3]);ge.detach(ge.indexOf(i))}}const h=this._adjustIndex(o),y=this._lContainer;!function Zc(r,i,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=i),u<h-10?(i[4]=o[c],Xo(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const y=i[17];null!==y&&o!==y&&function Hn(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(y,i);const D=i[19];null!==D&&D.insertView(r),i[2]|=64}(c,u,y,h);const D=pu(h,y),x=u[11],F=Fl(x,y[7]);return null!==F&&function Yd(r,i,o,u,c,h){u[0]=c,u[6]=i,Vl(r,u,o,1,c,h)}(c,y[6],x,u,F,D),i.attachToViewContainerRef(),Xo(Zp(y),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=gy(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=pi(this._lContainer,o);u&&(ys(Zp(this._lContainer),o),St(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=pi(this._lContainer,o);return u&&null!=ys(Zp(this._lContainer),o)?new Qu(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function gy(r){return r[8]}function Zp(r){return r[8]||(r[8]=[])}function s0(r,i){let o;const u=i[r.index];if(Qr(u))o=u;else{let c;if(8&r.type)c=fr(u);else{const h=i[11];c=h.createComment("");const y=jr(r,i);Yc(h,Fl(h,y),c,function Ry(r,i){return r.nextSibling(i)}(h,y),!1)}i[r.index]=o=Fv(u,i,c,r),Ih(i,o)}return new r0(o,r,i)}class my{constructor(i){this.queryList=i,this.matches=null}clone(){return new my(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const y=o.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Kp(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==vy(i,o).matches&&this.queries[o].setDirty()}}class o0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class kc{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new kc(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Jh{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Jh(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,tI(o,h)),this.matchTNodeWithReadOption(i,o,Oo(o,i,h,!1,!1))}else u===Xh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Oo(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Wl||c===qp||c===Xh&&4&o.type)this.addMatch(o.index,-2);else{const h=Oo(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function tI(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Ew(r,i,o,u){return-1===o?function _w(r,i){return 11&r.type?tu(r,i):4&r.type?Wp(r,i):null}(i,r):-2===o?function a0(r,i,o){return o===Wl?tu(i,r):o===Xh?Wp(i,r):o===qp?s0(i,r):void 0}(r,i,u):ir(r,r[1],o,i)}function ic(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const h=r.data,y=o.matches,D=[];for(let x=0;x<y.length;x+=2){const F=y[x];D.push(F<0?null:Ew(i,h[F],y[x+1],o.metadata.read))}c.matches=D}return c.matches}function yy(r,i,o,u){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const y=ic(r,i,c,o);for(let D=0;D<h.length;D+=2){const x=h[D];if(x>0)u.push(y[D/2]);else{const F=h[D+1],W=i[-x];for(let ee=10;ee<W.length;ee++){const ge=W[ee];ge[17]===ge[3]&&yy(ge[1],ge,F,u)}if(null!==W[9]){const ee=W[9];for(let ge=0;ge<ee.length;ge++){const xe=ee[ge];yy(xe[1],xe,F,u)}}}}}return u}function u0(r){const i=S(),o=R(),u=Va();ao(u+1);const c=vy(o,u);if(r.dirty&&function ai(r){return 4==(4&r[2])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?yy(o,i,u,[]):ic(o,i,c,u);r.reset(h,rv),r.notifyOnChanges()}return!0}return!1}function c0(r,i,o){const u=R();u.firstCreatePass&&(Iw(u,new o0(r,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),h0(u,S(),i)}function l0(r,i,o,u){const c=R();if(c.firstCreatePass){const h=be();Iw(c,new o0(i,o,u),h.index),function nI(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}h0(c,S(),o)}function d0(){return function ww(r,i){return r[19].queries[i].queryList}(S(),Va())}function h0(r,i,o){const u=new Cu(4==(4&o));Bf(r,i,u,u.destroy),null===i[19]&&(i[19]=new Kp),i[19].queries.push(new my(u))}function Iw(r,i,o){null===r.queries&&(r.queries=new kc),r.queries.track(new Jh(i,o))}function vy(r,i){return r.queries.getByIndex(i)}function ng(...r){}const x0=new zn("Application Initializer");let Bc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=ng,this.reject=ng,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Rh(h))o.push(h);else if(op(h)){const y=new Promise((D,x)=>{h.subscribe({complete:D,error:x})});o.push(y)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(lt(x0,8))},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const kd=new zn("AppId",{providedIn:"root",factory:function M0(){return`${Cl()}${Cl()}${Cl()}`}});function Cl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fd=new zn("Platform Initializer"),tf=new zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sc=new zn("appBootstrapListener");let xw=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const ig=new zn("LocaleId",{providedIn:"root",factory:()=>bt(ig,ct.Optional|ct.SkipSelf)||function Mw(){return typeof $localize<"u"&&$localize.locale||vl}()}),Rw=new zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Ow=(()=>{class r{compileModuleSync(o){return new Hh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=xr(Yr(o).declarations).reduce((y,D)=>{const x=xn(D);return x&&y.push(new ad(x)),y},[]);return new Nw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const e=(()=>Promise.resolve(0))();function t(r){typeof Zone>"u"?e.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class l{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function s(){let r=Vt.requestAnimationFrame,i=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function U(r){const i=()=>{!function O(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Vt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Y(r),r.isCheckStableRunning=!0,I(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Y(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,y,D)=>{try{return ue(r),o.invokeTask(c,h,y,D)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),De(r)}},onInvoke:(o,u,c,h,y,D,x)=>{try{return ue(r),o.invoke(c,h,y,D,x)}finally{r.shouldCoalesceRunChangeDetection&&i(),De(r)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Y(r),I(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!l.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(l.isInAngularZone())throw new Le(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,p,ng,ng);try{return h.runTask(y,o,u)}finally{h.cancelTask(y)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const p={};function I(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Y(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ue(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function De(r){r._nesting--,I(r)}class We{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const st=new zn(""),_t=new zn("");let mn,Bt=(()=>{class r{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mn||(function ni(r){mn=r}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{l.assertNotInAngularZone(),t(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())t(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(lt(l),lt(Yn),lt(_t))},r.\u0275prov=wt({token:r,factory:r.\u0275fac}),r})(),Yn=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return mn?.findTestabilityInTree(this,o,u)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),fn=null;const yn=new zn("AllowMultipleToken"),Tn=new zn("PlatformDestroyListeners");class NI{constructor(i,o){this.name=i,this.token=o}}function pI(r,i,o=[]){const u=`Platform: ${i}`,c=new zn(u);return(h=[])=>{let y=kw();if(!y||y.injector.get(yn,!1)){const D=[...o,...h,{provide:c,useValue:!0}];r?r(D):function OI(r){if(fn&&!fn.get(yn,!1))throw new Le(400,!1);fn=r;const i=r.get(mI);(function fI(r){const i=r.get(Fd,null);i&&i.forEach(o=>o())})(r)}(function gI(r=[],i){return go.create({name:i,providers:[{provide:ah,useValue:"platform"},{provide:Tn,useValue:new Set([()=>fn=null])},...r]})}(D,u))}return function kI(r){const i=kw();if(!i)throw new Le(401,!1);return i}()}}function kw(){return fn?.get(mI)??null}let mI=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function vI(r,i){let o;return o="noop"===r?new We:("zone.js"===r?void 0:r)||new l(i),o}(u?.ngZone,function yI(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:l,useValue:c}];return c.run(()=>{const y=go.create({providers:h,parent:this.injector,name:o.moduleType.name}),D=o.create(y),x=D.injector.get(Zl,null);if(!x)throw new Le(402,!1);return c.runOutsideAngular(()=>{const F=c.onError.subscribe({next:W=>{x.handleError(W)}});D.onDestroy(()=>{O0(this._modules,D),F.unsubscribe()})}),function _I(r,i,o){try{const u=o();return Rh(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(x,c,()=>{const F=D.injector.get(Bc);return F.runInitializers(),F.donePromise.then(()=>(function Sp(r){ft(r,"Expected localeId to be defined"),"string"==typeof r&&(Tp=r.toLowerCase().replace(/_/g,"-"))}(D.injector.get(ig,vl)||vl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const c=EI({},u);return function jc(r,i,o){const u=new Hh(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(N0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Le(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Tn,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(lt(go))},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function EI(r,i){return Array.isArray(i)?i.reduce(EI,r):{...r,...i}}let N0=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new v.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new v.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{l.assertNotInAngularZone(),t(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),F.unsubscribe()}});this.isStable=(0,de.T)(h,y.pipe((0,he.B)()))}bootstrap(o,u){const c=o instanceof Jy;if(!this._injector.get(Bc).done)throw!c&&Zn(o),new Le(405,false);let y;y=c?o:this._injector.get(eu).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const D=function RI(r){return r.isBoundToModule}(y)?void 0:this._injector.get(Nc),F=y.create(go.NULL,[],u||y.selector,D),W=F.location.nativeElement,ee=F.injector.get(st,null);return ee?.registerApplication(W),F.onDestroy(()=>{this.detachView(F.hostView),O0(this.components,F),ee?.unregisterApplication(W)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;O0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(sc,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>O0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Le(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(lt(l),lt(Ja),lt(Zl))},r.\u0275prov=wt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function O0(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}function LI(){return!1}let VI=(()=>{class r{}return r.__NG_ELEMENT_ID__=UI,r})();function UI(r){return function BI(r,i,o){if(jo(r)&&!o){const u=_n(r.index,i);return new Qu(u,u)}return 47&r.type?new Qu(i[16],i):null}(be(),S(),16==(16&r))}class CI{constructor(){}supports(i){return Jf(i)}create(i){return new WI(i)}}const zI=(r,i)=>i;class WI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||zI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const y=!u||o&&o.currentIndex<SI(u,c,h)?o:u,D=SI(y,c,h),x=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{h||(h=[]);const F=D-c,W=x-c;if(F!=W){for(let ge=0;ge<F;ge++){const xe=ge<h.length?h[ge]:h[ge]=0,Je=xe+ge;W<=Je&&Je<F&&(h[ge]=xe+1)}h[y.previousIndex]=W-F}}D!==x&&i(y,D,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Jf(i))throw new Le(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let D=0;D<this.length;D++)h=i[D],y=this._trackByFn(D,h),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,h,y,D)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,y,D),u=!0),o=o._next}else c=0,function im(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[dl()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,D=>{y=this._trackByFn(c,D),null!==o&&Object.is(o.trackById,y)?(u&&(o=this._verifyReinsertion(o,D,y,c)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,y,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new qI(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class qI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new ZI,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SI(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class AI{constructor(){}supports(i){return i instanceof Map||us(i)}create(){return new KI}}class KI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||us(i)))throw new Le(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const u=new YI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class YI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xI(){return new Bw([new CI])}let Bw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||xI()),deps:[[r,new P,new di]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Le(901,!1)}}return r.\u0275prov=wt({token:r,providedIn:"root",factory:xI}),r})();function MI(){return new jw([new AI])}let jw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||MI()),deps:[[r,new P,new di]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Le(901,!1)}}return r.\u0275prov=wt({token:r,providedIn:"root",factory:MI}),r})();const JI=pI(null,"core",[]);let eD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(lt(N0))},r.\u0275mod=Kr({type:r}),r.\u0275inj=An({}),r})();function tD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},433:(It,Re,j)=>{j.d(Re,{Fj:()=>ke,qu:()=>$s,u:()=>$o,sg:()=>ro,u5:()=>aa,JJ:()=>en,JL:()=>Vt,F:()=>Ui,On:()=>Ur,YN:()=>so,UX:()=>To,_Y:()=>Rr,Kr:()=>Ts});var g=j(4650),H=j(6895),v=j(8996),de=j(9751),he=j(4742),ye=j(8421),Ce=j(3269),Ie=j(5403),Te=j(3268),oe=j(1810),fe=j(4004);let tt=(()=>{class S{constructor(A,Z){this._renderer=A,this._elementRef=Z,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(A,Z){this._renderer.setProperty(this._elementRef.nativeElement,A,Z)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(g.Qsj),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S}),S})(),$e=(()=>{class S extends tt{}return S.\u0275fac=function(){let R;return function(Z){return(R||(R=g.n5z(S)))(Z||S)}}(),S.\u0275dir=g.lG2({type:S,features:[g.qOj]}),S})();const nt=new g.OlP("NgValueAccessor"),qe={provide:nt,useExisting:(0,g.Gpc)(()=>ke),multi:!0},et=new g.OlP("CompositionEventMode");let ke=(()=>{class S extends tt{constructor(A,Z,be){super(A,Z),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ze(){const S=(0,H.q)()?(0,H.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(et,8))},S.\u0275dir=g.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Z){1&A&&g.NdJ("input",function(Ct){return Z._handleInput(Ct.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(Ct){return Z._compositionEnd(Ct.target.value)})},features:[g._Bn([qe]),g.qOj]}),S})();const pe=new g.OlP("NgValidators"),Se=new g.OlP("NgAsyncValidators");function ft(S){return null!=S}function yt(S){return(0,g.QGY)(S)?(0,v.D)(S):S}function vn(S){let R={};return S.forEach(A=>{R=null!=A?{...R,...A}:R}),0===Object.keys(R).length?null:R}function Ee(S,R){return R.map(A=>A(S))}function wt(S){return S.map(R=>function Mt(S){return!S.validate}(R)?R:A=>R.validate(A))}function An(S){return null!=S?function At(S){if(!S)return null;const R=S.filter(ft);return 0==R.length?null:function(A){return vn(Ee(A,R))}}(wt(S)):null}function hn(S){return null!=S?function wn(S){if(!S)return null;const R=S.filter(ft);return 0==R.length?null:function(A){return function se(...S){const R=(0,Ce.jO)(S),{args:A,keys:Z}=(0,he.D)(S),be=new de.y(Ct=>{const{length:Dn}=A;if(!Dn)return void Ct.complete();const rr=new Array(Dn);let ui=Dn,Gi=Dn;for(let es=0;es<Dn;es++){let Ms=!1;(0,ye.Xf)(A[es]).subscribe((0,Ie.x)(Ct,Rs=>{Ms||(Ms=!0,Gi--),rr[es]=Rs},()=>ui--,void 0,()=>{(!ui||!Ms)&&(Gi||Ct.next(Z?(0,oe.n)(Z,rr):rr),Ct.complete())}))}});return R?be.pipe((0,Te.Z)(R)):be}(Ee(A,R).map(yt)).pipe((0,fe.U)(vn))}}(wt(S)):null}function Xn(S,R){return null===S?[R]:Array.isArray(S)?[...S,R]:[S,R]}function In(S){return S._rawValidators}function jt(S){return S._rawAsyncValidators}function Nn(S){return S?Array.isArray(S)?S:[S]:[]}function mr(S,R){return Array.isArray(S)?S.includes(R):S===R}function ur(S,R){const A=Nn(R);return Nn(S).forEach(be=>{mr(A,be)||A.push(be)}),A}function Ln(S,R){return Nn(R).filter(A=>!mr(S,A))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=An(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,A){return!!this.control&&this.control.hasError(R,A)}getError(R,A){return this.control?this.control.getError(R,A):null}}class ct extends yr{get formDirective(){return null}get path(){return null}}class Wn extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Er{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let en=(()=>{class S extends Er{constructor(A){super(A)}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(Wn,2))},S.\u0275dir=g.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Z){2&A&&g.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[g.qOj]}),S})(),Vt=(()=>{class S extends Er{constructor(A){super(A)}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(ct,10))},S.\u0275dir=g.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Z){2&A&&g.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[g.qOj]}),S})();const sn="VALID",Vn="INVALID",ce="PENDING",re="DISABLED";function Q(S){return(Fe(S)?S.validators:S)||null}function q(S,R){return(Fe(R)?R.asyncValidators:S)||null}function Fe(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}function Et(S,R,A){const Z=S.controls;if(!(R?Object.keys(Z):Z).length)throw new g.vHH(1e3,"");if(!Z[A])throw new g.vHH(1001,"")}function le(S,R,A){S._forEachChild((Z,be)=>{if(void 0===A[be])throw new g.vHH(1002,"")})}class ae{constructor(R,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(A)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===sn}get invalid(){return this.status===Vn}get pending(){return this.status==ce}get disabled(){return this.status===re}get enabled(){return this.status!==re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(ur(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(ur(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Ln(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Ln(R,this._rawAsyncValidators))}hasValidator(R){return mr(this._rawValidators,R)}hasAsyncValidator(R){return mr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=ce,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const A=this._parentMarkedDirty(R.onlySelf);this.status=re,this.errors=null,this._forEachChild(Z=>{Z.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:A}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(R={}){const A=this._parentMarkedDirty(R.onlySelf);this.status=sn,this._forEachChild(Z=>{Z.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:A}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===ce)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?re:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=ce,this._hasOwnPendingAsyncValidator=!0;const A=yt(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,A={}){this.errors=R,this._updateControlsErrors(!1!==A.emitEvent)}get(R){let A=R;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Z,be)=>Z&&Z._find(be),this)}getError(R,A){const Z=A?this.get(A):this;return Z&&Z.errors?Z.errors[R]:null}hasError(R,A){return!!this.getError(R,A)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?re:this.errors?Vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ce)?ce:this._anyControlsHaveStatus(Vn)?Vn:sn}_anyControlsHaveStatus(R){return this._anyControls(A=>A.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Fe(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function X(S){return Array.isArray(S)?An(S):S||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function we(S){return Array.isArray(S)?hn(S):S||null}(this._rawAsyncValidators)}}class J extends ae{constructor(R,A,Z){super(Q(A),q(Z,A)),this.controls=R,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,A){return this.controls[R]?this.controls[R]:(this.controls[R]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(R,A,Z={}){this.registerControl(R,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(R,A={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(R,A,Z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],A&&this.registerControl(R,A),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,A={}){le(this,0,R),Object.keys(R).forEach(Z=>{Et(this,!0,Z),this.controls[Z].setValue(R[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(R,A={}){null!=R&&(Object.keys(R).forEach(Z=>{const be=this.controls[Z];be&&be.patchValue(R[Z],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(R={},A={}){this._forEachChild((Z,be)=>{Z.reset(R[be],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(R,A,Z)=>(R[Z]=A.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(A,Z)=>!!Z._syncPendingControls()||A);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(A=>{const Z=this.controls[A];Z&&R(Z,A)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[A,Z]of Object.entries(this.controls))if(this.contains(A)&&R(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Z,be)=>((Z.enabled||this.disabled)&&(A[be]=Z.value),A))}_reduceChildren(R,A){let Z=R;return this._forEachChild((be,Ct)=>{Z=A(Z,be,Ct)}),Z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class at extends J{}const qn=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jn}),Jn="always";function mi(S,R){return[...R.path,S]}function Zr(S,R,A=Jn){cs(S,R),R.valueAccessor.writeValue(S.value),(S.disabled||"always"===A)&&R.valueAccessor.setDisabledState?.(S.disabled),function eo(S,R){R.valueAccessor.registerOnChange(A=>{S._pendingValue=A,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&$n(S,R)})}(S,R),function vr(S,R){const A=(Z,be)=>{R.valueAccessor.writeValue(Z),be&&R.viewToModelUpdate(Z)};S.registerOnChange(A),R._registerOnDestroy(()=>{S._unregisterOnChange(A)})}(S,R),function xn(S,R){R.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&$n(S,R),"submit"!==S.updateOn&&S.markAsTouched()})}(S,R),function Eo(S,R){if(R.valueAccessor.setDisabledState){const A=Z=>{R.valueAccessor.setDisabledState(Z)};S.registerOnDisabledChange(A),R._registerOnDestroy(()=>{S._unregisterOnDisabledChange(A)})}}(S,R)}function hr(S,R,A=!0){const Z=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(Z),R.valueAccessor.registerOnTouched(Z)),ws(S,R),S&&(R._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Kr(S,R){S.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(R)})}function cs(S,R){const A=In(S);null!==R.validator?S.setValidators(Xn(A,R.validator)):"function"==typeof A&&S.setValidators([A]);const Z=jt(S);null!==R.asyncValidator?S.setAsyncValidators(Xn(Z,R.asyncValidator)):"function"==typeof Z&&S.setAsyncValidators([Z]);const be=()=>S.updateValueAndValidity();Kr(R._rawValidators,be),Kr(R._rawAsyncValidators,be)}function ws(S,R){let A=!1;if(null!==S){if(null!==R.validator){const be=In(S);if(Array.isArray(be)&&be.length>0){const Ct=be.filter(Dn=>Dn!==R.validator);Ct.length!==be.length&&(A=!0,S.setValidators(Ct))}}if(null!==R.asyncValidator){const be=jt(S);if(Array.isArray(be)&&be.length>0){const Ct=be.filter(Dn=>Dn!==R.asyncValidator);Ct.length!==be.length&&(A=!0,S.setAsyncValidators(Ct))}}}const Z=()=>{};return Kr(R._rawValidators,Z),Kr(R._rawAsyncValidators,Z),A}function $n(S,R){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function Zn(S,R){cs(S,R)}function si(S,R){if(!S.hasOwnProperty("model"))return!1;const A=S.model;return!!A.isFirstChange()||!Object.is(R,A.currentValue)}function bi(S,R){S._syncPendingControls(),R.forEach(A=>{const Z=A.control;"submit"===Z.updateOn&&Z._pendingChange&&(A.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}function Pn(S,R){if(!R)return null;let A,Z,be;return Array.isArray(R),R.forEach(Ct=>{Ct.constructor===ke?A=Ct:function _r(S){return Object.getPrototypeOf(S.constructor)===$e}(Ct)?Z=Ct:be=Ct}),be||Z||A||null}const cn={provide:ct,useExisting:(0,g.Gpc)(()=>Ui)},Vi=(()=>Promise.resolve())();let Ui=(()=>{class S extends ct{constructor(A,Z,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new J({},An(A),hn(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){Vi.then(()=>{const Z=this._findContainer(A.path);A.control=Z.registerControl(A.name,A.control),Zr(A.control,A,this.callSetDisabledState),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){Vi.then(()=>{const Z=this._findContainer(A.path);Z&&Z.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){Vi.then(()=>{const Z=this._findContainer(A.path),be=new J({});Zn(be,A),Z.registerControl(A.name,be),be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){Vi.then(()=>{const Z=this._findContainer(A.path);Z&&Z.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,Z){Vi.then(()=>{this.form.get(A.path).setValue(Z)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,bi(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(pe,10),g.Y36(Se,10),g.Y36(qn,8))},S.\u0275dir=g.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,Z){1&A&&g.NdJ("submit",function(Ct){return Z.onSubmit(Ct)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([cn]),g.qOj]}),S})();function Ci(S,R){const A=S.indexOf(R);A>-1&&S.splice(A,1)}function wr(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const tr=class extends ae{constructor(R=null,A,Z){super(Q(A),q(Z,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fe(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=wr(R)?R.value:R)}setValue(R,A={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(R,A={}){this.setValue(R,A)}reset(R=this.defaultValue,A={}){this._applyFormState(R),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Ci(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Ci(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){wr(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},to={provide:Wn,useExisting:(0,g.Gpc)(()=>Ur)},ls=(()=>Promise.resolve())();let Ur=(()=>{class S extends Wn{constructor(A,Z,be,Ct,Dn,rr){super(),this._changeDetectorRef=Dn,this.callSetDisabledState=rr,this.control=new tr,this._registered=!1,this.update=new g.vpe,this._parent=A,this._setValidators(Z),this._setAsyncValidators(be),this.valueAccessor=Pn(0,Ct)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const Z=A.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),si(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){ls.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const Z=A.isDisabled.currentValue,be=0!==Z&&(0,g.D6c)(Z);ls.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?mi(A,this._parent):[A]}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(ct,9),g.Y36(pe,10),g.Y36(Se,10),g.Y36(nt,10),g.Y36(g.sBO,8),g.Y36(qn,8))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([to]),g.qOj,g.TTD]}),S})(),Rr=(()=>{class S{}return S.\u0275fac=function(A){return new(A||S)},S.\u0275dir=g.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),jo=(()=>{class S{}return S.\u0275fac=function(A){return new(A||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({}),S})();const Ti=new g.OlP("NgModelWithFormControlWarning"),no={provide:ct,useExisting:(0,g.Gpc)(()=>ro)};let ro=(()=>{class S extends ct{constructor(A,Z,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(A),this._setAsyncValidators(Z)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ws(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Z=this.form.get(A.path);return Zr(Z,A,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Z}getControl(A){return this.form.get(A.path)}removeControl(A){hr(A.control||null,A,!1),function Uo(S,R){const A=S.indexOf(R);A>-1&&S.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Z){this.form.get(A.path).setValue(Z)}onSubmit(A){return this.submitted=!0,bi(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Z=A.control,be=this.form.get(A.path);Z!==be&&(hr(Z||null,A),(S=>S instanceof tr)(be)&&(Zr(be,A,this.callSetDisabledState),A.control=be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Z=this.form.get(A.path);Zn(Z,A),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Z=this.form.get(A.path);Z&&function Yr(S,R){return ws(S,R)}(Z,A)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cs(this.form,this),this._oldForm&&ws(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(pe,10),g.Y36(Se,10),g.Y36(qn,8))},S.\u0275dir=g.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(A,Z){1&A&&g.NdJ("submit",function(Ct){return Z.onSubmit(Ct)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([no]),g.qOj,g.TTD]}),S})();const $i={provide:Wn,useExisting:(0,g.Gpc)(()=>$o)};let $o=(()=>{class S extends Wn{set isDisabled(A){}constructor(A,Z,be,Ct,Dn){super(),this._ngModelWarningConfig=Dn,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Z),this._setAsyncValidators(be),this.valueAccessor=Pn(0,Ct)}ngOnChanges(A){this._added||this._setUpControl(),si(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(A){return new(A||S)(g.Y36(ct,13),g.Y36(pe,10),g.Y36(Se,10),g.Y36(nt,10),g.Y36(Ti,8))},S.\u0275dir=g.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([$i]),g.qOj,g.TTD]}),S})();const ds={provide:nt,useExisting:(0,g.Gpc)(()=>bs),multi:!0};function oi(S,R){return null==S?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${S}: ${R}`.slice(0,50))}let bs=(()=>{class S extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const be=oi(this._getOptionId(A),A);this.setProperty("value",be)}registerOnChange(A){this.onChange=Z=>{this.value=this._getOptionValue(Z),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),A))return Z;return null}_getOptionValue(A){const Z=function io(S){return S.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z):A}}return S.\u0275fac=function(){let R;return function(Z){return(R||(R=g.n5z(S)))(Z||S)}}(),S.\u0275dir=g.lG2({type:S,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,Z){1&A&&g.NdJ("change",function(Ct){return Z.onChange(Ct.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ds]),g.qOj]}),S})(),so=(()=>{class S{constructor(A,Z,be){this._element=A,this._renderer=Z,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(oi(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(bs,9))},S.\u0275dir=g.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})();const Cs={provide:nt,useExisting:(0,g.Gpc)(()=>fs),multi:!0};function Ho(S,R){return null==S?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${S}: ${R}`.slice(0,50))}let fs=(()=>{class S extends $e{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let Z;if(this.value=A,Array.isArray(A)){const be=A.map(Ct=>this._getOptionId(Ct));Z=(Ct,Dn)=>{Ct._setSelected(be.indexOf(Dn.toString())>-1)}}else Z=(be,Ct)=>{be._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(A){this.onChange=Z=>{const be=[],Ct=Z.selectedOptions;if(void 0!==Ct){const Dn=Ct;for(let rr=0;rr<Dn.length;rr++){const Gi=this._getOptionValue(Dn[rr].value);be.push(Gi)}}else{const Dn=Z.options;for(let rr=0;rr<Dn.length;rr++){const ui=Dn[rr];if(ui.selected){const Gi=this._getOptionValue(ui.value);be.push(Gi)}}}this.value=be,A(be)}}_registerOption(A){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,A),Z}_getOptionId(A){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,A))return Z;return null}_getOptionValue(A){const Z=function hs(S){return S.split(":")[0]}(A);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:A}}return S.\u0275fac=function(){let R;return function(Z){return(R||(R=g.n5z(S)))(Z||S)}}(),S.\u0275dir=g.lG2({type:S,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,Z){1&A&&g.NdJ("change",function(Ct){return Z.onChange(Ct.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Cs]),g.qOj]}),S})(),Ts=(()=>{class S{constructor(A,Z,be){this._element=A,this._renderer=Z,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(Ho(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(Ho(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return S.\u0275fac=function(A){return new(A||S)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(fs,9))},S.\u0275dir=g.lG2({type:S,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),S})(),Co=(()=>{class S{}return S.\u0275fac=function(A){return new(A||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[jo]}),S})();class ar extends ae{constructor(R,A,Z){super(Q(A),q(Z,A)),this.controls=R,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,A={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(R,A,Z={}){this.controls.splice(R,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(R,A={}){let Z=this._adjustIndex(R);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(R,A,Z={}){let be=this._adjustIndex(R);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),A&&(this.controls.splice(be,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,A={}){le(this,0,R),R.forEach((Z,be)=>{Et(this,!1,be),this.at(be).setValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(R,A={}){null!=R&&(R.forEach((Z,be)=>{this.at(be)&&this.at(be).patchValue(Z,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(R=[],A={}){this._forEachChild((Z,be)=>{Z.reset(R[be],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((A,Z)=>!!Z._syncPendingControls()||A,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((A,Z)=>{R(A,Z)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(A=>A.enabled&&R(A))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function sa(S){return!!S&&(void 0!==S.asyncValidators||void 0!==S.validators||void 0!==S.updateOn)}let $s=(()=>{class S{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new S;return A.useNonNullable=!0,A}group(A,Z=null){const be=this._reduceControls(A);let Ct={};return sa(Z)?Ct=Z:null!==Z&&(Ct.validators=Z.validator,Ct.asyncValidators=Z.asyncValidator),new J(be,Ct)}record(A,Z=null){const be=this._reduceControls(A);return new at(be,Z)}control(A,Z,be){let Ct={};return this.useNonNullable?(sa(Z)?Ct=Z:(Ct.validators=Z,Ct.asyncValidators=be),new tr(A,{...Ct,nonNullable:!0})):new tr(A,Z,be)}array(A,Z,be){const Ct=A.map(Dn=>this._createControl(Dn));return new ar(Ct,Z,be)}_reduceControls(A){const Z={};return Object.keys(A).forEach(be=>{Z[be]=this._createControl(A[be])}),Z}_createControl(A){return A instanceof tr||A instanceof ae?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return S.\u0275fac=function(A){return new(A||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),aa=(()=>{class S{static withConfig(A){return{ngModule:S,providers:[{provide:qn,useValue:A.callSetDisabledState??Jn}]}}}return S.\u0275fac=function(A){return new(A||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[Co]}),S})(),To=(()=>{class S{static withConfig(A){return{ngModule:S,providers:[{provide:Ti,useValue:A.warnOnNgModelWithFormControl??"always"},{provide:qn,useValue:A.callSetDisabledState??Jn}]}}}return S.\u0275fac=function(A){return new(A||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[Co]}),S})()},1481:(It,Re,j)=>{j.d(Re,{Dx:()=>lr,b2:()=>yr,q6:()=>Nn});var g=j(6895),H=j(4650);class v extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends v{static makeCurrent(){(0,g.HT)(new de)}onAndCancel(ae,J,me){return ae.addEventListener(J,me,!1),()=>{ae.removeEventListener(J,me,!1)}}dispatchEvent(ae,J){ae.dispatchEvent(J)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,J){return(J=J||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,J){return"window"===J?window:"document"===J?ae:"body"===J?ae.body:null}getBaseHref(ae){const J=function ye(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==J?null:function Ie(le){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",le);const ae=Ce.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(J)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,g.Mx)(document.cookie,ae)}}let Ce,he=null;const Te=new H.OlP("TRANSITION_ID"),se=[{provide:H.ip1,useFactory:function oe(le,ae,J){return()=>{J.get(H.CZH).donePromise.then(()=>{const me=(0,g.q)(),Ye=ae.querySelectorAll(`style[ng-transition="${le}"]`);for(let at=0;at<Ye.length;at++)me.remove(Ye[at])})}},deps:[Te,g.K0,H.zs3],multi:!0}];let tt=(()=>{class le{build(){return new XMLHttpRequest}}return le.\u0275fac=function(J){return new(J||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();const $e=new H.OlP("EventManagerPlugins");let nt=(()=>{class le{constructor(J,me){this._zone=me,this._eventNameToPlugin=new Map,J.forEach(Ye=>Ye.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,me,Ye){return this._findPluginFor(me).addEventListener(J,me,Ye)}addGlobalEventListener(J,me,Ye){return this._findPluginFor(me).addGlobalEventListener(J,me,Ye)}getZone(){return this._zone}_findPluginFor(J){const me=this._eventNameToPlugin.get(J);if(me)return me;const Ye=this._plugins;for(let at=0;at<Ye.length;at++){const Qt=Ye[at];if(Qt.supports(J))return this._eventNameToPlugin.set(J,Qt),Qt}throw new Error(`No event manager plugin found for event ${J}`)}}return le.\u0275fac=function(J){return new(J||le)(H.LFG($e),H.LFG(H.R0b))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();class Dt{constructor(ae){this._doc=ae}addGlobalEventListener(ae,J,me){const Ye=(0,g.q)().getGlobalEventTarget(this._doc,ae);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${J}`);return this.addEventListener(Ye,J,me)}}let Le=(()=>{class le{constructor(){this._stylesSet=new Set}addStyles(J){const me=new Set;J.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),me.add(Ye))}),this.onStylesAdded(me)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return le.\u0275fac=function(J){return new(J||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})(),qe=(()=>{class le extends Le{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,me,Ye){J.forEach(at=>{const Qt=this._doc.createElement("style");Qt.textContent=at,Ye.push(me.appendChild(Qt))})}addHost(J){const me=[];this._addStylesToHost(this._stylesSet,J,me),this._hostNodes.set(J,me)}removeHost(J){const me=this._hostNodes.get(J);me&&me.forEach(Ze),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((me,Ye)=>{this._addStylesToHost(J,Ye,me)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(Ze))}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(g.K0))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();function Ze(le){(0,g.q)().remove(le)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g;function pt(le,ae){return ae.flat(100).map(J=>J.replace(ke,le))}function ot(le){return ae=>{if("__ngUnwrap__"===ae)return le;!1===le(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let gt=(()=>{class le{constructor(J,me,Ye){this.eventManager=J,this.sharedStylesHost=me,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new mt(J)}createRenderer(J,me){if(!J||!me)return this.defaultRenderer;switch(me.encapsulation){case H.ifc.Emulated:{let Ye=this.rendererByCompId.get(me.id);return Ye||(Ye=new ze(this.eventManager,this.sharedStylesHost,me,this.appId),this.rendererByCompId.set(me.id,Ye)),Ye.applyToHost(J),Ye}case H.ifc.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,J,me);default:if(!this.rendererByCompId.has(me.id)){const Ye=pt(me.id,me.styles);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(nt),H.LFG(qe),H.LFG(H.AFp))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();class mt{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,J){return J?document.createElementNS(et[J]||J,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,J){(Ve(ae)?ae.content:ae).appendChild(J)}insertBefore(ae,J,me){ae&&(Ve(ae)?ae.content:ae).insertBefore(J,me)}removeChild(ae,J){ae&&ae.removeChild(J)}selectRootElement(ae,J){let me="string"==typeof ae?document.querySelector(ae):ae;if(!me)throw new Error(`The selector "${ae}" did not match any elements`);return J||(me.textContent=""),me}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,J,me,Ye){if(Ye){J=Ye+":"+J;const at=et[Ye];at?ae.setAttributeNS(at,J,me):ae.setAttribute(J,me)}else ae.setAttribute(J,me)}removeAttribute(ae,J,me){if(me){const Ye=et[me];Ye?ae.removeAttributeNS(Ye,J):ae.removeAttribute(`${me}:${J}`)}else ae.removeAttribute(J)}addClass(ae,J){ae.classList.add(J)}removeClass(ae,J){ae.classList.remove(J)}setStyle(ae,J,me,Ye){Ye&(H.JOm.DashCase|H.JOm.Important)?ae.style.setProperty(J,me,Ye&H.JOm.Important?"important":""):ae.style[J]=me}removeStyle(ae,J,me){me&H.JOm.DashCase?ae.style.removeProperty(J):ae.style[J]=""}setProperty(ae,J,me){ae[J]=me}setValue(ae,J){ae.nodeValue=J}listen(ae,J,me){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,J,ot(me)):this.eventManager.addEventListener(ae,J,ot(me))}}function Ve(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class ze extends mt{constructor(ae,J,me,Ye){super(ae),this.component=me;const at=pt(Ye+"-"+me.id,me.styles);J.addStyles(at),this.contentAttr=function Se(le){return"_ngcontent-%COMP%".replace(ke,le)}(Ye+"-"+me.id),this.hostAttr=function je(le){return"_nghost-%COMP%".replace(ke,le)}(Ye+"-"+me.id)}applyToHost(ae){super.setAttribute(ae,this.hostAttr,"")}createElement(ae,J){const me=super.createElement(ae,J);return super.setAttribute(me,this.contentAttr,""),me}}class rt extends mt{constructor(ae,J,me,Ye){super(ae),this.sharedStylesHost=J,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const at=pt(Ye.id,Ye.styles);for(let Qt=0;Qt<at.length;Qt++){const qn=document.createElement("style");qn.textContent=at[Qt],this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ae,J){return super.appendChild(this.nodeOrShadowRoot(ae),J)}insertBefore(ae,J,me){return super.insertBefore(this.nodeOrShadowRoot(ae),J,me)}removeChild(ae,J){return super.removeChild(this.nodeOrShadowRoot(ae),J)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}}let it=(()=>{class le extends Dt{constructor(J){super(J)}supports(J){return!0}addEventListener(J,me,Ye){return J.addEventListener(me,Ye,!1),()=>this.removeEventListener(J,me,Ye)}removeEventListener(J,me,Ye){return J.removeEventListener(me,Ye)}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(g.K0))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();const ft=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Ee=(()=>{class le extends Dt{constructor(J){super(J)}supports(J){return null!=le.parseEventName(J)}addEventListener(J,me,Ye){const at=le.parseEventName(me),Qt=le.eventCallback(at.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(J,at.domEventName,Qt))}static parseEventName(J){const me=J.toLowerCase().split("."),Ye=me.shift();if(0===me.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const at=le._normalizeKey(me.pop());let Qt="",qn=me.indexOf("code");if(qn>-1&&(me.splice(qn,1),Qt="code."),ft.forEach(mi=>{const Zr=me.indexOf(mi);Zr>-1&&(me.splice(Zr,1),Qt+=mi+".")}),Qt+=at,0!=me.length||0===at.length)return null;const Jn={};return Jn.domEventName=Ye,Jn.fullKey=Qt,Jn}static matchEventFullKeyCode(J,me){let Ye=yt[J.key]||J.key,at="";return me.indexOf("code.")>-1&&(Ye=J.code,at="code."),!(null==Ye||!Ye)&&(Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),ft.forEach(Qt=>{Qt!==Ye&&(0,vn[Qt])(J)&&(at+=Qt+".")}),at+=Ye,at===me)}static eventCallback(J,me,Ye){return at=>{le.matchEventFullKeyCode(at,J)&&Ye.runGuarded(()=>me(at))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(g.K0))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),le})();const Nn=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:g.bD},{provide:H.g9A,useValue:function hn(){de.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function In(){return(0,H.RDi)(document),document},deps:[]}]),mr=new H.OlP(""),ur=[{provide:H.rWj,useClass:class fe{addToWindow(ae){H.dqk.getAngularTestability=(me,Ye=!0)=>{const at=ae.findTestabilityInTree(me,Ye);if(null==at)throw new Error("Could not find testability for element.");return at},H.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(me=>{const Ye=H.dqk.getAllAngularTestabilities();let at=Ye.length,Qt=!1;const qn=function(Jn){Qt=Qt||Jn,at--,0==at&&me(Qt)};Ye.forEach(function(Jn){Jn.whenStable(qn)})})}findTestabilityInTree(ae,J,me){return null==J?null:ae.getTestability(J)??(me?(0,g.q)().isShadowRoot(J)?this.findTestabilityInTree(ae,J.host,!0):this.findTestabilityInTree(ae,J.parentElement,!0):null)}},deps:[]},{provide:H.lri,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]}],Ln=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function Xn(){return new H.qLn},deps:[]},{provide:$e,useClass:it,multi:!0,deps:[g.K0,H.R0b,H.Lbi]},{provide:$e,useClass:Ee,multi:!0,deps:[g.K0]},{provide:gt,useClass:gt,deps:[nt,qe,H.AFp]},{provide:H.FYo,useExisting:gt},{provide:Le,useExisting:qe},{provide:qe,useClass:qe,deps:[g.K0]},{provide:nt,useClass:nt,deps:[$e,H.R0b]},{provide:g.JF,useClass:tt,deps:[]},[]];let yr=(()=>{class le{constructor(J){}static withServerTransition(J){return{ngModule:le,providers:[{provide:H.AFp,useValue:J.appId},{provide:Te,useExisting:H.AFp},se]}}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(mr,12))},le.\u0275mod=H.oAB({type:le}),le.\u0275inj=H.cJS({providers:[...Ln,...ur],imports:[g.ez,H.hGG]}),le})(),lr=(()=>{class le{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return le.\u0275fac=function(J){return new(J||le)(H.LFG(g.K0))},le.\u0275prov=H.Yz7({token:le,factory:function(J){let me=null;return me=J?new J:function cr(){return new lr((0,H.LFG)(g.K0))}(),me},providedIn:"root"}),le})();typeof window<"u"&&window},2435:(It,Re,j)=>{j.d(Re,{gz:()=>Si,F0:()=>ir,rH:()=>Sa,Od:()=>Ri,Bz:()=>Ni,lC:()=>gs});var g=j(4650),H=j(8996),v=j(9646),de=j(1135),he=j(6805),ye=j(9751),Ce=j(4742),Ie=j(4671),Te=j(3268),oe=j(3269),se=j(1810),fe=j(5403),tt=j(9672);function $e(..._){const E=(0,oe.yG)(_),m=(0,oe.jO)(_),{args:C,keys:k}=(0,Ce.D)(_);if(0===C.length)return(0,H.D)([],E);const $=new ye.y(function nt(_,E,m=Ie.y){return C=>{Dt(E,()=>{const{length:k}=_,$=new Array(k);let K=k,ve=k;for(let Ge=0;Ge<k;Ge++)Dt(E,()=>{const xt=(0,H.D)(_[Ge],E);let Nt=!1;xt.subscribe((0,fe.x)(C,Fn=>{$[Ge]=Fn,Nt||(Nt=!0,ve--),ve||C.next(m($.slice()))},()=>{--K||C.complete()}))},C)},C)}}(C,E,k?K=>(0,se.n)(k,K):Ie.y));return m?$.pipe((0,Te.Z)(m)):$}function Dt(_,E,m){_?(0,tt.f)(m,_,E):E()}var Le=j(7272),qe=j(8421);function Ze(_){return new ye.y(E=>{(0,qe.Xf)(_()).subscribe(E)})}var et=j(9635),ke=j(576);function Ke(_,E){const m=(0,ke.m)(_)?_:()=>_,C=k=>k.error(m());return new ye.y(E?k=>E.schedule(C,0,k):C)}var Be=j(515),ut=j(727),pe=j(4482);function Se(){return(0,pe.e)((_,E)=>{let m=null;_._refCount++;const C=(0,fe.x)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const k=_._connection,$=m;m=null,k&&(!$||k===$)&&k.unsubscribe(),E.unsubscribe()});_.subscribe(C),C.closed||(m=_.connect())})}class je extends ye.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,pe.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new ut.w0;const m=this.getSubject();E.add(this.source.subscribe((0,fe.x)(m,void 0,()=>{this._teardown(),m.complete()},C=>{this._teardown(),m.error(C)},()=>this._teardown()))),E.closed&&(this._connection=null,E=ut.w0.EMPTY)}return E}refCount(){return Se()(this)}}var pt=j(7579),ot=j(6895),gt=j(4004),mt=j(3900),Ae=j(5698),Pe=j(8675),Ve=j(9300),ze=j(5577),rt=j(590);function it(_,E){return(0,ke.m)(E)?(0,ze.z)(_,E,1):(0,ze.z)(_,1)}var ft=j(8505);function yt(_){return(0,pe.e)((E,m)=>{let $,C=null,k=!1;C=E.subscribe((0,fe.x)(m,void 0,void 0,K=>{$=(0,qe.Xf)(_(K,yt(_)(E))),C?(C.unsubscribe(),C=null,$.subscribe(m)):k=!0})),k&&(C.unsubscribe(),C=null,$.subscribe(m))})}var vn=j(5026);function Ee(_){return _<=0?()=>Be.E:(0,pe.e)((E,m)=>{let C=[];E.subscribe((0,fe.x)(m,k=>{C.push(k),_<C.length&&C.shift()},()=>{for(const k of C)m.next(k);m.complete()},void 0,()=>{C=null}))})}var Mt=j(8068),wt=j(6590);function At(_,E){const m=arguments.length>=2;return C=>C.pipe(_?(0,Ve.h)((k,$)=>_(k,$,C)):Ie.y,Ee(1),m?(0,wt.d)(E):(0,Mt.T)(()=>new he.K))}function hn(_){return(0,pe.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(_)}})}var Xn=j(8189),In=j(1481);const jt="primary",Nn=Symbol("RouteTitle");class mr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function ur(_){return new mr(_)}function Ln(_,E,m){const C=m.path.split("/");if(C.length>_.length||"full"===m.pathMatch&&(E.hasChildren()||C.length<_.length))return null;const k={};for(let $=0;$<C.length;$++){const K=C[$],ve=_[$];if(K.startsWith(":"))k[K.substring(1)]=ve;else if(K!==ve.path)return null}return{consumed:_.slice(0,C.length),posParams:k}}function ct(_,E){const m=_?Object.keys(_):void 0,C=E?Object.keys(E):void 0;if(!m||!C||m.length!=C.length)return!1;let k;for(let $=0;$<m.length;$++)if(k=m[$],!Wn(_[k],E[k]))return!1;return!0}function Wn(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const m=[..._].sort(),C=[...E].sort();return m.every((k,$)=>C[$]===k)}return _===E}function Er(_){return Array.prototype.concat.apply([],_)}function cr(_){return _.length>0?_[_.length-1]:null}function en(_,E){for(const m in _)_.hasOwnProperty(m)&&E(_[m],m)}function Vt(_){return(0,g.CqO)(_)?_:(0,g.QGY)(_)?(0,H.D)(Promise.resolve(_)):(0,v.of)(_)}const Ot=!1,Ht={exact:function Tr(_,E,m){if(!He(_.segments,E.segments)||!ii(_.segments,E.segments,m)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const C in E.children)if(!_.children[C]||!Tr(_.children[C],E.children[C],m))return!1;return!0},subset:ri},On={exact:function or(_,E){return ct(_,E)},subset:function dr(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(m=>Wn(_[m],E[m]))},ignored:()=>!0};function pn(_,E,m){return Ht[m.paths](_.root,E.root,m.matrixParams)&&On[m.queryParams](_.queryParams,E.queryParams)&&!("exact"===m.fragment&&_.fragment!==E.fragment)}function ri(_,E,m){return rn(_,E,E.segments,m)}function rn(_,E,m,C){if(_.segments.length>m.length){const k=_.segments.slice(0,m.length);return!(!He(k,m)||E.hasChildren()||!ii(k,m,C))}if(_.segments.length===m.length){if(!He(_.segments,m)||!ii(_.segments,m,C))return!1;for(const k in E.children)if(!_.children[k]||!ri(_.children[k],E.children[k],C))return!1;return!0}{const k=m.slice(0,_.segments.length),$=m.slice(_.segments.length);return!!(He(_.segments,k)&&ii(_.segments,k,C)&&_.children[jt])&&rn(_.children[jt],E,$,C)}}function ii(_,E,m){return E.every((C,k)=>On[m](_[k].parameters,C.parameters))}class Jt{constructor(E=new Gt([],{}),m={},C=null){this.root=E,this.queryParams=m,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class Gt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,en(m,(C,k)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vn(this)}}class jn{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return Et(this)}}function He(_,E){return _.length===E.length&&_.every((m,C)=>m.path===E[C].path)}let Ut=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:function(){return new $t},providedIn:"root"}),_})();class $t{parse(E){const m=new Jn(E);return new Jt(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${ce(E.root,!0)}`,C=function ae(_){const E=Object.keys(_).map(m=>{const C=_[m];return Array.isArray(C)?C.map(k=>`${Q(m)}=${Q(k)}`).join("&"):`${Q(m)}=${Q(C)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${C}${"string"==typeof E.fragment?`#${function X(_){return encodeURI(_)}(E.fragment)}`:""}`}}const sn=new $t;function Vn(_){return _.segments.map(E=>Et(E)).join("/")}function ce(_,E){if(!_.hasChildren())return Vn(_);if(E){const m=_.children[jt]?ce(_.children[jt],!1):"",C=[];return en(_.children,(k,$)=>{$!==jt&&C.push(`${$}:${ce(k,!1)}`)}),C.length>0?`${m}(${C.join("//")})`:m}{const m=function bt(_,E){let m=[];return en(_.children,(C,k)=>{k===jt&&(m=m.concat(E(C,k)))}),en(_.children,(C,k)=>{k!==jt&&(m=m.concat(E(C,k)))}),m}(_,(C,k)=>k===jt?[ce(_.children[jt],!1)]:[`${k}:${ce(C,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[jt]?`${Vn(_)}/${m[0]}`:`${Vn(_)}/(${m.join("//")})`}}function re(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q(_){return re(_).replace(/%3B/gi,";")}function q(_){return re(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function we(_){return decodeURIComponent(_)}function Fe(_){return we(_.replace(/\+/g,"%20"))}function Et(_){return`${q(_.path)}${function le(_){return Object.keys(_).map(E=>`;${q(E)}=${q(_[E])}`).join("")}(_.parameters)}`}const J=/^[^\/()?;=#]+/;function me(_){const E=_.match(J);return E?E[0]:""}const Ye=/^[^=?&#]+/,Qt=/^[^&#]+/;class Jn{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(C[jt]=new Gt(E,m)),C}parseSegment(){const E=me(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new g.vHH(4009,Ot);return this.capture(E),new jn(we(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=me(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const k=me(this.remaining);k&&(C=k,this.capture(C))}E[we(m)]=we(C)}parseQueryParam(E){const m=function at(_){const E=_.match(Ye);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const K=function qn(_){const E=_.match(Qt);return E?E[0]:""}(this.remaining);K&&(C=K,this.capture(C))}const k=Fe(m),$=Fe(C);if(E.hasOwnProperty(k)){let K=E[k];Array.isArray(K)||(K=[K],E[k]=K),K.push($)}else E[k]=$}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=me(this.remaining),k=this.remaining[C.length];if("/"!==k&&")"!==k&&";"!==k)throw new g.vHH(4010,Ot);let $;C.indexOf(":")>-1?($=C.slice(0,C.indexOf(":")),this.capture($),this.capture(":")):E&&($=jt);const K=this.parseChildren();m[$]=1===Object.keys(K).length?K[jt]:new Gt([],K),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new g.vHH(4011,Ot)}}function mi(_){return _.segments.length>0?new Gt([],{[jt]:_}):_}function Zr(_){const E={};for(const C of Object.keys(_.children)){const $=Zr(_.children[C]);($.segments.length>0||$.hasChildren())&&(E[C]=$)}return function hr(_){if(1===_.numberOfChildren&&_.children[jt]){const E=_.children[jt];return new Gt(_.segments.concat(E.segments),E.children)}return _}(new Gt(_.segments,E))}function Kr(_){return _ instanceof Jt}function xn(_,E,m,C,k){if(0===m.length)return Zn(E.root,E.root,E.root,C,k);const $=function Tt(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new yi(!0,0,_);let E=0,m=!1;const C=_.reduce((k,$,K)=>{if("object"==typeof $&&null!=$){if($.outlets){const ve={};return en($.outlets,(Ge,xt)=>{ve[xt]="string"==typeof Ge?Ge.split("/"):Ge}),[...k,{outlets:ve}]}if($.segmentPath)return[...k,$.segmentPath]}return"string"!=typeof $?[...k,$]:0===K?($.split("/").forEach((ve,Ge)=>{0==Ge&&"."===ve||(0==Ge&&""===ve?m=!0:".."===ve?E++:""!=ve&&k.push(ve))}),k):[...k,$]},[]);return new yi(m,E,C)}(m);return $.toRoot()?Zn(E.root,E.root,new Gt([],{}),C,k):function K(Ge){const xt=function Vr(_,E,m,C){if(_.isAbsolute)return new qt(E.root,!0,0);if(-1===C)return new qt(m,m===E.root,0);return function si(_,E,m){let C=_,k=E,$=m;for(;$>k;){if($-=k,C=C.parent,!C)throw new g.vHH(4005,!1);k=C.segments.length}return new qt(C,!1,k-$)}(m,C+($n(_.commands[0])?0:1),_.numberOfDoubleDots)}($,E,_.snapshot?._urlSegment,Ge),Nt=xt.processChildren?Pn(xt.segmentGroup,xt.index,$.commands):bi(xt.segmentGroup,xt.index,$.commands);return Zn(E.root,xt.segmentGroup,Nt,C,k)}(_.snapshot?._lastPathIndex)}function $n(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function vr(_){return"object"==typeof _&&null!=_&&_.outlets}function Zn(_,E,m,C,k){let K,$={};C&&en(C,(Ge,xt)=>{$[xt]=Array.isArray(Ge)?Ge.map(Nt=>`${Nt}`):`${Ge}`}),K=_===E?m:Yr(_,E,m);const ve=mi(Zr(K));return new Jt(ve,$,k)}function Yr(_,E,m){const C={};return en(_.children,(k,$)=>{C[$]=k===E?m:Yr(k,E,m)}),new Gt(_.segments,C)}class yi{constructor(E,m,C){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=C,E&&C.length>0&&$n(C[0]))throw new g.vHH(4003,!1);const k=C.find(vr);if(k&&k!==cr(C))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qt{constructor(E,m,C){this.segmentGroup=E,this.processChildren=m,this.index=C}}function bi(_,E,m){if(_||(_=new Gt([],{})),0===_.segments.length&&_.hasChildren())return Pn(_,E,m);const C=function Uo(_,E,m){let C=0,k=E;const $={match:!1,pathIndex:0,commandIndex:0};for(;k<_.segments.length;){if(C>=m.length)return $;const K=_.segments[k],ve=m[C];if(vr(ve))break;const Ge=`${ve}`,xt=C<m.length-1?m[C+1]:null;if(k>0&&void 0===Ge)break;if(Ge&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!Ui(Ge,xt,K))return $;C+=2}else{if(!Ui(Ge,{},K))return $;C++}k++}return{match:!0,pathIndex:k,commandIndex:C}}(_,E,m),k=m.slice(C.commandIndex);if(C.match&&C.pathIndex<_.segments.length){const $=new Gt(_.segments.slice(0,C.pathIndex),{});return $.children[jt]=new Gt(_.segments.slice(C.pathIndex),_.children),Pn($,0,k)}return C.match&&0===k.length?new Gt(_.segments,{}):C.match&&!_.hasChildren()?Li(_,E,m):C.match?Pn(_,0,k):Li(_,E,m)}function Pn(_,E,m){if(0===m.length)return new Gt(_.segments,{});{const C=function _r(_){return vr(_[0])?_[0].outlets:{[jt]:_}}(m),k={};return!C[jt]&&_.children[jt]&&1===_.numberOfChildren&&0===_.children[jt].segments.length?Pn(_.children[jt],E,m):(en(C,($,K)=>{"string"==typeof $&&($=[$]),null!==$&&(k[K]=bi(_.children[K],E,$))}),en(_.children,($,K)=>{void 0===C[K]&&(k[K]=$)}),new Gt(_.segments,k))}}function Li(_,E,m){const C=_.segments.slice(0,E);let k=0;for(;k<m.length;){const $=m[k];if(vr($)){const Ge=cn($.outlets);return new Gt(C,Ge)}if(0===k&&$n(m[0])){C.push(new jn(_.segments[E].path,Vi(m[0]))),k++;continue}const K=vr($)?$.outlets[jt]:`${$}`,ve=k<m.length-1?m[k+1]:null;K&&ve&&$n(ve)?(C.push(new jn(K,Vi(ve))),k+=2):(C.push(new jn(K,{})),k++)}return new Gt(C,{})}function cn(_){const E={};return en(_,(m,C)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[C]=Li(new Gt([],{}),0,m))}),E}function Vi(_){const E={};return en(_,(m,C)=>E[C]=`${m}`),E}function Ui(_,E,m){return _==m.path&&ct(E,m.parameters)}const Ci="imperative";class wr{constructor(E,m){this.id=E,this.url=m}}class tr extends wr{constructor(E,m,C="imperative",k=null){super(E,m),this.type=0,this.navigationTrigger=C,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends wr{constructor(E,m,C){super(E,m),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bi extends wr{constructor(E,m,C,k){super(E,m),this.reason=C,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mr extends wr{constructor(E,m,C,k){super(E,m),this.reason=C,this.code=k,this.type=16}}class ji extends wr{constructor(E,m,C,k){super(E,m),this.error=C,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ea extends wr{constructor(E,m,C,k){super(E,m),this.urlAfterRedirects=C,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends wr{constructor(E,m,C,k){super(E,m),this.urlAfterRedirects=C,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends wr{constructor(E,m,C,k,$){super(E,m),this.urlAfterRedirects=C,this.state=k,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bo extends wr{constructor(E,m,C,k){super(E,m),this.urlAfterRedirects=C,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us extends wr{constructor(E,m,C,k){super(E,m),this.urlAfterRedirects=C,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ls{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ur{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iu{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(E,m,C){this.routerEvent=E,this.position=m,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wa=(()=>{class _{createUrlTree(m,C,k,$,K,ve){return xn(m||C.root,k,$,K,ve)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac}),_})(),Tu=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:function(E){return wa.\u0275fac(E)},providedIn:"root"}),_})();class wo{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=Ti(E,this._root);return m?m.children.map(C=>C.value):[]}firstChild(E){const m=Ti(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=Bs(E,this._root);return m.length<2?[]:m[m.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return Bs(E,this._root).map(m=>m.value)}}function Ti(_,E){if(_===E.value)return E;for(const m of E.children){const C=Ti(_,m);if(C)return C}return null}function Bs(_,E){if(_===E.value)return[E];for(const m of E.children){const C=Bs(_,m);if(C.length)return C.unshift(E),C}return[]}class _i{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function no(_){const E={};return _&&_.children.forEach(m=>E[m.value.outlet]=m),E}class ro extends wo{constructor(E,m){super(E),this.snapshot=m,ds(this,E)}toString(){return this.snapshot.toString()}}function Ia(_,E){const m=function ia(_,E){const K=new $i([],{},{},"",{},jt,E,null,_.root,-1,{});return new $o("",new _i(K,[]))}(_,E),C=new de.X([new jn("",{})]),k=new de.X({}),$=new de.X({}),K=new de.X({}),ve=new de.X(""),Ge=new Si(C,k,K,ve,$,jt,E,m.root);return Ge.snapshot=m.root,new ro(new _i(Ge,[]),m)}class Si{constructor(E,m,C,k,$,K,ve,Ge){this.url=E,this.params=m,this.queryParams=C,this.fragment=k,this.data=$,this.outlet=K,this.component=ve,this.title=this.data?.pipe((0,gt.U)(xt=>xt[Nn]))??(0,v.of)(void 0),this._futureSnapshot=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(E=>ur(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(E=>ur(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(_,E="emptyOnly"){const m=_.pathFromRoot;let C=0;if("always"!==E)for(C=m.length-1;C>=1;){const k=m[C],$=m[C-1];if(k.routeConfig&&""===k.routeConfig.path)C--;else{if($.component)break;C--}}return function Ai(_){return _.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(C))}class $i{get title(){return this.data?.[Nn]}constructor(E,m,C,k,$,K,ve,Ge,xt,Nt,Fn){this.url=E,this.params=m,this.queryParams=C,this.fragment=k,this.data=$,this.outlet=K,this.component=ve,this.routeConfig=Ge,this._urlSegment=xt,this._lastPathIndex=Nt,this._resolve=Fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends wo{constructor(E,m){super(m),this.url=E,ds(this,m)}toString(){return oi(this._root)}}function ds(_,E){E.value._routerState=_,E.children.forEach(m=>ds(_,m))}function oi(_){const E=_.children.length>0?` { ${_.children.map(oi).join(", ")} } `:"";return`${_.value}${E}`}function io(_){if(_.snapshot){const E=_.snapshot,m=_._futureSnapshot;_.snapshot=m,ct(E.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),E.fragment!==m.fragment&&_.fragment.next(m.fragment),ct(E.params,m.params)||_.params.next(m.params),function yr(_,E){if(_.length!==E.length)return!1;for(let m=0;m<_.length;++m)if(!ct(_[m],E[m]))return!1;return!0}(E.url,m.url)||_.url.next(m.url),ct(E.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function bs(_,E){const m=ct(_.params,E.params)&&function lt(_,E){return He(_,E)&&_.every((m,C)=>ct(m.parameters,E[C].parameters))}(_.url,E.url);return m&&!(!_.parent!=!E.parent)&&(!_.parent||bs(_.parent,E.parent))}function Cs(_,E,m){if(m&&_.shouldReuseRoute(E.value,m.value.snapshot)){const C=m.value;C._futureSnapshot=E.value;const k=function Ho(_,E,m){return E.children.map(C=>{for(const k of m.children)if(_.shouldReuseRoute(C.value,k.value.snapshot))return Cs(_,C,k);return Cs(_,C)})}(_,E,m);return new _i(C,k)}{if(_.shouldAttach(E.value)){const $=_.retrieve(E.value);if(null!==$){const K=$.route;return K.value._futureSnapshot=E.value,K.children=E.children.map(ve=>Cs(_,ve)),K}}const C=function hs(_){return new Si(new de.X(_.url),new de.X(_.params),new de.X(_.queryParams),new de.X(_.fragment),new de.X(_.data),_.outlet,_.component,_)}(E.value),k=E.children.map($=>Cs(_,$));return new _i(C,k)}}const js="ngNavigationCancelingError";function fs(_,E){const{redirectTo:m,navigationBehaviorOptions:C}=Kr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,k=Ts(!1,0,E);return k.url=m,k.navigationBehaviorOptions=C,k}function Ts(_,E,m){const C=new Error("NavigationCancelingError: "+(_||""));return C[js]=!0,C.cancellationCode=E,m&&(C.url=m),C}function Do(_){return ps(_)&&Kr(_.url)}function ps(_){return _&&_[js]}class xi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,C){const k=this.getOrCreateContext(m);k.outlet=C,this.contexts.set(m,k)}onChildOutletDestroyed(m){const C=this.getContext(m);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let C=this.getContext(m);return C||(C=new xi,this.contexts.set(m,C)),C}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Rt=!1;let gs=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Br),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(m){if(m.name){const{firstChange:C,previousValue:k}=m.name;if(C)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Rt);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Rt);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Rt);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,C){this.activated=m,this._activatedRoute=C,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,C){if(this.isActivated)throw new g.vHH(4013,Rt);this._activatedRoute=m;const k=this.location,K=m.snapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,Ge=new Zt(m,ve,k.injector);if(C&&function Or(_){return!!_.resolveComponentFactory}(C)){const xt=C.resolveComponentFactory(K);this.activated=k.createComponent(xt,k.length,Ge)}else this.activated=k.createComponent(K,{index:k.length,injector:Ge,environmentInjector:C??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=g.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),_})();class Zt{constructor(E,m,C){this.route=E,this.childContexts=m,this.parent=C}get(E,m){return E===Si?this.route:E===Br?this.childContexts:this.parent.get(E,m)}}let Qn=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=g.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(m,C){1&m&&g._UZ(0,"router-outlet")},dependencies:[gs],encapsulation:2}),_})();function Ji(_,E){return _.providers&&!_._injector&&(_._injector=(0,g.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}function ai(_){const E=_.children&&_.children.map(ai),m=E?{..._,children:E}:{..._};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==jt&&(m.component=Qn),m}function Pr(_){return _.outlet||jt}function Da(_,E){const m=_.filter(C=>Pr(C)===E);return m.push(..._.filter(C=>Pr(C)!==E)),m}function $r(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ar{constructor(E,m,C,k){this.routeReuseStrategy=E,this.futureState=m,this.currState=C,this.forwardEvent=k}activate(E){const m=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,C,E),io(this.futureState.root),this.activateChildRoutes(m,C,E)}deactivateChildRoutes(E,m,C){const k=no(m);E.children.forEach($=>{const K=$.value.outlet;this.deactivateRoutes($,k[K],C),delete k[K]}),en(k,($,K)=>{this.deactivateRouteAndItsChildren($,C)})}deactivateRoutes(E,m,C){const k=E.value,$=m?m.value:null;if(k===$)if(k.component){const K=C.getContext(k.outlet);K&&this.deactivateChildRoutes(E,m,K.children)}else this.deactivateChildRoutes(E,m,C);else $&&this.deactivateRouteAndItsChildren(m,C)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const C=m.getContext(E.value.outlet),k=C&&E.value.component?C.children:m,$=no(E);for(const K of Object.keys($))this.deactivateRouteAndItsChildren($[K],k);if(C&&C.outlet){const K=C.outlet.detach(),ve=C.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:K,route:E,contexts:ve})}}deactivateRouteAndOutlet(E,m){const C=m.getContext(E.value.outlet),k=C&&E.value.component?C.children:m,$=no(E);for(const K of Object.keys($))this.deactivateRouteAndItsChildren($[K],k);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(E,m,C){const k=no(m);E.children.forEach($=>{this.activateRoutes($,k[$.value.outlet],C),this.forwardEvent(new vi($.value.snapshot))}),E.children.length&&this.forwardEvent(new Rr(E.value.snapshot))}activateRoutes(E,m,C){const k=E.value,$=m?m.value:null;if(io(k),k===$)if(k.component){const K=C.getOrCreateContext(k.outlet);this.activateChildRoutes(E,m,K.children)}else this.activateChildRoutes(E,m,C);else if(k.component){const K=C.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const ve=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),K.children.onOutletReAttached(ve.contexts),K.attachRef=ve.componentRef,K.route=ve.route.value,K.outlet&&K.outlet.attach(ve.componentRef,ve.route.value),io(ve.route.value),this.activateChildRoutes(E,null,K.children)}else{const ve=$r(k.snapshot),Ge=ve?.get(g._Vd)??null;K.attachRef=null,K.route=k,K.resolver=Ge,K.injector=ve,K.outlet&&K.outlet.activateWith(k,K.injector),this.activateChildRoutes(E,null,K.children)}}else this.activateChildRoutes(E,null,C)}}class tn{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Hi{constructor(E,m){this.component=E,this.route=m}}function sa(_,E,m){const C=_._root;return kr(C,E?E._root:null,m,[C.value])}function xs(_,E){const m=Symbol(),C=E.get(_,m);return C===m?"function"!=typeof _||(0,g.Z0I)(_)?E.get(_):_:C}function kr(_,E,m,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const $=no(E);return _.children.forEach(K=>{(function oa(_,E,m,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const $=_.value,K=E?E.value:null,ve=m?m.getContext(_.value.outlet):null;if(K&&$.routeConfig===K.routeConfig){const Ge=function aa(_,E,m){if("function"==typeof m)return m(_,E);switch(m){case"pathParamsChange":return!He(_.url,E.url);case"pathParamsOrQueryParamsChange":return!He(_.url,E.url)||!ct(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bs(_,E)||!ct(_.queryParams,E.queryParams);default:return!bs(_,E)}}(K,$,$.routeConfig.runGuardsAndResolvers);Ge?k.canActivateChecks.push(new tn(C)):($.data=K.data,$._resolvedData=K._resolvedData),kr(_,E,$.component?ve?ve.children:null:m,C,k),Ge&&ve&&ve.outlet&&ve.outlet.isActivated&&k.canDeactivateChecks.push(new Hi(ve.outlet.component,K))}else K&&To(E,ve,k),k.canActivateChecks.push(new tn(C)),kr(_,null,$.component?ve?ve.children:null:m,C,k)})(K,$[K.value.outlet],m,C.concat([K.value]),k),delete $[K.value.outlet]}),en($,(K,ve)=>To(K,m.getContext(ve),k)),k}function To(_,E,m){const C=no(_),k=_.value;en(C,($,K)=>{To($,k.component?E?E.children.getContext(K):null:E,m)}),m.canDeactivateChecks.push(new Hi(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}function S(_){return"function"==typeof _}function Gi(_){return _ instanceof he.K||"EmptyError"===_?.name}const es=Symbol("INITIAL_VALUE");function Ms(){return(0,mt.w)(_=>$e(_.map(E=>E.pipe((0,Ae.q)(1),(0,Pe.O)(es)))).pipe((0,gt.U)(E=>{for(const m of E)if(!0!==m){if(m===es)return es;if(!1===m||m instanceof Jt)return m}return!0}),(0,Ve.h)(E=>E!==es),(0,Ae.q)(1)))}function ba(_){return(0,et.z)((0,ft.b)(E=>{if(Kr(E))throw fs(0,E)}),(0,gt.U)(E=>!0===E))}const oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Va(_,E,m,C,k){const $=ao(_,E,m);return $.matched?function Gs(_,E,m,C){const k=E.canMatch;if(!k||0===k.length)return(0,v.of)(!0);const $=k.map(K=>{const ve=xs(K,_);return Vt(function Dn(_){return _&&S(_.canMatch)}(ve)?ve.canMatch(E,m):_.runInContext(()=>ve(E,m)))});return(0,v.of)($).pipe(Ms(),ba())}(C=Ji(E,C),E,m).pipe((0,gt.U)(K=>!0===K?$:{...oo})):(0,v.of)($)}function ao(_,E,m){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||m.length>0)?{...oo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const k=(E.matcher||Ln)(m,_,E);if(!k)return{...oo};const $={};en(k.posParams,(ve,Ge)=>{$[Ge]=ve.path});const K=k.consumed.length>0?{...$,...k.consumed[k.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:k.consumed,remainingSegments:m.slice(k.consumed.length),parameters:K,positionalParamSegments:k.posParams??{}}}function So(_,E,m,C){if(m.length>0&&function ou(_,E,m){return m.some(C=>Ca(_,E,C)&&Pr(C)!==jt)}(_,m,C)){const $=new Gt(E,function Wo(_,E,m,C){const k={};k[jt]=C,C._sourceSegment=_,C._segmentIndexShift=E.length;for(const $ of m)if(""===$.path&&Pr($)!==jt){const K=new Gt([],{});K._sourceSegment=_,K._segmentIndexShift=E.length,k[Pr($)]=K}return k}(_,E,C,new Gt(m,_.children)));return $._sourceSegment=_,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:[]}}if(0===m.length&&function Su(_,E,m){return m.some(C=>Ca(_,E,C))}(_,m,C)){const $=new Gt(_.segments,function Ua(_,E,m,C,k){const $={};for(const K of C)if(Ca(_,m,K)&&!k[Pr(K)]){const ve=new Gt([],{});ve._sourceSegment=_,ve._segmentIndexShift=E.length,$[Pr(K)]=ve}return{...k,...$}}(_,E,m,C,_.children));return $._sourceSegment=_,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:m}}const k=new Gt(_.segments,_.children);return k._sourceSegment=_,k._segmentIndexShift=E.length,{segmentGroup:k,slicedSegments:m}}function Ca(_,E,m){return(!(_.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function Ba(_,E,m,C){return!!(Pr(_)===C||C!==jt&&Ca(E,m,_))&&("**"===_.path||ao(E,_,m).matched)}function au(_,E,m){return 0===E.length&&!_.children[m]}const ja=!1;class Ao{constructor(E){this.segmentGroup=E||null}}class ci{constructor(E){this.urlTree=E}}function zi(_){return Ke(new Ao(_))}function Un(_){return Ke(new ci(_))}class Jr{constructor(E,m,C,k,$){this.injector=E,this.configLoader=m,this.urlSerializer=C,this.urlTree=k,this.config=$,this.allowRedirects=!0}apply(){const E=So(this.urlTree.root,[],[],this.config).segmentGroup,m=new Gt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,jt).pipe((0,gt.U)($=>this.createUrlTree(Zr($),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yt($=>{if($ instanceof ci)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Ao?this.noMatchError($):$}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,jt).pipe((0,gt.U)(k=>this.createUrlTree(Zr(k),E.queryParams,E.fragment))).pipe(yt(k=>{throw k instanceof Ao?this.noMatchError(k):k}))}noMatchError(E){return new g.vHH(4002,ja)}createUrlTree(E,m,C){const k=mi(E);return new Jt(k,m,C)}expandSegmentGroup(E,m,C,k){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(E,m,C).pipe((0,gt.U)($=>new Gt([],$))):this.expandSegment(E,C,m,C.segments,k,!0)}expandChildren(E,m,C){const k=[];for(const $ of Object.keys(C.children))"primary"===$?k.unshift($):k.push($);return(0,H.D)(k).pipe(it($=>{const K=C.children[$],ve=Da(m,$);return this.expandSegmentGroup(E,ve,K,$).pipe((0,gt.U)(Ge=>({segment:Ge,outlet:$})))}),(0,vn.R)(($,K)=>($[K.outlet]=K.segment,$),{}),At())}expandSegment(E,m,C,k,$,K){return(0,H.D)(C).pipe(it(ve=>this.expandSegmentAgainstRoute(E,m,C,ve,k,$,K).pipe(yt(xt=>{if(xt instanceof Ao)return(0,v.of)(null);throw xt}))),(0,rt.P)(ve=>!!ve),yt((ve,Ge)=>{if(Gi(ve))return au(m,k,$)?(0,v.of)(new Gt([],{})):zi(m);throw ve}))}expandSegmentAgainstRoute(E,m,C,k,$,K,ve){return Ba(k,m,$,K)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(E,m,k,$,K):ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,C,k,$,K):zi(m):zi(m)}expandSegmentAgainstRouteUsingRedirect(E,m,C,k,$,K){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,C,k,K):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,C,k,$,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,C,k){const $=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Un($):this.lineralizeSegments(C,$).pipe((0,ze.z)(K=>{const ve=new Gt(K,{});return this.expandSegment(E,ve,m,K,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,C,k,$,K){const{matched:ve,consumedSegments:Ge,remainingSegments:xt,positionalParamSegments:Nt}=ao(m,k,$);if(!ve)return zi(m);const Fn=this.applyRedirectCommands(Ge,k.redirectTo,Nt);return k.redirectTo.startsWith("/")?Un(Fn):this.lineralizeSegments(k,Fn).pipe((0,ze.z)(Lr=>this.expandSegment(E,m,C,Lr.concat(xt),K,!1)))}matchSegmentAgainstRoute(E,m,C,k,$){return"**"===C.path?(E=Ji(C,E),C.loadChildren?(C._loadedRoutes?(0,v.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):this.configLoader.loadChildren(E,C)).pipe((0,gt.U)(ve=>(C._loadedRoutes=ve.routes,C._loadedInjector=ve.injector,new Gt(k,{})))):(0,v.of)(new Gt(k,{}))):Va(m,C,k,E).pipe((0,mt.w)(({matched:K,consumedSegments:ve,remainingSegments:Ge})=>K?this.getChildConfig(E=C._injector??E,C,k).pipe((0,ze.z)(Nt=>{const Fn=Nt.injector??E,Lr=Nt.routes,{segmentGroup:vs,slicedSegments:di}=So(m,ve,Ge,Lr),M=new Gt(vs.segments,vs.children);if(0===di.length&&M.hasChildren())return this.expandChildren(Fn,Lr,M).pipe((0,gt.U)(_e=>new Gt(ve,_e)));if(0===Lr.length&&0===di.length)return(0,v.of)(new Gt(ve,{}));const P=Pr(C)===$;return this.expandSegment(Fn,M,Lr,di,P?jt:$,!0).pipe((0,gt.U)(ne=>new Gt(ve.concat(ne.segments),ne.children)))})):zi(m)))}getChildConfig(E,m,C){return m.children?(0,v.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,v.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function zo(_,E,m,C){const k=E.canLoad;if(void 0===k||0===k.length)return(0,v.of)(!0);const $=k.map(K=>{const ve=xs(K,_);return Vt(function A(_){return _&&S(_.canLoad)}(ve)?ve.canLoad(E,m):_.runInContext(()=>ve(E,m)))});return(0,v.of)($).pipe(Ms(),ba())}(E,m,C).pipe((0,ze.z)(k=>k?this.configLoader.loadChildren(E,m).pipe((0,ft.b)($=>{m._loadedRoutes=$.routes,m._loadedInjector=$.injector})):function $a(_){return Ke(Ts(ja,3))}())):(0,v.of)({routes:[],injector:E})}lineralizeSegments(E,m){let C=[],k=m.root;for(;;){if(C=C.concat(k.segments),0===k.numberOfChildren)return(0,v.of)(C);if(k.numberOfChildren>1||!k.children[jt])return Ke(new g.vHH(4e3,ja));k=k.children[jt]}}applyRedirectCommands(E,m,C){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,C)}applyRedirectCreateUrlTree(E,m,C,k){const $=this.createSegmentGroup(E,m.root,C,k);return new Jt($,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const C={};return en(E,(k,$)=>{if("string"==typeof k&&k.startsWith(":")){const ve=k.substring(1);C[$]=m[ve]}else C[$]=k}),C}createSegmentGroup(E,m,C,k){const $=this.createSegments(E,m.segments,C,k);let K={};return en(m.children,(ve,Ge)=>{K[Ge]=this.createSegmentGroup(E,ve,C,k)}),new Gt($,K)}createSegments(E,m,C,k){return m.map($=>$.path.startsWith(":")?this.findPosParam(E,$,k):this.findOrReturn($,C))}findPosParam(E,m,C){const k=C[m.path.substring(1)];if(!k)throw new g.vHH(4001,ja);return k}findOrReturn(E,m){let C=0;for(const k of m){if(k.path===E.path)return m.splice(C),k;C++}return E}}class la{}class V{constructor(E,m,C,k,$,K,ve){this.injector=E,this.rootComponentType=m,this.config=C,this.urlTree=k,this.url=$,this.paramsInheritanceStrategy=K,this.urlSerializer=ve}recognize(){const E=So(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,jt).pipe((0,gt.U)(m=>{if(null===m)return null;const C=new $i([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new _i(C,m),$=new $o(this.url,k);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(E){const m=E.value,C=Io(m,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,m,C,k){return 0===C.segments.length&&C.hasChildren()?this.processChildren(E,m,C):this.processSegment(E,m,C,C.segments,k)}processChildren(E,m,C){return(0,H.D)(Object.keys(C.children)).pipe(it(k=>{const $=C.children[k],K=Da(m,k);return this.processSegmentGroup(E,K,$,k)}),(0,vn.R)((k,$)=>k&&$?(k.push(...$),k):null),function An(_,E=!1){return(0,pe.e)((m,C)=>{let k=0;m.subscribe((0,fe.x)(C,$=>{const K=_($,k++);(K||E)&&C.next($),!K&&C.complete()}))})}(k=>null!==k),(0,wt.d)(null),At(),(0,gt.U)(k=>{if(null===k)return null;const $=Ne(k);return function N(_){_.sort((E,m)=>E.value.outlet===jt?-1:m.value.outlet===jt?1:E.value.outlet.localeCompare(m.value.outlet))}($),$}))}processSegment(E,m,C,k,$){return(0,H.D)(m).pipe(it(K=>this.processSegmentAgainstRoute(K._injector??E,K,C,k,$)),(0,rt.P)(K=>!!K),yt(K=>{if(Gi(K))return au(C,k,$)?(0,v.of)([]):(0,v.of)(null);throw K}))}processSegmentAgainstRoute(E,m,C,k,$){if(m.redirectTo||!Ba(m,C,k,$))return(0,v.of)(null);let K;if("**"===m.path){const ve=k.length>0?cr(k).parameters:{},Ge=bn(C)+k.length,xt=new $i(k,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kn(m),Pr(m),m.component??m._loadedComponent??null,m,Ft(C),Ge,ln(m));K=(0,v.of)({snapshot:xt,consumedSegments:[],remainingSegments:[]})}else K=Va(C,m,k,E).pipe((0,gt.U)(({matched:ve,consumedSegments:Ge,remainingSegments:xt,parameters:Nt})=>{if(!ve)return null;const Fn=bn(C)+Ge.length;return{snapshot:new $i(Ge,Nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kn(m),Pr(m),m.component??m._loadedComponent??null,m,Ft(C),Fn,ln(m)),consumedSegments:Ge,remainingSegments:xt}}));return K.pipe((0,mt.w)(ve=>{if(null===ve)return(0,v.of)(null);const{snapshot:Ge,consumedSegments:xt,remainingSegments:Nt}=ve;E=m._injector??E;const Fn=m._loadedInjector??E,Lr=function z(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:vs,slicedSegments:di}=So(C,xt,Nt,Lr.filter(P=>void 0===P.redirectTo));if(0===di.length&&vs.hasChildren())return this.processChildren(Fn,Lr,vs).pipe((0,gt.U)(P=>null===P?null:[new _i(Ge,P)]));if(0===Lr.length&&0===di.length)return(0,v.of)([new _i(Ge,[])]);const M=Pr(m)===$;return this.processSegment(Fn,Lr,vs,di,M?jt:$).pipe((0,gt.U)(P=>null===P?null:[new _i(Ge,P)]))}))}}function ie(_){const E=_.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Ne(_){const E=[],m=new Set;for(const C of _){if(!ie(C)){E.push(C);continue}const k=E.find($=>C.value.routeConfig===$.value.routeConfig);void 0!==k?(k.children.push(...C.children),m.add(k)):E.push(C)}for(const C of m){const k=Ne(C.children);E.push(new _i(C.value,k))}return E.filter(C=>!m.has(C))}function Ft(_){let E=_;for(;E._sourceSegment;)E=E._sourceSegment;return E}function bn(_){let E=_,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function kn(_){return _.data||{}}function ln(_){return _.resolve||{}}function Zi(_){return"string"==typeof _.title||null===_.title}function xo(_){return(0,mt.w)(E=>{const m=_(E);return m?(0,H.D)(m).pipe((0,gt.U)(()=>E)):(0,v.of)(E)})}const Ps=new g.OlP("ROUTES");let qo=(()=>{class _{constructor(m,C){this.injector=m,this.compiler=C,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,v.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const C=Vt(m.loadComponent()).pipe((0,gt.U)(ha),(0,ft.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=$}),hn(()=>{this.componentLoaders.delete(m)})),k=new je(C,()=>new pt.x).pipe(Se());return this.componentLoaders.set(m,k),k}loadChildren(m,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,v.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const $=this.loadModuleFactoryOrRoutes(C.loadChildren).pipe((0,gt.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(C);let Ge,xt,Nt=!1;Array.isArray(ve)?xt=ve:(Ge=ve.create(m).injector,xt=Er(Ge.get(Ps,[],g.XFs.Self|g.XFs.Optional)));return{routes:xt.map(ai),injector:Ge}}),hn(()=>{this.childrenLoaders.delete(C)})),K=new je($,()=>new pt.x).pipe(Se());return this.childrenLoaders.set(C,K),K}loadModuleFactoryOrRoutes(m){return Vt(m()).pipe((0,gt.U)(ha),(0,ze.z)(k=>k instanceof g.YKP||Array.isArray(k)?(0,v.of)(k):(0,H.D)(this.compiler.compileModuleAsync(k))))}}return _.\u0275fac=function(m){return new(m||_)(g.LFG(g.zs3),g.LFG(g.Sil))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function ha(_){return function ns(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let uo=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pt.x,this.configLoader=(0,g.f3M)(qo),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Ut),this.rootContexts=(0,g.f3M)(Br),this.navigationId=0,this.afterPreactivation=()=>(0,v.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new ls(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new to(k))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:C})}setupNavigations(m){return this.transitions=new de.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ci,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.h)(C=>0!==C.id),(0,gt.U)(C=>({...C,extractedUrl:m.urlHandlingStrategy.extract(C.rawUrl)})),(0,mt.w)(C=>{let k=!1,$=!1;return(0,v.of)(C).pipe((0,ft.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mt.w)(K=>{const ve=m.browserUrlTree.toString(),Ge=!m.navigated||K.extractedUrl.toString()!==ve||ve!==m.currentUrlTree.toString();if(!Ge&&"reload"!==(K.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Nt="";return this.events.next(new Mr(K.id,m.serializeUrl(C.rawUrl),Nt,0)),m.rawUrlTree=K.rawUrl,K.resolve(null),Be.E}if(m.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return fa(K.source)&&(m.browserUrlTree=K.extractedUrl),(0,v.of)(K).pipe((0,mt.w)(Nt=>{const Fn=this.transitions?.getValue();return this.events.next(new tr(Nt.id,this.urlSerializer.serialize(Nt.extractedUrl),Nt.source,Nt.restoredState)),Fn!==this.transitions?.getValue()?Be.E:Promise.resolve(Nt)}),function Ha(_,E,m,C){return(0,mt.w)(k=>function Mn(_,E,m,C,k){return new Jr(_,E,m,C,k).apply()}(_,E,m,k.extractedUrl,C).pipe((0,gt.U)($=>({...k,urlAfterRedirects:$}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,ft.b)(Nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Nt.urlAfterRedirects},C.urlAfterRedirects=Nt.urlAfterRedirects}),function Fr(_,E,m,C,k){return(0,ze.z)($=>function T(_,E,m,C,k,$,K="emptyOnly"){return new V(_,E,m,C,k,K,$).recognize().pipe((0,mt.w)(ve=>null===ve?function da(_){return new ye.y(E=>E.error(_))}(new la):(0,v.of)(ve)))}(_,E,m,$.urlAfterRedirects,C.serialize($.urlAfterRedirects),C,k).pipe((0,gt.U)(K=>({...$,targetSnapshot:K}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,ft.b)(Nt=>{if(C.targetSnapshot=Nt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Nt.extras.skipLocationChange){const Lr=m.urlHandlingStrategy.merge(Nt.urlAfterRedirects,Nt.rawUrl);m.setBrowserUrl(Lr,Nt)}m.browserUrlTree=Nt.urlAfterRedirects}const Fn=new Ea(Nt.id,this.urlSerializer.serialize(Nt.extractedUrl),this.urlSerializer.serialize(Nt.urlAfterRedirects),Nt.targetSnapshot);this.events.next(Fn)}));if(Ge&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Nt,extractedUrl:Fn,source:Lr,restoredState:vs,extras:di}=K,M=new tr(Nt,this.urlSerializer.serialize(Fn),Lr,vs);this.events.next(M);const P=Ia(Fn,this.rootComponentType).snapshot;return C={...K,targetSnapshot:P,urlAfterRedirects:Fn,extras:{...di,skipLocationChange:!1,replaceUrl:!1}},(0,v.of)(C)}{const Nt="";return this.events.next(new Mr(K.id,m.serializeUrl(C.extractedUrl),Nt,1)),m.rawUrlTree=K.rawUrl,K.resolve(null),Be.E}}),(0,ft.b)(K=>{const ve=new nr(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(ve)}),(0,gt.U)(K=>C={...K,guards:sa(K.targetSnapshot,K.currentSnapshot,this.rootContexts)}),function Rs(_,E){return(0,ze.z)(m=>{const{targetSnapshot:C,currentSnapshot:k,guards:{canActivateChecks:$,canDeactivateChecks:K}}=m;return 0===K.length&&0===$.length?(0,v.of)({...m,guardsResult:!0}):function Xr(_,E,m,C){return(0,H.D)(_).pipe((0,ze.z)(k=>function Go(_,E,m,C,k){const $=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,v.of)(!0);const K=$.map(ve=>{const Ge=$r(E)??k,xt=xs(ve,Ge);return Vt(function Ct(_){return _&&S(_.canDeactivate)}(xt)?xt.canDeactivate(_,E,m,C):Ge.runInContext(()=>xt(_,E,m,C))).pipe((0,rt.P)())});return(0,v.of)(K).pipe(Ms())}(k.component,k.route,m,E,C)),(0,rt.P)(k=>!0!==k,!0))}(K,C,k,_).pipe((0,ze.z)(ve=>ve&&function R(_){return"boolean"==typeof _}(ve)?function wi(_,E,m,C){return(0,H.D)(E).pipe(it(k=>(0,Le.z)(function Hs(_,E){return null!==_&&E&&E(new Ur(_)),(0,v.of)(!0)}(k.route.parent,C),function Ns(_,E){return null!==_&&E&&E(new iu(_)),(0,v.of)(!0)}(k.route,C),function su(_,E,m){const C=E[E.length-1],$=E.slice(0,E.length-1).reverse().map(K=>function $s(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(K)).filter(K=>null!==K).map(K=>Ze(()=>{const ve=K.guards.map(Ge=>{const xt=$r(K.node)??m,Nt=xs(Ge,xt);return Vt(function be(_){return _&&S(_.canActivateChild)}(Nt)?Nt.canActivateChild(C,_):xt.runInContext(()=>Nt(C,_))).pipe((0,rt.P)())});return(0,v.of)(ve).pipe(Ms())}));return(0,v.of)($).pipe(Ms())}(_,k.path,m),function ts(_,E,m){const C=E.routeConfig?E.routeConfig.canActivate:null;if(!C||0===C.length)return(0,v.of)(!0);const k=C.map($=>Ze(()=>{const K=$r(E)??m,ve=xs($,K);return Vt(function Z(_){return _&&S(_.canActivate)}(ve)?ve.canActivate(E,_):K.runInContext(()=>ve(E,_))).pipe((0,rt.P)())}));return(0,v.of)(k).pipe(Ms())}(_,k.route,m))),(0,rt.P)(k=>!0!==k,!0))}(C,$,_,E):(0,v.of)(ve)),(0,gt.U)(ve=>({...m,guardsResult:ve})))})}(this.environmentInjector,K=>this.events.next(K)),(0,ft.b)(K=>{if(C.guardsResult=K.guardsResult,Kr(K.guardsResult))throw fs(0,K.guardsResult);const ve=new Sr(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(ve)}),(0,Ve.h)(K=>!!K.guardsResult||(m.restoreHistory(K),this.cancelNavigationTransition(K,"",3),!1)),xo(K=>{if(K.guards.canActivateChecks.length)return(0,v.of)(K).pipe((0,ft.b)(ve=>{const Ge=new Bo(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(Ge)}),(0,mt.w)(ve=>{let Ge=!1;return(0,v.of)(ve).pipe(function nn(_,E){return(0,ze.z)(m=>{const{targetSnapshot:C,guards:{canActivateChecks:k}}=m;if(!k.length)return(0,v.of)(m);let $=0;return(0,H.D)(k).pipe(it(K=>function pr(_,E,m,C){const k=_.routeConfig,$=_._resolve;return void 0!==k?.title&&!Zi(k)&&($[Nn]=k.title),function Wi(_,E,m,C){const k=function qi(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===k.length)return(0,v.of)({});const $={};return(0,H.D)(k).pipe((0,ze.z)(K=>function li(_,E,m,C){const k=$r(E)??C,$=xs(_,k);return Vt($.resolve?$.resolve(E,m):k.runInContext(()=>$(E,m)))}(_[K],E,m,C).pipe((0,rt.P)(),(0,ft.b)(ve=>{$[K]=ve}))),Ee(1),function wn(_){return(0,gt.U)(()=>_)}($),yt(K=>Gi(K)?Be.E:Ke(K)))}($,_,E,C).pipe((0,gt.U)(K=>(_._resolvedData=K,_.data=Io(_,m).resolve,k&&Zi(k)&&(_.data[Nn]=k.title),null)))}(K.route,C,_,E)),(0,ft.b)(()=>$++),Ee(1),(0,ze.z)(K=>$===k.length?(0,v.of)(m):Be.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,ft.b)({next:()=>Ge=!0,complete:()=>{Ge||(m.restoreHistory(ve),this.cancelNavigationTransition(ve,"",2))}}))}),(0,ft.b)(ve=>{const Ge=new Us(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(Ge)}))}),xo(K=>{const ve=Ge=>{const xt=[];Ge.routeConfig?.loadComponent&&!Ge.routeConfig._loadedComponent&&xt.push(this.configLoader.loadComponent(Ge.routeConfig).pipe((0,ft.b)(Nt=>{Ge.component=Nt}),(0,gt.U)(()=>{})));for(const Nt of Ge.children)xt.push(...ve(Nt));return xt};return $e(ve(K.targetSnapshot.root)).pipe((0,wt.d)(),(0,Ae.q)(1))}),xo(()=>this.afterPreactivation()),(0,gt.U)(K=>{const ve=function so(_,E,m){const C=Cs(_,E._root,m?m._root:void 0);return new ro(C,E)}(m.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return C={...K,targetRouterState:ve}}),(0,ft.b)(K=>{m.currentUrlTree=K.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),m.routerState=K.targetRouterState,"deferred"===m.urlUpdateStrategy&&(K.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,K),m.browserUrlTree=K.urlAfterRedirects)}),((_,E,m)=>(0,gt.U)(C=>(new ar(E,C.targetRouterState,C.currentRouterState,m).activate(_),C)))(this.rootContexts,m.routeReuseStrategy,K=>this.events.next(K)),(0,ft.b)({next:K=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Is(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{k=!0}}),hn(()=>{k||$||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),yt(K=>{if($=!0,ps(K)){Do(K)||(m.navigated=!0,m.restoreHistory(C,!0));const ve=new Bi(C.id,this.urlSerializer.serialize(C.extractedUrl),K.message,K.cancellationCode);if(this.events.next(ve),Do(K)){const Ge=m.urlHandlingStrategy.merge(K.url,m.rawUrlTree),xt={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||fa(C.source)};m.scheduleNavigation(Ge,Ci,null,xt,{resolve:C.resolve,reject:C.reject,promise:C.promise})}else C.resolve(!1)}else{m.restoreHistory(C,!0);const ve=new ji(C.id,this.urlSerializer.serialize(C.extractedUrl),K,C.targetSnapshot??void 0);this.events.next(ve);try{C.resolve(m.errorHandler(K))}catch(Ge){C.reject(Ge)}}return Be.E}))}))}cancelNavigationTransition(m,C,k){const $=new Bi(m.id,this.urlSerializer.serialize(m.extractedUrl),C,k);this.events.next($),m.resolve(!1)}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function fa(_){return _!==Ci}let Mi=(()=>{class _{buildTitle(m){let C,k=m.root;for(;void 0!==k;)C=this.getResolvedTitleForRoute(k)??C,k=k.children.find($=>$.outlet===jt);return C}getResolvedTitleForRoute(m){return m.data[Nn]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:function(){return(0,g.f3M)(Ki)},providedIn:"root"}),_})(),Ki=(()=>{class _ extends Mi{constructor(m){super(),this.title=m}updateTitle(m){const C=this.buildTitle(m);void 0!==C&&this.title.setTitle(C)}}return _.\u0275fac=function(m){return new(m||_)(g.LFG(In.Dx))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Ro=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:function(){return(0,g.f3M)(Ta)},providedIn:"root"}),_})();class co{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Ta=(()=>{class _ extends co{}return _.\u0275fac=function(){let E;return function(C){return(E||(E=g.n5z(_)))(C||_)}}(),_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const pa=new g.OlP("",{providedIn:"root",factory:()=>({})});let za=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:function(){return(0,g.f3M)(Au)},providedIn:"root"}),_})(),Au=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,C){return m}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function uu(_){throw _}function rs(_,E,m){return E.parse("/")}const cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(pa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(za),this.routeReuseStrategy=(0,g.f3M)(Ro),this.urlCreationStrategy=(0,g.f3M)(Tu),this.titleStrategy=(0,g.f3M)(Mi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Er((0,g.f3M)(Ps,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(uo),this.urlSerializer=(0,g.f3M)(Ut),this.location=(0,g.f3M)(ot.Ye),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Jt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ia(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ci,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const C="popstate"===m.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,C,m.state)},0)}))}navigateToSyncWithBrowser(m,C,k){const $={replaceUrl:!0},K=k?.navigationId?k:null;if(k){const Ge={...k};delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&($.state=Ge)}const ve=this.parseUrl(m);this.scheduleNavigation(ve,C,K,$)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,C={}){const{relativeTo:k,queryParams:$,fragment:K,queryParamsHandling:ve,preserveFragment:Ge}=C,xt=Ge?this.currentUrlTree.fragment:K;let Nt=null;switch(ve){case"merge":Nt={...this.currentUrlTree.queryParams,...$};break;case"preserve":Nt=this.currentUrlTree.queryParams;break;default:Nt=$||null}return null!==Nt&&(Nt=this.removeEmptyProps(Nt)),this.urlCreationStrategy.createUrlTree(k,this.routerState,this.currentUrlTree,m,Nt,xt??null)}navigateByUrl(m,C={skipLocationChange:!1}){const k=Kr(m)?m:this.parseUrl(m),$=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation($,Ci,null,C)}navigate(m,C={skipLocationChange:!1}){return function xu(_){for(let E=0;E<_.length;E++){if(null==_[E])throw new g.vHH(4008,!1)}}(m),this.navigateByUrl(this.createUrlTree(m,C),C)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let C;try{C=this.urlSerializer.parse(m)}catch(k){C=this.malformedUriErrorHandler(k,this.urlSerializer,m)}return C}isActive(m,C){let k;if(k=!0===C?{...cu}:!1===C?{...Oo}:C,Kr(m))return pn(this.currentUrlTree,m,k);const $=this.parseUrl(m);return pn(this.currentUrlTree,$,k)}removeEmptyProps(m){return Object.keys(m).reduce((C,k)=>{const $=m[k];return null!=$&&(C[k]=$),C},{})}scheduleNavigation(m,C,k,$,K){if(this.disposed)return Promise.resolve(!1);let ve,Ge,xt,Nt;return K?(ve=K.resolve,Ge=K.reject,xt=K.promise):xt=new Promise((Fn,Lr)=>{ve=Fn,Ge=Lr}),Nt="computed"===this.canceledNavigationResolution?k&&k.\u0275routerPageId?k.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Nt,source:C,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:$,resolve:ve,reject:Ge,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(Fn=>Promise.reject(Fn))}setBrowserUrl(m,C){const k=this.urlSerializer.serialize(m),$={...C.extras.state,...this.generateNgRouterState(C.id,C.targetPageId)};this.location.isCurrentPathEqualTo(k)||C.extras.replaceUrl?this.location.replaceState(k,"",$):this.location.go(k,"",$)}restoreHistory(m,C=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===k?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===k&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(k)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,C){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:C}:{navigationId:m}}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Sa=(()=>{class _{constructor(m,C,k,$,K,ve){this.router=m,this.route=C,this.tabIndexAttribute=k,this.renderer=$,this.el=K,this.locationStrategy=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pt.x;const Ge=K.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ge||"area"===Ge,this.isAnchorElement?this.subscription=m.events.subscribe(xt=>{xt instanceof Is&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,g.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,g.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,g.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,C,k,$,K){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||C||k||$||K||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,C){const k=this.renderer,$=this.el.nativeElement;null!==C?k.setAttribute($,m,C):k.removeAttribute($,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(m){return new(m||_)(g.Y36(ir),g.Y36(Si),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ot.S$))},_.\u0275dir=g.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,C){1&m&&g.NdJ("click",function($){return C.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&m&&g.uIk("target",C.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),_})(),Ri=(()=>{class _{get isActive(){return this._isActive}constructor(m,C,k,$,K){this.router=m,this.element=C,this.renderer=k,this.cdr=$,this.link=K,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=m.events.subscribe(ve=>{ve instanceof Is&&this.update()})}ngAfterContentInit(){(0,v.of)(this.links.changes,(0,v.of)(null)).pipe((0,Xn.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,H.D)(m).pipe((0,Xn.J)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(m){const C=Array.isArray(m)?m:m.split(" ");this.classes=C.filter(k=>!!k)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(C=>{m?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const C=function zs(_){return!!_.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&m.isActive(k.urlTree,C)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return _.\u0275fac=function(m){return new(m||_)(g.Y36(ir),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(Sa,8))},_.\u0275dir=g.lG2({type:_,selectors:[["","routerLinkActive",""]],contentQueries:function(m,C,k){if(1&m&&g.Suo(k,Sa,5),2&m){let $;g.iGM($=g.CRH())&&(C.links=$)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]}),_})();class Mu{}let $c=(()=>{class _{constructor(m,C,k,$,K){this.router=m,this.injector=k,this.preloadingStrategy=$,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(m=>m instanceof Is),it(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,C){const k=[];for(const $ of C){$.providers&&!$._injector&&($._injector=(0,g.MMx)($.providers,m,`Route: ${$.path}`));const K=$._injector??m,ve=$._loadedInjector??K;$.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent?k.push(this.preloadConfig(K,$)):($.children||$._loadedRoutes)&&k.push(this.processRoutes(ve,$.children??$._loadedRoutes))}return(0,H.D)(k).pipe((0,Xn.J)())}preloadConfig(m,C){return this.preloadingStrategy.preload(C,()=>{let k;k=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(m,C):(0,v.of)(null);const $=k.pipe((0,ze.z)(K=>null===K?(0,v.of)(void 0):(C._loadedRoutes=K.routes,C._loadedInjector=K.injector,this.processRoutes(K.injector??m,K.routes))));if(C.loadComponent&&!C._loadedComponent){const K=this.loader.loadComponent(C);return(0,H.D)([$,K]).pipe((0,Xn.J)())}return $})}}return _.\u0275fac=function(m){return new(m||_)(g.LFG(ir),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Mu),g.LFG(qo))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const lu=new g.OlP("");let Ko=(()=>{class _{constructor(m,C,k,$,K={}){this.urlSerializer=m,this.transitions=C,this.viewportScroller=k,this.zone=$,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Is&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Qr&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qr(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(m){g.$Z()},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac}),_})();function ms(_,E){return{\u0275kind:_,\u0275providers:E}}function zn(){const _=(0,g.f3M)(g.zs3);return E=>{const m=_.get(g.z2F);if(E!==m.components[0])return;const C=_.get(ir),k=_.get(ac);1===_.get(lo)&&C.initialNavigation(),_.get(du,null,g.XFs.Optional)?.setUpPreloading(),_.get(lu,null,g.XFs.Optional)?.init(),C.resetRootComponentType(m.componentTypes[0]),k.closed||(k.next(),k.unsubscribe())}}const ac=new g.OlP("",{factory:()=>new pt.x}),lo=new g.OlP("",{providedIn:"root",factory:()=>1});const du=new g.OlP("");function Dr(_){return ms(0,[{provide:du,useExisting:$c},{provide:Mu,useExisting:_}])}const Ka=new g.OlP("ROUTER_FORROOT_GUARD"),Ya=[ot.Ye,{provide:Ut,useClass:$t},ir,Br,{provide:Si,useFactory:function Ws(_){return _.routerState.root},deps:[ir]},qo,[]];function Nu(){return new g.PXZ("Router",ir)}let Ni=(()=>{class _{constructor(m){}static forRoot(m,C){return{ngModule:_,providers:[Ya,[],{provide:Ps,multi:!0,useValue:m},{provide:Ka,useFactory:fo,deps:[[ir,new g.FiY,new g.tp0]]},{provide:pa,useValue:C||{}},C?.useHash?{provide:ot.S$,useClass:ot.Do}:{provide:ot.S$,useClass:ot.b0},{provide:lu,useFactory:()=>{const _=(0,g.f3M)(ot.EM),E=(0,g.f3M)(g.R0b),m=(0,g.f3M)(pa),C=(0,g.f3M)(uo),k=(0,g.f3M)(Ut);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Ko(k,C,_,E,m)}},C?.preloadingStrategy?Dr(C.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Nu},C?.initialNavigation?hu(C):[],[{provide:Ou,useFactory:zn},{provide:g.tb,multi:!0,useExisting:Ou}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Ps,multi:!0,useValue:m}]}}}return _.\u0275fac=function(m){return new(m||_)(g.LFG(Ka,8))},_.\u0275mod=g.oAB({type:_}),_.\u0275inj=g.cJS({imports:[Qn]}),_})();function fo(_){return"guarded"}function hu(_){return["disabled"===_.initialNavigation?ms(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const E=(0,g.f3M)(ir);return()=>{E.setUpLocationChangeListener()}}},{provide:lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?ms(2,[{provide:lo,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:E=>{const m=E.get(ot.V_,Promise.resolve());return()=>m.then(()=>new Promise(k=>{const $=E.get(ir),K=E.get(ac);(function C(k){E.get(ir).events.pipe((0,Ve.h)(K=>K instanceof Is||K instanceof Bi||K instanceof ji),(0,gt.U)(K=>K instanceof Is||K instanceof Bi&&(0===K.code||1===K.code)&&null),(0,Ve.h)(K=>null!==K),(0,Ae.q)(1)).subscribe(()=>{k()})})(()=>{k(!0)}),E.get(uo).afterPreactivation=()=>(k(!0),K.closed?(0,v.of)(void 0):K),$.initialNavigation()}))}}]).\u0275providers:[]]}const Ou=new g.OlP("")},3942:(It,Re,j)=>{j.d(Re,{Z:()=>nt});var g=j(2090),H=j(4859),v=j(9681),de=j(1877);class he{constructor(Le,qe){this._delegate=Le,this.firebase=qe,(0,v._addComponent)(Le,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(Le,qe=v._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(Le);return!et.isInitialized()&&"EXPLICIT"===(null===(Ze=et.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&et.initialize(),et.getImmediate({identifier:qe})}_removeServiceInstance(Le,qe=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(qe)}_addComponent(Le){(0,v._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,v._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Te(){const Dt=function Ie(Dt){const Le={},qe={__esModule:!0,initializeApp:function ke(pe,Se={}){const je=v.initializeApp(pe,Se);if((0,g.r3)(Le,je.name))return Le[je.name];const pt=new Dt(je,qe);return Le[je.name]=pt,pt},app:et,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function Be(pe){const Se=pe.name,je=Se.replace("-compat","");if(v._registerComponent(pe)&&"PUBLIC"===pe.type){const pt=(ot=et())=>{if("function"!=typeof ot[je])throw Ce.create("invalid-app-argument",{appName:Se});return ot[je]()};void 0!==pe.serviceProps&&(0,g.ZB)(pt,pe.serviceProps),qe[je]=pt,Dt.prototype[je]=function(...ot){return this._getService.bind(this,Se).apply(this,pe.multipleInstances?ot:[])}}return"PUBLIC"===pe.type?qe[je]:null},removeApp:function Ze(pe){delete Le[pe]},useAsService:function ut(pe,Se){return"serverAuth"===Se?null:Se},modularAPIs:v}};function et(pe){if(!(0,g.r3)(Le,pe=pe||v._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:pe});return Le[pe]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function Ke(){return Object.keys(Le).map(pe=>Le[pe])}}),et.App=Dt,qe}(he);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Le(qe){(0,g.ZB)(Dt,qe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Dt}(),se=new de.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=oe;!function $e(Dt){(0,v.registerVersion)("@firebase/app-compat","0.2.5",Dt)}()},9681:(It,Re,j)=>{j.r(Re),j.d(Re,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>In,_DEFAULT_ENTRY_NAME:()=>rt,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Ee,_apps:()=>ft,_clearComponents:()=>An,_components:()=>yt,_getProvider:()=>wt,_registerComponent:()=>Mt,_removeServiceInstance:()=>At,deleteApp:()=>ur,getApp:()=>Nn,getApps:()=>mr,initializeApp:()=>jt,onLog:()=>ct,registerVersion:()=>yr,setLogLevel:()=>Wn});var g=j(5861),H=j(4859),v=j(1877),de=j(2090),he=j(8766);class ye{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function Ce(lt){return"VERSION"===lt.getComponent()?.type}(bt)){const Ut=bt.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(bt=>bt).join(" ")}}const Ie="@firebase/app",oe=new v.Yd("@firebase/app"),rt="[DEFAULT]",it={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,yt=new Map;function vn(lt,He){try{lt.container.addComponent(He)}catch(bt){oe.debug(`Component ${He.name} failed to register with FirebaseApp ${lt.name}`,bt)}}function Ee(lt,He){lt.container.addOrOverwriteComponent(He)}function Mt(lt){const He=lt.name;if(yt.has(He))return oe.debug(`There were multiple attempts to register component ${He}.`),!1;yt.set(He,lt);for(const bt of ft.values())vn(bt,lt);return!0}function wt(lt,He){const bt=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),lt.container.getProvider(He)}function At(lt,He,bt=rt){wt(lt,He).clearInstance(bt)}function An(){yt.clear()}const hn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(He,bt,Ut){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const In="9.18.0";function jt(lt,He={}){let bt=lt;"object"!=typeof He&&(He={name:He});const Ut=Object.assign({name:rt,automaticDataCollectionEnabled:!1},He),$t=Ut.name;if("string"!=typeof $t||!$t)throw hn.create("bad-app-name",{appName:String($t)});if(bt||(bt=(0,de.aH)()),!bt)throw hn.create("no-options");const sn=ft.get($t);if(sn){if((0,de.vZ)(bt,sn.options)&&(0,de.vZ)(Ut,sn.config))return sn;throw hn.create("duplicate-app",{appName:$t})}const Vn=new H.H0($t);for(const re of yt.values())Vn.addComponent(re);const ce=new Xn(bt,Ut,Vn);return ft.set($t,ce),ce}function Nn(lt=rt){const He=ft.get(lt);if(!He&&lt===rt)return jt();if(!He)throw hn.create("no-app",{appName:lt});return He}function mr(){return Array.from(ft.values())}function ur(lt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(lt){const He=lt.name;ft.has(He)&&(ft.delete(He),yield Promise.all(lt.container.getProviders().map(bt=>bt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function yr(lt,He,bt){var Ut;let $t=null!==(Ut=it[lt])&&void 0!==Ut?Ut:lt;bt&&($t+=`-${bt}`);const sn=$t.match(/\s|\//),Vn=He.match(/\s|\//);if(sn||Vn){const ce=[`Unable to register library "${$t}" with version "${He}":`];return sn&&ce.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),sn&&Vn&&ce.push("and"),Vn&&ce.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void oe.warn(ce.join(" "))}Mt(new H.wA(`${$t}-version`,()=>({library:$t,version:He}),"VERSION"))}function ct(lt,He){if(null!==lt&&"function"!=typeof lt)throw hn.create("invalid-log-argument");(0,v.Am)(lt,He)}function Wn(lt){(0,v.Ub)(lt)}const lr="firebase-heartbeat-store";let en=null;function Vt(){return en||(en=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(lt,He)=>{0===He&&lt.createObjectStore(lr)}}).catch(lt=>{throw hn.create("idb-open",{originalErrorMessage:lt.message})})),en}function Ht(){return(Ht=(0,g.Z)(function*(lt){try{return(yield Vt()).transaction(lr).objectStore(lr).get(or(lt))}catch(He){if(He instanceof de.ZR)oe.warn(He.message);else{const bt=hn.create("idb-get",{originalErrorMessage:He?.message});oe.warn(bt.message)}}})).apply(this,arguments)}function On(lt,He){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(lt,He){try{const Ut=(yield Vt()).transaction(lr,"readwrite");return yield Ut.objectStore(lr).put(He,or(lt)),Ut.done}catch(bt){if(bt instanceof de.ZR)oe.warn(bt.message);else{const Ut=hn.create("idb-set",{originalErrorMessage:bt?.message});oe.warn(Ut.message)}}})).apply(this,arguments)}function or(lt){return`${lt.name}!${lt.options.appId}`}class ri{constructor(He){this.container=He,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new Jt(bt),this._heartbeatsCachePromise=this._storage.read().then(Ut=>(this._heartbeatsCache=Ut,Ut))}triggerHeartbeat(){var He=this;return(0,g.Z)(function*(){const Ut=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=rn();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==$t&&!He._heartbeatsCache.heartbeats.some(sn=>sn.date===$t))return He._heartbeatsCache.heartbeats.push({date:$t,agent:Ut}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(sn=>{const Vn=new Date(sn.date).valueOf();return Date.now()-Vn<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,g.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const bt=rn(),{heartbeatsToSend:Ut,unsentEntries:$t}=function ii(lt,He=1024){const bt=[];let Ut=lt.slice();for(const $t of lt){const sn=bt.find(Vn=>Vn.agent===$t.agent);if(sn){if(sn.dates.push($t.date),Gt(bt)>He){sn.dates.pop();break}}else if(bt.push({agent:$t.agent,dates:[$t.date]}),Gt(bt)>He){bt.pop();break}Ut=Ut.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Ut}}(He._heartbeatsCache.heartbeats),sn=(0,de.L)(JSON.stringify({version:2,heartbeats:Ut}));return He._heartbeatsCache.lastSentHeartbeatDate=bt,$t.length>0?(He._heartbeatsCache.heartbeats=$t,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),sn})()}}function rn(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,g.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function Ot(lt){return Ht.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var bt=this;return(0,g.Z)(function*(){var Ut;if(yield bt._canUseIndexedDBPromise){const sn=yield bt.read();return On(bt.app,{lastSentHeartbeatDate:null!==(Ut=He.lastSentHeartbeatDate)&&void 0!==Ut?Ut:sn.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var bt=this;return(0,g.Z)(function*(){var Ut;if(yield bt._canUseIndexedDBPromise){const sn=yield bt.read();return On(bt.app,{lastSentHeartbeatDate:null!==(Ut=He.lastSentHeartbeatDate)&&void 0!==Ut?Ut:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...He.heartbeats]})}})()}}function Gt(lt){return(0,de.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function jn(lt){Mt(new H.wA("platform-logger",He=>new ye(He),"PRIVATE")),Mt(new H.wA("heartbeat",He=>new ri(He),"PRIVATE")),yr(Ie,"0.9.5",lt),yr(Ie,"0.9.5","esm2017"),yr("fire-js","")}("")},4859:(It,Re,j)=>{j.d(Re,{H0:()=>Ie,wA:()=>v});var g=j(5861),H=j(2090);class v{constructor(oe,se,fe){this.name=oe,this.instanceFactory=se,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const de="[DEFAULT]";class he{constructor(oe,se){this.name=oe,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const se=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(se)){const fe=new H.BH;if(this.instancesDeferred.set(se,fe),this.isInitialized(se)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:se});tt&&fe.resolve(tt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(oe){var se;const fe=this.normalizeInstanceIdentifier(oe?.identifier),tt=null!==(se=oe?.optional)&&void 0!==se&&se;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch($e){if(tt)return null;throw $e}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Ce(Te){return"EAGER"===Te.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[se,fe]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(se);try{const $e=this.getOrInitializeService({instanceIdentifier:tt});fe.resolve($e)}catch{}}}}clearInstance(oe=de){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,g.Z)(function*(){const se=Array.from(oe.instances.values());yield Promise.all([...se.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...se.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=de){return this.instances.has(oe)}getOptions(oe=de){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:se={}}=oe,fe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:fe,options:se});for(const[$e,nt]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier($e)&&nt.resolve(tt);return tt}onInit(oe,se){var fe;const tt=this.normalizeInstanceIdentifier(se),$e=null!==(fe=this.onInitCallbacks.get(tt))&&void 0!==fe?fe:new Set;$e.add(oe),this.onInitCallbacks.set(tt,$e);const nt=this.instances.get(tt);return nt&&oe(nt,tt),()=>{$e.delete(oe)}}invokeOnInitCallbacks(oe,se){const fe=this.onInitCallbacks.get(se);if(fe)for(const tt of fe)try{tt(oe,se)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:se={}}){let fe=this.instances.get(oe);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=oe,Te===de?void 0:Te),options:se}),this.instances.set(oe,fe),this.instancesOptions.set(oe,se),this.invokeOnInitCallbacks(fe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,fe)}catch{}var Te;return fe||null}normalizeInstanceIdentifier(oe=de){return this.component?this.component.multipleInstances?oe:de:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const se=this.getProvider(oe.name);if(se.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);se.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const se=new he(oe,this);return this.providers.set(oe,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(It,Re,j)=>{j.d(Re,{Am:()=>Te,Ub:()=>Ie,Yd:()=>Ce,in:()=>H});const g=[];var H=(()=>{return(oe=H||(H={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",H;var oe})();const v={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},de=H.INFO,he={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ye=(oe,se,...fe)=>{if(se<oe.logLevel)return;const tt=(new Date).toISOString(),$e=he[se];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[$e](`[${tt}]  ${oe.name}:`,...fe)};class Ce{constructor(se){this.name=se,this._logLevel=de,this._logHandler=ye,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in H))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?v[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...se),this._logHandler(this,H.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...se),this._logHandler(this,H.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,H.INFO,...se),this._logHandler(this,H.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,H.WARN,...se),this._logHandler(this,H.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...se),this._logHandler(this,H.ERROR,...se)}}function Ie(oe){g.forEach(se=>{se.setLogLevel(oe)})}function Te(oe,se){for(const fe of g){let tt=null;se&&se.level&&(tt=v[se.level]),fe.userLogHandler=null===oe?null:($e,nt,...Dt)=>{const Le=Dt.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch{return null}}).filter(qe=>qe).join(" ");nt>=(tt??$e.logLevel)&&oe({level:H[nt].toLowerCase(),message:Le,args:Dt,type:$e.name})}}}},259:(It,Re,j)=>{j.d(Re,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=j(9681);(0,g.registerVersion)("firebase","9.18.0","app")},9260:(It,Re,j)=>{j.d(Re,{Z:()=>g.Z});var g=j(3942);g.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(It,Re,j)=>{j.r(Re);var g=j(5861),H=j(3942),v=j(5114),de=j(2090),Ce=(j(9681),j(1877),j(4859));function Ie(){return window}function se(){return(se=(0,g.Z)(function*(Q,X,q){var we;const{BuildInfo:Fe}=Ie();(0,v.ap)(X.sessionId,"AuthEvent did not contain a session ID");const Et=yield qe(X.sessionId),le={};return(0,v.aq)()?le.ibi=Fe.packageName:(0,v.ar)()?le.apn=Fe.packageName:(0,v.as)(Q,"operation-not-supported-in-this-environment"),Fe.displayName&&(le.appDisplayName=Fe.displayName),le.sessionId=Et,(0,v.at)(Q,q,X.type,void 0,null!==(we=X.eventId)&&void 0!==we?we:void 0,le)})).apply(this,arguments)}function tt(){return(tt=(0,g.Z)(function*(Q){const{BuildInfo:X}=Ie(),q={};(0,v.aq)()?q.iosBundleId=X.packageName:(0,v.ar)()?q.androidPackageName=X.packageName:(0,v.as)(Q,"operation-not-supported-in-this-environment"),yield(0,v.au)(Q,q)})).apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(Q,X,q){const{cordova:we}=Ie();let Fe=()=>{};try{yield new Promise((Et,le)=>{let ae=null;function J(){var at;Et();const Qt=null===(at=we.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Qt&&Qt(),"function"==typeof q?.close&&q.close()}function me(){ae||(ae=window.setTimeout(()=>{le((0,v.aw)(Q,"redirect-cancelled-by-user"))},2e3))}function Ye(){"visible"===document?.visibilityState&&me()}X.addPassiveListener(J),document.addEventListener("resume",me,!1),(0,v.ar)()&&document.addEventListener("visibilitychange",Ye,!1),Fe=()=>{X.removePassiveListener(J),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",Ye,!1),ae&&window.clearTimeout(ae)}})}finally{Fe()}})).apply(this,arguments)}function qe(Q){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,g.Z)(function*(Q){const X=et(Q),q=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(q)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(Q){if((0,v.ap)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const X=new ArrayBuffer(Q.length),q=new Uint8Array(X);for(let we=0;we<Q.length;we++)q[we]=Q.charCodeAt(we);return q}class Ke extends v.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(X)),super.onEvent(X)}initialized(){var X=this;return(0,g.Z)(function*(){yield X.initPromise})()}}function pe(Q){return Se.apply(this,arguments)}function Se(){return(Se=(0,g.Z)(function*(Q){const X=yield ot()._get(gt(Q));return X&&(yield ot()._remove(gt(Q))),X})).apply(this,arguments)}function pt(){const Q=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const we=Math.floor(Math.random()*X.length);Q.push(X.charAt(we))}return Q.join("")}function ot(){return(0,v.az)(v.b)}function gt(Q){return(0,v.aA)("authEvent",Q.config.apiKey,Q.name)}function Pe(Q){if(!Q?.includes("?"))return{};const[X,...q]=Q.split("?");return(0,de.zd)(q.join("?"))}const rt=class ze{constructor(){this._redirectPersistence=v.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(X){var q=this;return(0,g.Z)(function*(){const we=X._key();let Fe=q.eventManagers.get(we);return Fe||(Fe=new Ke(X),q.eventManagers.set(we,Fe),q.attachCallbackListeners(X,Fe)),Fe})()}_openPopup(X){(0,v.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,q,we,Fe){var Et=this;return(0,g.Z)(function*(){!function Le(Q){var X,q,we,Fe,Et,le,ae,J,me,Ye;const at=Ie();(0,v.ax)("function"==typeof(null===(X=at?.universalLinks)||void 0===X?void 0:X.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,v.ax)(typeof(null===(q=at?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,v.ax)("function"==typeof(null===(Et=null===(Fe=null===(we=at?.cordova)||void 0===we?void 0:we.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===Et?void 0:Et.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(J=null===(ae=null===(le=at?.cordova)||void 0===le?void 0:le.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===J?void 0:J.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(Ye=null===(me=at?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===Ye?void 0:Ye.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const le=yield Et._initialize(X);yield le.initialized(),le.resetRedirect(),(0,v.aD)(),yield Et._originValidation(X);const ae=function Be(Q,X,q=null){return{type:X,eventId:q,urlResponse:null,sessionId:pt(),postBody:null,tenantId:Q.tenantId,error:(0,v.aw)(Q,"no-auth-event")}}(X,we,Fe);yield function ut(Q,X){return ot()._set(gt(Q),X)}(X,ae);const J=yield function oe(Q,X,q){return se.apply(this,arguments)}(X,ae,q),me=yield function $e(Q){const{cordova:X}=Ie();return new Promise(q=>{X.plugins.browsertab.isAvailable(we=>{let Fe=null;we?X.plugins.browsertab.openUrl(Q):Fe=X.InAppBrowser.open(Q,(0,v.av)()?"_blank":"_system","location=yes"),q(Fe)})})}(J);return function nt(Q,X,q){return Dt.apply(this,arguments)}(X,le,me)})()}_isIframeWebStorageSupported(X,q){throw new Error("Method not implemented.")}_originValidation(X){const q=X._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function fe(Q){return tt.apply(this,arguments)}(X)),this.originValidationPromises[q]}attachCallbackListeners(X,q){const{universalLinks:we,handleOpenURL:Fe,BuildInfo:Et}=Ie(),le=setTimeout((0,g.Z)(function*(){yield pe(X),q.onEvent(it())}),500),ae=function(){var Ye=(0,g.Z)(function*(at){clearTimeout(le);const Qt=yield pe(X);let qn=null;Qt&&at?.url&&(qn=function je(Q,X){var q,we;const Fe=function Ae(Q){const X=Pe(Q),q=X.link?decodeURIComponent(X.link):void 0,we=Pe(q).link,Fe=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Pe(Fe).link||Fe||we||q||Q}(X);if(Fe.includes("/__/auth/callback")){const Et=Pe(Fe),le=Et.firebaseError?function mt(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(Et.firebaseError)):null,ae=null===(we=null===(q=le?.code)||void 0===q?void 0:q.split("auth/"))||void 0===we?void 0:we[1],J=ae?(0,v.aw)(ae):null;return J?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:J,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:Fe,postBody:null}}return null}(Qt,at.url)),q.onEvent(qn||it())});return function(Qt){return Ye.apply(this,arguments)}}();typeof we<"u"&&"function"==typeof we.subscribe&&we.subscribe(null,ae);const J=Fe,me=`${Et.packageName.toLowerCase()}://`;Ie().handleOpenURL=function(){var Ye=(0,g.Z)(function*(at){if(at.toLowerCase().startsWith(me)&&ae({url:at}),"function"==typeof J)try{J(at)}catch(Qt){console.error(Qt)}});return function(at){return Ye.apply(this,arguments)}}()}};function it(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,v.aw)("no-auth-event")}}function Mt(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function At(Q=(0,de.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function In(){try{const Q=self.localStorage,X=v.aI();if(Q)return Q.setItem(X,"1"),Q.removeItem(X),!function Xn(Q=(0,de.z$)()){return function wn(){return(0,de.w1)()&&11===document?.documentMode}()||function hn(Q=(0,de.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,de.hl)()}catch{return jt()&&(0,de.hl)()}return!1}function jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return(function wt(){return"http:"===Mt()||"https:"===Mt()}()||(0,de.ru)()||At())&&!function An(){return(0,de.b$)()||(0,de.UG)()}()&&In()&&!jt()}function mr(){return At()&&typeof document<"u"}function Ln(){return(Ln=(0,g.Z)(function*(){return!!mr()&&new Promise(Q=>{const X=setTimeout(()=>{Q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),Q(!0)})})})).apply(this,arguments)}const ct={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=v.ax,Er="persistence";function lr(Q){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(Q){yield Q._initializationPromise;const X=Ot(),q=v.aA(Er,Q.config.apiKey,Q.name);X&&X.setItem(q,Q._getPersistence())})).apply(this,arguments)}function Ot(){var Q;try{return(null===(Q=function yr(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const Ht=v.ax;class On{constructor(){this.browserResolver=v.az(v.k),this.cordovaResolver=v.az(rt),this.underlyingResolver=null,this._redirectPersistence=v.a,this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(X){var q=this;return(0,g.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,q,we,Fe){var Et=this;return(0,g.Z)(function*(){return yield Et.selectUnderlyingResolver(),Et.assertedUnderlyingResolver._openPopup(X,q,we,Fe)})()}_openRedirect(X,q,we,Fe){var Et=this;return(0,g.Z)(function*(){return yield Et.selectUnderlyingResolver(),Et.assertedUnderlyingResolver._openRedirect(X,q,we,Fe)})()}_isIframeWebStorageSupported(X,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,q)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,g.Z)(function*(){if(X.underlyingResolver)return;const q=yield function ur(){return Ln.apply(this,arguments)}();X.underlyingResolver=q?X.cordovaResolver:X.browserResolver})()}}function pn(Q){return Q.unwrap()}function Tr(Q){return ri(Q)}function ri(Q){const{_tokenResponse:X}=Q instanceof de.ZR?Q.customData:Q;if(!X)return null;if(!(Q instanceof de.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return v.P.credentialFromResult(Q);const q=X.providerId;if(!q||q===v.o.PASSWORD)return null;let we;switch(q){case v.o.GOOGLE:we=v.Q;break;case v.o.FACEBOOK:we=v.N;break;case v.o.GITHUB:we=v.T;break;case v.o.TWITTER:we=v.W;break;default:const{oauthIdToken:Fe,oauthAccessToken:Et,oauthTokenSecret:le,pendingToken:ae,nonce:J}=X;return Et||le||Fe||ae?ae?q.startsWith("saml.")?v.aL._create(q,ae):v.J._fromParams({providerId:q,signInMethod:q,pendingToken:ae,idToken:Fe,accessToken:Et}):new v.U(q).credential({idToken:Fe,accessToken:Et,rawNonce:J}):null}return Q instanceof de.ZR?we.credentialFromError(Q):we.credentialFromResult(Q)}function rn(Q,X){return X.catch(q=>{throw q instanceof de.ZR&&function dr(Q,X){var q;const we=null===(q=X.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===X?.code)X.resolver=new Gt(Q,v.an(Q,X));else if(we){const Fe=ri(X),Et=X;Fe&&(Et.credential=Fe,Et.tenantId=we.tenantId||void 0,Et.email=we.email||void 0,Et.phoneNumber=we.phoneNumber||void 0)}}(Q,q),q}).then(q=>{const Fe=q.user;return{operationType:q.operationType,credential:Tr(q),additionalUserInfo:v.al(q),user:jn.getOrCreate(Fe)}})}function ii(Q,X){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(Q,X){const q=yield X;return{verificationId:q.verificationId,confirm:we=>rn(Q,q.confirm(we))}})).apply(this,arguments)}class Gt{constructor(X,q){this.resolver=q,this.auth=function or(Q){return Q.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return rn(pn(this.auth),this.resolver.resolveSignIn(X))}}class jn{constructor(X){this._delegate=X,this.multiFactor=v.ao(X)}static getOrCreate(X){return jn.USER_MAP.has(X)||jn.USER_MAP.set(X,new jn(X)),jn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var q=this;return(0,g.Z)(function*(){return rn(q.auth,v.Z(q._delegate,X))})()}linkWithPhoneNumber(X,q){var we=this;return(0,g.Z)(function*(){return ii(we.auth,v.l(we._delegate,X,q))})()}linkWithPopup(X){var q=this;return(0,g.Z)(function*(){return rn(q.auth,v.d(q._delegate,X,On))})()}linkWithRedirect(X){var q=this;return(0,g.Z)(function*(){return yield lr(v.aE(q.auth)),v.g(q._delegate,X,On)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var q=this;return(0,g.Z)(function*(){return rn(q.auth,v._(q._delegate,X))})()}reauthenticateWithPhoneNumber(X,q){return ii(this.auth,v.r(this._delegate,X,q))}reauthenticateWithPopup(X){return rn(this.auth,v.e(this._delegate,X,On))}reauthenticateWithRedirect(X){var q=this;return(0,g.Z)(function*(){return yield lr(v.aE(q.auth)),v.h(q._delegate,X,On)})()}sendEmailVerification(X){return v.ab(this._delegate,X)}unlink(X){var q=this;return(0,g.Z)(function*(){return yield v.ak(q._delegate,X),q})()}updateEmail(X){return v.ag(this._delegate,X)}updatePassword(X){return v.ah(this._delegate,X)}updatePhoneNumber(X){return v.u(this._delegate,X)}updateProfile(X){return v.af(this._delegate,X)}verifyBeforeUpdateEmail(X,q){return v.ac(this._delegate,X,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const lt=v.ax;let He=(()=>{class Q{constructor(q,we){if(this.app=q,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=q.options;lt(Fe,"invalid-api-key",{appName:q.name}),lt(Fe,"invalid-api-key",{appName:q.name});const Et=typeof window<"u"?On:void 0;this._delegate=we.initialize({options:{persistence:Ut(Fe,q.name),popupRedirectResolver:Et}}),this._delegate._updateErrorMap(v.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,we){v.G(this._delegate,q,we)}applyActionCode(q){return v.a2(this._delegate,q)}checkActionCode(q){return v.a3(this._delegate,q)}confirmPasswordReset(q,we){return v.a1(this._delegate,q,we)}createUserWithEmailAndPassword(q,we){var Fe=this;return(0,g.Z)(function*(){return rn(Fe._delegate,v.a5(Fe._delegate,q,we))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return v.aa(this._delegate,q)}isSignInWithEmailLink(q){return v.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,g.Z)(function*(){lt(Nn(),q._delegate,"operation-not-supported-in-this-environment");const we=yield v.j(q._delegate,On);return we?rn(q._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function ft(Q,X){(0,v.aE)(Q)._logFramework(X)}(this._delegate,q)}onAuthStateChanged(q,we,Fe){const{next:Et,error:le,complete:ae}=bt(q,we,Fe);return this._delegate.onAuthStateChanged(Et,le,ae)}onIdTokenChanged(q,we,Fe){const{next:Et,error:le,complete:ae}=bt(q,we,Fe);return this._delegate.onIdTokenChanged(Et,le,ae)}sendSignInLinkToEmail(q,we){return v.a7(this._delegate,q,we)}sendPasswordResetEmail(q,we){return v.a0(this._delegate,q,we||void 0)}setPersistence(q){var we=this;return(0,g.Z)(function*(){let Fe;switch(function cr(Q,X){Wn(Object.values(ct).includes(X),Q,"invalid-persistence-type"),(0,de.b$)()?Wn(X!==ct.SESSION,Q,"unsupported-persistence-type"):(0,de.UG)()?Wn(X===ct.NONE,Q,"unsupported-persistence-type"):jt()?Wn(X===ct.NONE||X===ct.LOCAL&&(0,de.hl)(),Q,"unsupported-persistence-type"):Wn(X===ct.NONE||In(),Q,"unsupported-persistence-type")}(we._delegate,q),q){case ct.SESSION:Fe=v.a;break;case ct.LOCAL:Fe=(yield v.az(v.i)._isAvailable())?v.i:v.b;break;case ct.NONE:Fe=v.L;break;default:return v.as("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return rn(this._delegate,v.X(this._delegate))}signInWithCredential(q){return rn(this._delegate,v.Y(this._delegate,q))}signInWithCustomToken(q){return rn(this._delegate,v.$(this._delegate,q))}signInWithEmailAndPassword(q,we){return rn(this._delegate,v.a6(this._delegate,q,we))}signInWithEmailLink(q,we){return rn(this._delegate,v.a9(this._delegate,q,we))}signInWithPhoneNumber(q,we){return ii(this._delegate,v.s(this._delegate,q,we))}signInWithPopup(q){var we=this;return(0,g.Z)(function*(){return lt(Nn(),we._delegate,"operation-not-supported-in-this-environment"),rn(we._delegate,v.c(we._delegate,q,On))})()}signInWithRedirect(q){var we=this;return(0,g.Z)(function*(){return lt(Nn(),we._delegate,"operation-not-supported-in-this-environment"),yield lr(we._delegate),v.f(we._delegate,q,On)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return v.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=ct,Q})();function bt(Q,X,q){let we=Q;"function"!=typeof Q&&({next:we,error:X,complete:q}=Q);const Fe=we;return{next:le=>Fe(le&&jn.getOrCreate(le)),error:X,complete:q}}function Ut(Q,X){const q=function Vt(Q,X){const q=Ot();if(!q)return[];const we=v.aA(Er,Q,X);switch(q.getItem(we)){case ct.NONE:return[v.L];case ct.LOCAL:return[v.i,v.a];case ct.SESSION:return[v.a];default:return[]}}(Q,X);if(typeof self<"u"&&!q.includes(v.i)&&q.push(v.i),typeof window<"u")for(const we of[v.b,v.a])q.includes(we)||q.push(we);return q.includes(v.L)||q.push(v.L),q}class $t{constructor(){this.providerId="phone",this._delegate=new v.P(pn(H.Z.auth()))}static credential(X,q){return v.P.credential(X,q)}verifyPhoneNumber(X,q){return this._delegate.verifyPhoneNumber(X,q)}unwrap(){return this._delegate}}$t.PHONE_SIGN_IN_METHOD=v.P.PHONE_SIGN_IN_METHOD,$t.PROVIDER_ID=v.P.PROVIDER_ID;const sn=v.ax;class Vn{constructor(X,q,we=H.Z.app()){var Fe;sn(null===(Fe=we.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new v.R(X,q,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(Q){Q.INTERNAL.registerComponent(new Ce.wA("auth-compat",X=>{const q=X.getProvider("app-compat").getImmediate(),we=X.getProvider("auth");return new He(q,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:v.A.EMAIL_SIGNIN,PASSWORD_RESET:v.A.PASSWORD_RESET,RECOVER_EMAIL:v.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:v.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:v.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:v.A.VERIFY_EMAIL}},EmailAuthProvider:v.M,FacebookAuthProvider:v.N,GithubAuthProvider:v.T,GoogleAuthProvider:v.Q,OAuthProvider:v.U,SAMLAuthProvider:v.V,PhoneAuthProvider:$t,PhoneMultiFactorGenerator:v.m,RecaptchaVerifier:Vn,TwitterAuthProvider:v.W,Auth:He,AuthCredential:v.H,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.3.5")}(H.Z)},8766:(It,Re,j)=>{j.d(Re,{Lj:()=>ke,X3:()=>et});var g=j(5861);let v,de;const Ce=new WeakMap,Ie=new WeakMap,Te=new WeakMap,oe=new WeakMap,se=new WeakMap;let $e={get(Se,je,pt){if(Se instanceof IDBTransaction){if("done"===je)return Ie.get(Se);if("objectStoreNames"===je)return Se.objectStoreNames||Te.get(Se);if("store"===je)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return qe(Se[je])},set:(Se,je,pt)=>(Se[je]=pt,!0),has:(Se,je)=>Se instanceof IDBTransaction&&("done"===je||"store"===je)||je in Se};function Le(Se){return"function"==typeof Se?function Dt(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...je){return Se.apply(Ze(this),je),qe(Ce.get(this))}:function(...je){return qe(Se.apply(Ze(this),je))}:function(je,...pt){const ot=Se.call(Ze(this),je,...pt);return Te.set(ot,je.sort?je.sort():[je]),qe(ot)}}(Se):(Se instanceof IDBTransaction&&function tt(Se){if(Ie.has(Se))return;const je=new Promise((pt,ot)=>{const gt=()=>{Se.removeEventListener("complete",mt),Se.removeEventListener("error",Ae),Se.removeEventListener("abort",Ae)},mt=()=>{pt(),gt()},Ae=()=>{ot(Se.error||new DOMException("AbortError","AbortError")),gt()};Se.addEventListener("complete",mt),Se.addEventListener("error",Ae),Se.addEventListener("abort",Ae)});Ie.set(Se,je)}(Se),((Se,je)=>je.some(pt=>Se instanceof pt))(Se,function he(){return v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,$e):Se)}function qe(Se){if(Se instanceof IDBRequest)return function fe(Se){const je=new Promise((pt,ot)=>{const gt=()=>{Se.removeEventListener("success",mt),Se.removeEventListener("error",Ae)},mt=()=>{pt(qe(Se.result)),gt()},Ae=()=>{ot(Se.error),gt()};Se.addEventListener("success",mt),Se.addEventListener("error",Ae)});return je.then(pt=>{pt instanceof IDBCursor&&Ce.set(pt,Se)}).catch(()=>{}),se.set(je,Se),je}(Se);if(oe.has(Se))return oe.get(Se);const je=Le(Se);return je!==Se&&(oe.set(Se,je),se.set(je,Se)),je}const Ze=Se=>se.get(Se);function et(Se,je,{blocked:pt,upgrade:ot,blocking:gt,terminated:mt}={}){const Ae=indexedDB.open(Se,je),Pe=qe(Ae);return ot&&Ae.addEventListener("upgradeneeded",Ve=>{ot(qe(Ae.result),Ve.oldVersion,Ve.newVersion,qe(Ae.transaction))}),pt&&Ae.addEventListener("blocked",()=>pt()),Pe.then(Ve=>{mt&&Ve.addEventListener("close",()=>mt()),gt&&Ve.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Pe}function ke(Se,{blocked:je}={}){const pt=indexedDB.deleteDatabase(Se);return je&&pt.addEventListener("blocked",()=>je()),qe(pt).then(()=>{})}const Ke=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],ut=new Map;function pe(Se,je){if(!(Se instanceof IDBDatabase)||je in Se||"string"!=typeof je)return;if(ut.get(je))return ut.get(je);const pt=je.replace(/FromIndex$/,""),ot=je!==pt,gt=Be.includes(pt);if(!(pt in(ot?IDBIndex:IDBObjectStore).prototype)||!gt&&!Ke.includes(pt))return;const mt=function(){var Ae=(0,g.Z)(function*(Pe,...Ve){const ze=this.transaction(Pe,gt?"readwrite":"readonly");let rt=ze.store;return ot&&(rt=rt.index(Ve.shift())),(yield Promise.all([rt[pt](...Ve),gt&&ze.done]))[0]});return function(Ve){return Ae.apply(this,arguments)}}();return ut.set(je,mt),mt}!function nt(Se){$e=Se($e)}(Se=>({...Se,get:(je,pt,ot)=>pe(je,pt)||Se.get(je,pt,ot),has:(je,pt)=>!!pe(je,pt)||Se.has(je,pt)}))},5861:(It,Re,j)=>{function g(v,de,he,ye,Ce,Ie,Te){try{var oe=v[Ie](Te),se=oe.value}catch(fe){return void he(fe)}oe.done?de(se):Promise.resolve(se).then(ye,Ce)}function H(v){return function(){var de=this,he=arguments;return new Promise(function(ye,Ce){var Ie=v.apply(de,he);function Te(se){g(Ie,ye,Ce,Te,oe,"next",se)}function oe(se){g(Ie,ye,Ce,Te,oe,"throw",se)}Te(void 0)})}}j.d(Re,{Z:()=>H})}},It=>{It(It.s=1178)}]);